{"version":3,"sources":["webpack:///webpack/bootstrap d86f40427261522691a9","webpack:///./node_modules/gl-matrix/src/gl-matrix.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/common.js","webpack:///./src/entities/models/basicmodel.ts","webpack:///./src/lib/OBJ/index.js","webpack:///./src/lib/OBJ/layout.js","webpack:///./src/entities/entity.ts","webpack:///./node_modules/gl-matrix/src/gl-matrix/mat3.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/vec3.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/vec4.js","webpack:///./src/shader.ts","webpack:///./src/lib/OBJ/mesh.js","webpack:///./src/lib/OBJ/material.js","webpack:///./src/entities/disk.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/main.ts","webpack:///./node_modules/gl-matrix/src/gl-matrix/mat2.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/mat2d.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/mat4.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/quat.js","webpack:///./node_modules/gl-matrix/src/gl-matrix/vec2.js","webpack:///./src/camera.ts","webpack:///./src/entities/player.ts","webpack:///./src/entities/models/playermodel.ts","webpack:///./src/lib/OBJ/utils.js","webpack:///./src/lib/guid.ts","webpack:///./src/entities/world.ts","webpack:///./src/entities/models/meshlessmodel.ts","webpack:///./src/random.ts","webpack:///./src/noisefield.ts","webpack:///./src/entities/models/diskmodel.ts","webpack:///./assets/models/environment/disks/Disks.mtl","webpack:///./assets/worlds/maps/Basic.txt","webpack:///./src/entities/skybox.ts","webpack:///./src/entities/models/skyboxmodel.ts","webpack:///./src/Renderer.ts","webpack:///./src/basicmodelshader.ts","webpack:///./node_modules/assert/assert.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./src/lib/MainLoop/mainloop.js","webpack:///./src/shaders/basic.vert","webpack:///./src/shaders/basic.frag","webpack:///./src/shaders/basicmodel.vert","webpack:///./src/shaders/basicmodelmanylights.frag"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpCA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;;;;;;;;;AC7DA,2CAAqC;AAErC,IAAI,GAAG,GAAG,mBAAO,CAAC,CAAwB,CAAC,CAAC;AAQ5C;IASI,YAAY,IAAU;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,gBAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACpD,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,EAA0B,EAAE,MAAwB;QACtE,IAAI,CAAC,MAAM,GAAE,M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ACA,eAAe,OAAO;AACtB;AACA;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO,4BAA4B,gBAAgB;AAC9D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB;AACA,sDAAsD,WAAW;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC7PA,2CAAqC;AACrC,uCAAiC;AAEjC,IAAY,UAGX;AAHD,WAAY,UAAU;IAClB,6CAAS;IACT,mDAAY;AAChB,CAAC,EAHW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAGrB;AAGD;IASI,YAAY,GAAQ,EAAE,KAAU,EAAE,OAAY,EAAE,SAAgB,EAAE,UAAqB;QACnF,IAAI,CAAC,EAAE,GAAG,WAAI,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,gBAAI,CAAC,UAAU,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,gBAAI,CAAC,MAAM,EAAE,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IACjC,CAAC;CACJ;AAjBD,wBAiBC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BD;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,MAAM;AACjB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,KAAK;AACf,UAAU,KAAK;AACf;AACA,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAU,KAAK;AACf,UAAU,KAAK;AACf;AACA,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5vBA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,mBAAmB,OAAO;AAC1B,oBAAoB,iBAAiB;AACrC;AACA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvwBD;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,mBAAmB,OAAO;AAC1B,oBAAoB,iBAAiB,iBAAiB;AACtD;AACA,oBAAoB,iBAAiB,iBAAiB;AACtD;;AAEA;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;;;ACzlBD;IAII,YAAY,EAA0B,EAAE,gBAAwB,EAAE,kBAA0B;QACxF,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QAEb,IAAI,YAAY,GAAgB,SAAS,CAAC,EAAE,EAAE,gBAAgB,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC;QAClF,IAAI,cAAc,GAAgB,SAAS,CAAC,EAAE,EAAE,kBAAkB,EAAE,EAAE,CAAC,eAAe,CAAC,CAAC;QAExF,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC;QAC7B,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;QACvC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;QACzC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAExB,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,WAAW,CAAC,EAAE;YAClD,KAAK,CAAC,8BAA8B,CAAC,CAAC;SACzC;IAGL,CAAC;IAED,GAAG;QACC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,aAAa,CAAC,IAAY,EAAE,KAAc;QACtC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,CAAC;IAED,OAAO,CAAC,EAAiC,EAAE,KAAc;QACrD,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,MAAM,CAAC,EAAiC,EAAE,KAAa;QACnD,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IACjC,CAAC;IACD,YAAY,CAAC,IAAY,EAAE,KAAa;QACpC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC;IAGD,OAAO,CAAC,EAAiC,EAAE,KAAe;QACtD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IAClC,CAAC;IAED,aAAa,CAAC,IAAY,EAAE,KAAe;QACvC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC7D,CAAC;IAED,QAAQ,CAAC,EAAiC,EAAE,KAAa;QACrD,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IACjC,CAAC;IACD,cAAc,CAAC,IAAY,EAAE,KAAa;QACtC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC;IAED,kBAAkB,CAAC,IAAY;QAC3B,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAClD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,OAAO,CAAC,EAAiC,EAAE,MAAuB;QAC9D,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAChD,CAAC;IAED,aAAa,CAAC,IAAY,EAAE,MAAuB;QAC/C,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAC3E,CAAC;IAED,OAAO,CAAC,EAAiC,EAAE,GAAmB;QAC1D,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;IAChC,CAAC;IAED,aAAa,CAAE,IAAY,EAAE,GAAmB;QAC5C,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IAC3D,CAAC;IAED,OAAO,CAAC,EAAiC,EAAE,GAAmB;QAC1D,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;IAChC,CAAC;IAED,aAAa,CAAC,IAAY,EAAE,GAAmB;QAC3C,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IAC3D,CAAC;CAEJ;AAtFD,wBAsFC;AAED,mBAAmB,EAA0B,EAAE,UAAU,EAAE,IAAI;IAC3D,IAAI,MAAmB,CAAC;IACxB,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IAG/B,EAAE,CAAC,YAAY,CAAC,MAAM,EAAC,UAAU,CAAC,CAAC;IAEnC,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAEzB,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC,MAAM,EAAE,EAAE,CAAC,cAAc,CAAC,EAAE;QACnD,KAAK,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC;KACf;IACD,OAAO,MAAM,CAAC;AAClB,CAAC;;;;;;;;;AC1Gc;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,oDAAoD;AACxE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oDAAoD;;AAEpE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY,OAAO,aAAa,aAAa;AAC7C;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;ACpdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,YAAY,iBAAiB;AAC7B,WAAW,iBAAiB;AAC5B,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA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A;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChbA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjdA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,WAAW,WAAW;AAClC;AACA;AACA;AACA;;AAEA,YAAY,WAAW,YAAY;AACnC;AACA;AACA;AACA;;AAEA,aAAa,YAAY,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,eAAe,YAAY,YAAY;AACvC,eAAe,YAAY,YAAY;AACvC,eAAe,YAAY,aAAa;;AAExC,iBAAiB,cAAc,cAAc;AAC7C,iBAAiB,cAAc,cAAc;AAC7C,iBAAiB,cAAc,eAAe;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yEAAyC,aAAa;;AAEtD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,YAAY,YAAY;AACrC,aAAa,YAAY,YAAY;AACrC,aAAa,YAAY,aAAa;;AAEtC;AACA,sBAAsB,yBAAyB;AAC/C,0BAA0B,qBAAqB;AAC/C,0BAA0B,yBAAyB;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA,yEAAyC,aAAa;;AAEtD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AChpDA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA,sBAAsB;AACtB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjnBD;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,MAAM;AACjB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AAAA;AAAA;;AAEA;AACA,cAAc;AACd;AACA;A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AU;IAEvC,YAAY,IAAU;QAClB,KAAK,CAAC,IAAI,CAAC,CAAC;IAChB,CAAC;IAED,IAAI,CAAC,EAA0B;QAC3B,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAEf,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QACzB,kCAAkC;QAClC,+DAA+D;QAC/D,IAAI;IACR,CAAC;CAEJ;AAfD,kCAeC;;;;;;;;;;;;;;;;;ACjBD;AACkC;AACnB;;;AAGf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,oDAAoD,IAAI;AACxD,OAAO;AACP;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,iCAAiC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,SAAS;AACpB;AACA,WAAW,OAAO,uKAAuK;AACzL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACxVA;IACI,MAAM,CAAC,OAAO;QACV,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,UAAS,CAAC;YACrE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAC,EAAE,GAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAAC,GAAG,CAAC,CAAC;YAC3D,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAPD,oBAOC;;;;;;;;;;;;;;;;;;ACPD,uCAAqC;A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;AACA;AACA;;AAEA;;AAEA;AACA,8BAA8B;AAC9B;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gDAAgD;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gCAAgC,oBAAoB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACzkBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB,KAAK,wBAAwB;AAC3E,KAAK,oBAAoB,SAAS,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,QAAQ,wBAAwB;AAChC;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,wBAAwB;AACnE;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,QAAQ,wBAAwB;AAChC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wBAAwB;AACrC;AACA;AACA;AACA,yCAAyC,kBAAkB;AAC3D;AACA,MAAM,wBAAwB,OAAO,oBAAoB;AACzD;AACA,aAAa,SAAS;AACtB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM,wBAAwB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,wBAAwB;AACrC;AACA;AACA;AACA,MAAM,sBAAsB;AAC5B;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA,aAAa,SAAS;AACtB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,Q;;;;;;ACnvBD,wEAAwE,4CAA4C,0BAA0B,2BAA2B,gCAAgC,wBAAwB,gEAAgE,6BAA6B,KAAK,I;;;;;;ACAnU,8DAA8D,uBAAuB,yBAAyB,mCAAmC,0BAA0B,wBAAwB,wEAAwE,+CAA+C,uCAAuC,C;;;;;;ACAjW,mEAAmE,6BAA6B,8CAA8C,4BAA4B,mCAAmC,+BAA+B,+CAA+C,8CAA8C,2CAA2C,8BAA8B,uBAAuB,oBAAoB,uBAAuB,wBAAwB,qCAAqC,qCAAqC,oCAAoC,4DAA4D,sEAAsE,WAAW,qEAAqE,0CAA0C,8BAA8B,oEAAoE,8DAA8D,2EAA2E,KAAK,K;;;;;;ACAtkC,8DAA8D,kCAAkC,yBAAyB,wDAAwD,uCAAuC,mCAAmC,kCAAkC,kCAAkC,mCAAmC,oCAAoC,2DAA2D,6BAA6B,4BAA4B,4BAA4B,6BAA6B,wBAAwB,iCAAiC,8BAA8B,UAAU,+BAA+B,yBAAyB,wBAAwB,sBAAsB,qBAAqB,qBAAqB,sBAAsB,yBAAyB,MAAM,0CAA0C,yBAAyB,sBAAsB,mBAAmB,sBAAsB,2BAA2B,wBAAwB,4DAA4D,uDAAuD,2HAA2H,4FAA4F,4FAA4F,4FAA4F,4FAA4F,oHAAoH,yDAAyD,wDAAwD,wDAAwD,wDAAwD,wDAAwD,kDAAkD,wFAAwF,oFAAoF,oFAAoF,oFAAoF,oFAAoF,oFAAoF,oDAAoD,wDAAwD,wEAAwE,iBAAiB,8CAA8C,oCAAoC,kCAAkC,8GAA8G,yBAAyB,qEAAqE,8DAA8D,2DAA2D,6NAA6N,WAAW,sIAAsI,qDAAqD,8GAA8G,2HAA2H,yKAAyK,2EAA2E,iDAAiD,qGAAqG,mDAAmD,mDAAmD,mDAAmD,mQAAmQ,eAAe,wDAAwD,iFAAiF,SAAS,gHAAgH,iFAAiF,6EAA6E,iFAAiF,KAAK,K","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d86f40427261522691a9","/**\n * @fileoverview gl-matrix - High performance matrix and vector operations\n * @author Brandon Jones\n * @author Colin MacKenzie IV\n * @version 2.4.0\n */\n\n/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n// END HEADER\n\nimport * as glMatrix from \"./gl-matrix/common\";\nimport * as mat2 from \"./gl-matrix/mat2\";\nimport * as mat2d from \"./gl-matrix/mat2d\";\nimport * as mat3 from \"./gl-matrix/mat3\";\nimport * as mat4 from \"./gl-matrix/mat4\";\nimport * as quat from \"./gl-matrix/quat\";\nimport * as vec2 from \"./gl-matrix/vec2\";\nimport * as vec3 from \"./gl-matrix/vec3\";\nimport * as vec4 from \"./gl-matrix/vec4\";\n\nexport {\n  glMatrix,\n  mat2, mat2d, mat3, mat4,\n  quat,\n  vec2, vec3, vec4,\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix.js\n// module id = 0\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\n/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nexport const EPSILON = 0.000001;\nexport let ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\nexport const RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\n\nconst degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nexport function toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON*Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/common.js\n// module id = 1\n// module chunks = 0","import {mat4, vec3} from \"gl-matrix\";\r\n\r\nlet OBJ = require('../../lib/OBJ/index.js');\r\nimport {Mesh} from '../../lib/OBJ/index.js'\r\nimport {Shader} from '../../shader';\r\nimport {BasicModelShader} from \"../../basicmodelshader\";\r\n\r\n\r\n\r\n\r\nexport class BasicModel {\r\n    VAO: WebGLVertexArrayObject;\r\n    mesh: Mesh;\r\n    initialized: Boolean;\r\n    rotation_offset: vec3;\r\n    textures: Array<WebGLTexture>;\r\n    static shader: BasicModelShader;\r\n    static emptyTexture: WebGLTexture;\r\n\r\n    constructor(mesh: Mesh) {\r\n        this.mesh = mesh;\r\n        this.initialized = false;\r\n        this.rotation_offset = vec3.fromValues(0, 0, 0);\r\n    }\r\n\r\n    static initWithShader(gl: WebGL2RenderingContext, shader: BasicModelShader) {\r\n        this.shader= shader;\r\n\r\n        gl.bindAttribLocation(shader.ID, 0, \"a_vertex\");\r\n        gl.bindAttribLocation(shader.ID, 1, \"a_tex_coord\");\r\n        gl.bindAttribLocation(shader.ID, 2, \"a_normal\");\r\n        // gl.bindAttribLocation(shader.ID, 3, \"a_vertex1\");\r\n        // gl.bindAttribLocation(shader.ID, 4, \"a_normal1\");\r\n\r\n        gl.bindVertexArray(null);\r\n        BasicModel.emptyTexture = gl.createTexture();\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n        const pixel = new Uint8Array([0, 0, 0, 255]);  // black\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE, pixel);\r\n\r\n        \r\n\r\n    }\r\n\r\n    static setMVPMatrices(model: mat4, view: mat4, projection: mat4) {\r\n        let mvp_matrix = mat4.create();\r\n        mat4.mul(mvp_matrix, view, model);\r\n        mat4.mul(mvp_matrix, projection, mvp_matrix);\r\n        this.shader.setMat4(this.shader.uniforms.model_matrix, model);\r\n        //  BasicModel.shader.setMat4(BasicModel.uniforms.view_matrix, view);\r\n        this.shader.setMat4(this.shader.uniforms.model_view_projection_matrix, mvp_matrix);\r\n    }\r\n\r\n    static use(gl: WebGL2RenderingContext) {\r\n\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        this.VAO = gl.createVertexArray();\r\n        OBJ.initMeshBuffers(gl, this.mesh);\r\n        gl.bindVertexArray(this.VAO);\r\n        gl.enableVertexAttribArray(0);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.mesh.vertexBuffer);\r\n        gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);\r\n\r\n        gl.enableVertexAttribArray(1);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.mesh.textureBuffer);\r\n        gl.vertexAttribPointer(1, 2, gl.FLOAT, true, 0, 0);\r\n\r\n        gl.enableVertexAttribArray(2);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.mesh.normalBuffer);\r\n        gl.vertexAttribPointer(2, 3, gl.FLOAT, false, 0, 0);\r\n        //\r\n        // gl.disableVertexAttribArray(3);\r\n        // gl.disableVertexAttribArray(4);\r\n\r\n        this.textures = [];\r\n\r\n\r\n        this.initialized = true;\r\n    }\r\n\r\n\r\n    initAllTextures(gl: WebGL2RenderingContext) {\r\n        for (let i = 0; i < this.mesh.materialNames.length; i++) {\r\n            if (this.mesh.materialsByIndex[i].mapDiffuse) {\r\n                if (this.mesh.materialsByIndex[i].mapDiffuse.texture.complete) {\r\n                    this.mesh.materialsByIndex[i].mapDiffuse.texture_id = this.loadTexture(gl, i, this.mesh.materialsByIndex[i].mapDiffuse.texture);\r\n                } else {\r\n                    this.mesh.materialsByIndex[i].mapDiffuse.texture.addEventListener('load', () => {\r\n                        this.mesh.materialsByIndex[i].mapDiffuse.texture_id = this.loadTexture(gl, i, this.mesh.materialsByIndex[i].mapDiffuse.texture);\r\n                    });\r\n                }\r\n            }\r\n            if (this.mesh.materialsByIndex[i].mapAmbient) {\r\n                if (this.mesh.materialsByIndex[i].mapAmbient.texture.complete) {\r\n                    this.mesh.materialsByIndex[i].mapAmbient.texture_id = this.loadTexture(gl, i, this.mesh.materialsByIndex[i].mapAmbient.texture);\r\n                } else {\r\n                    this.mesh.materialsByIndex[i].mapAmbient.texture.addEventListener('load', () => {\r\n                        this.mesh.materialsByIndex[i].mapAmbient.texture_id = this.loadTexture(gl, i, this.mesh.materialsByIndex[i].mapAmbient.texture);\r\n                    });\r\n                }\r\n            }\r\n            if (this.mesh.materialsByIndex[i].mapEmissive) {\r\n                if (this.mesh.materialsByIndex[i].mapEmissive.texture.complete) {\r\n                    this.mesh.materialsByIndex[i].mapEmissive.texture_id = this.loadTexture(gl, i, this.mesh.materialsByIndex[i].mapEmissive.texture);\r\n                } else {\r\n                    this.mesh.materialsByIndex[i].mapEmissive.texture.addEventListener('load', () => {\r\n                        this.mesh.materialsByIndex[i].mapEmissive.texture_id = this.loadTexture(gl, i, this.mesh.materialsByIndex[i].mapEmissive.texture);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    initTexture(gl: WebGL2RenderingContext, texture_num: number, flip: boolean = true) {\r\n\r\n        if (!this.mesh.materialsByIndex[texture_num]) return false;\r\n        if (this.mesh.materialsByIndex[texture_num].mapDiffuse.texture.complete) {\r\n            this.loadTexture(gl, texture_num, this.mesh.materialsByIndex[texture_num].mapDiffuse.texture);\r\n        } else {\r\n            this.mesh.materialsByIndex[texture_num].mapDiffuse.texture.addEventListener('load', () => {\r\n                this.loadTexture(gl, texture_num, this.mesh.materialsByIndex[texture_num].mapDiffuse.texture);\r\n            });\r\n        }\r\n        return true\r\n    }\r\n\r\n    loadTexture(gl: WebGL2RenderingContext, texture_num: number, texture: any, flip: boolean = true) {\r\n        let texture_id = gl.createTexture();\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, texture_id);\r\n        if (flip)\r\n            gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, texture);\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\r\n        this.textures[texture_num] = texture_id;\r\n        return texture_id;\r\n\r\n    }\r\n\r\n    setTexture(texture: WebGLTexture, texture_num: number) {\r\n        this.textures[texture_num] = texture;\r\n    }\r\n\r\n    draw(gl: WebGL2RenderingContext) {\r\n        this.activateBuffers(gl);\r\n\r\n        this.textures.forEach((texture, index) => {\r\n            let is = this.mesh.vertexBuffer.itemSize;\r\n            let submesh = this.mesh.submesh[index];\r\n            this.activateMaterial(gl, index);\r\n            let byteSize = 2;\r\n            gl.drawElements(gl.TRIANGLES, is * submesh.numItems, gl.UNSIGNED_SHORT, submesh.offset * is * byteSize);\r\n        });\r\n\r\n        gl.bindVertexArray(null);\r\n    }\r\n\r\n    activateBuffers(gl: WebGL2RenderingContext){\r\n        gl.bindVertexArray(this.VAO);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.mesh.indexBuffer);\r\n    }\r\n    \r\n    drawActivatedMaterial(gl: WebGL2RenderingContext, index: number) {\r\n        let is = this.mesh.vertexBuffer.itemSize;\r\n        let submesh = this.mesh.submesh[index];\r\n        let byteSize = 2;\r\n        gl.drawElements(gl.TRIANGLES, is * submesh.numItems, gl.UNSIGNED_SHORT, submesh.offset * is * byteSize);\r\n       \r\n    }\r\n\r\n\r\n    activateMaterial(gl: WebGL2RenderingContext, index: number) {\r\n        if (this.mesh.materialsByIndex[index].isTextureActive[0] && this.mesh.materialsByIndex[index].mapTransparency.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE0);  // transparency\r\n            gl.bindTexture(gl.TEXTURE_2D, this.mesh.materialsByIndex[index].mapTransparency.texture_id);\r\n        }\r\n        if (this.mesh.materialsByIndex[index].isTextureActive[1] && this.mesh.materialsByIndex[index].mapEmissive.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE1);  // emission\r\n            gl.bindTexture(gl.TEXTURE_2D, this.mesh.materialsByIndex[index].mapEmissive.texture_id);\r\n        }\r\n\r\n        if (this.mesh.materialsByIndex[index].isTextureActive[2] && this.mesh.materialsByIndex[index].mapAmbient.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE2);  // ambient\r\n            gl.bindTexture(gl.TEXTURE_2D, this.mesh.materialsByIndex[index].mapAmbient.texture_id);\r\n        }\r\n        if (this.mesh.materialsByIndex[index].isTextureActive[3] && this.mesh.materialsByIndex[index].mapDiffuse.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE3);  // diffuse\r\n            gl.bindTexture(gl.TEXTURE_2D, this.mesh.materialsByIndex[index].mapDiffuse.texture_id);\r\n        }\r\n        if (this.mesh.materialsByIndex[index].isTextureActive[4] && this.mesh.materialsByIndex[index].mapSpecular.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE4);  // specular\r\n            gl.bindTexture(gl.TEXTURE_2D, this.mesh.materialsByIndex[index].mapSpecular.texture_id);\r\n        }\r\n        if (this.mesh.materialsByIndex[index].isTextureActive[5] && this.mesh.materialsByIndex[index].mapSpecularExponent.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE5);  // shininess\r\n            gl.bindTexture(gl.TEXTURE_2D, this.mesh.materialsByIndex[index].mapSpecularExponent.texture_id);\r\n        }\r\n\r\n\r\n        BasicModel.shader.setFloat(BasicModel.shader.uniforms.material_transparency, this.mesh.materialsByIndex[index].transparency);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_ambient_colour, this.mesh.materialsByIndex[index].ambient);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_diffuse_colour, this.mesh.materialsByIndex[index].diffuse);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_specular_colour, this.mesh.materialsByIndex[index].specular);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_emissive_colour, this.mesh.materialsByIndex[index].emissive);\r\n        BasicModel.shader.setFloat(BasicModel.shader.uniforms.material_shininess, this.mesh.materialsByIndex[index].specularExponent);\r\n        BasicModel.shader.setIntV(BasicModel.shader.uniforms.material_is_texture_active, this.mesh.materialsByIndex[index].isTextureActive);\r\n\r\n\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/models/basicmodel.ts","import Mesh from './mesh';\r\nimport {Material, MaterialLibrary} from './material';\r\nimport {Layout} from './layout';\r\nimport {downloadModels, downloadMeshes,\r\n        initMeshBuffers, deleteMeshBuffers, downloadMtlTextures} from './utils';\r\n\r\n\r\n/**\r\n * @namespace\r\n */\r\nexport {\r\n    Mesh,\r\n    Material,\r\n    MaterialLibrary,\r\n    Layout,\r\n\r\n    downloadModels,\r\n    downloadMeshes,\r\n    initMeshBuffers,\r\n    deleteMeshBuffers,\r\n    downloadMtlTextures\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/OBJ/index.js\n// module id = 3\n// module chunks = 0","/**\r\n * A class to represent the memory layout for a vertex attribute array. Used by\r\n * {@link Mesh}'s TBD(...) method to generate a packed array from mesh data.\r\n * <p>\r\n * Layout can sort of be thought of as a C-style struct declaration.\r\n * {@link Mesh}'s TBD(...) method will use the {@link Layout} instance to\r\n * pack an array in the given attribute order.\r\n * <p>\r\n * Layout also is very helpful when calling a WebGL context's\r\n * <code>vertexAttribPointer</code> method. If you've created a buffer using\r\n * a Layout instance, then the same Layout instance can be used to determine\r\n * the size, type, normalized, stride, and offset parameters for\r\n * <code>vertexAttribPointer</code>.\r\n * <p>\r\n * For example:\r\n * <pre><code>\r\n *\r\n * const index = glctx.getAttribLocation(shaderProgram, \"pos\");\r\n * glctx.vertexAttribPointer(\r\n *   layout.position.size,\r\n *   glctx[layout.position.type],\r\n *   layout.position.normalized,\r\n *   layout.position.stride,\r\n *   layout.position.offset);\r\n * </code></pre>\r\n * @see {@link Mesh}\r\n */\r\nexport class Layout {\r\n    /**\r\n     * Create a Layout object. This constructor will throw if any duplicate\r\n     * attributes are given.\r\n     * @param {Array} ...attributes - An ordered list of attributes that\r\n     *        describe the desired memory layout for each vertex attribute.\r\n     *        <p>\r\n     *\r\n     * @see {@link Mesh}\r\n     */\r\n    constructor(...attributes) {\r\n        this.attributes = attributes;\r\n        let offset = 0;\r\n        let maxStrideMultiple = 0;\r\n        for (const attribute of attributes) {\r\n            if (this[attribute.key]) {\r\n                throw new DuplicateAttributeException(attribute);\r\n            }\r\n            // Add padding to satisfy WebGL's requirement that all\r\n            // vertexAttribPointer calls have an offset that is a multiple of\r\n            // the type size.\r\n            if (offset % attribute.sizeOfType !== 0) {\r\n                offset += attribute.sizeOfType - offset % attribute.sizeOfType;\r\n                console.warn('Layout requires padding before ' + attribute.key + ' attribute');\r\n            }\r\n            this[attribute.key] = {\r\n                'attribute': attribute,\r\n                'size': attribute.size,\r\n                'type': attribute.type,\r\n                'normalized': attribute.normalized,\r\n                'offset': offset,\r\n            };\r\n            offset += attribute.sizeInBytes;\r\n            maxStrideMultiple = Math.max(\r\n                maxStrideMultiple,\r\n                attribute.sizeOfType);\r\n        }\r\n        // Add padding to the end to satisfy WebGL's requirement that all\r\n        // vertexAttribPointer calls have a stride that is a multiple of the\r\n        // type size. Because we're putting differently sized attributes into\r\n        // the same buffer, it must be padded to a multiple of the largest\r\n        // type size.\r\n        if (offset % maxStrideMultiple !== 0) {\r\n            offset += maxStrideMultiple - offset % maxStrideMultiple;\r\n            console.warn('Layout requires padding at the back');\r\n        }\r\n        this.stride = offset;\r\n        for (const attribute of attributes) {\r\n            this[attribute.key].stride = this.stride;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * An exception for when two or more of the same attributes are found in the\r\n * same layout.\r\n * @private\r\n */\r\nclass DuplicateAttributeException {\r\n    /**\r\n     * Create a DuplicateAttributeException\r\n     * @param {Attribute} attribute - The attribute that was found more than\r\n     *        once in the {@link Layout}\r\n     */\r\n    constructor(attribute) {\r\n        this.message = 'found duplicate attribute: ' + attribute.key;\r\n    }\r\n}\r\n\r\n/**\r\n * Represents how a vertex attribute should be packed into an buffer.\r\n * @private\r\n */\r\nclass Attribute {\r\n    /**\r\n     * Create an attribute. Do not call this directly, use the predefined\r\n     * constants.\r\n     * @param {string} key - The name of this attribute as if it were a key in\r\n     *        an Object. Use the camel case version of the upper snake case\r\n     *        const name.\r\n     * @param {number} size - The number of components per vertex attribute.\r\n     *        Must be 1, 2, 3, or 4.\r\n     * @param {string} type - The data type of each component for this\r\n     *        attribute. Possible values:<br/>\r\n     *        \"BYTE\": signed 8-bit integer, with values in [-128, 127]<br/>\r\n     *        \"SHORT\": signed 16-bit integer, with values in\r\n     *            [-32768, 32767]<br/>\r\n     *        \"UNSIGNED_BYTE\": unsigned 8-bit integer, with values in\r\n     *            [0, 255]<br/>\r\n     *        \"UNSIGNED_SHORT\": unsigned 16-bit integer, with values in\r\n     *            [0, 65535]<br/>\r\n     *        \"FLOAT\": 32-bit floating point number\r\n     * @param {boolean} normalized - Whether integer data values should be\r\n     *        normalized when being casted to a float.<br/>\r\n     *        If true, signed integers are normalized to [-1, 1].<br/>\r\n     *        If true, unsigned integers are normalized to [0, 1].<br/>\r\n     *        For type \"FLOAT\", this parameter has no effect.\r\n     */\r\n    constructor(key, size, type, normalized=false) {\r\n        this.key = key;\r\n        this.size = size;\r\n        this.type = type;\r\n        this.normalized = false;\r\n        this.sizeOfType = sizeInBytesOfType(type);\r\n        this.sizeInBytes = this.sizeOfType * size;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {string} type - A type accepted by {@link Attribute}.\r\n * @return The size (in bytes) for a given type.\r\n * @see {@link Attribute}\r\n * @private\r\n */\r\nfunction sizeInBytesOfType(type) {\r\n    switch (type) {\r\n        case 'BYTE':\r\n        case 'UNSIGNED_BYTE':\r\n            return 1;\r\n        case 'SHORT':\r\n        case 'UNSIGNED_SHORT':\r\n            return 2;\r\n        case 'FLOAT':\r\n            return 4;\r\n    }\r\n}\r\n\r\n// Geometry attributes\r\n/**\r\n * Attribute layout to pack a vertex's x, y, & z as floats\r\n *\r\n * @see {@link Layout}\r\n */\r\nLayout.POSITION = new Attribute('position', 3, 'FLOAT');\r\n\r\n/**\r\n * Attribute layout to pack a vertex's normal's x, y, & z as floats\r\n *\r\n * @see {@link Layout}\r\n */\r\nLayout.NORMAL = new Attribute('normal', 3, 'FLOAT');\r\n\r\n/**\r\n * Attribute layout to pack a vertex's normal's x, y, & z as floats.\r\n * <p>\r\n * This value will be computed on-the-fly based on the texture coordinates.\r\n * If no texture coordinates are available, the generated value will default to\r\n * 0, 0, 0.\r\n *\r\n * @see {@link Layout}\r\n */\r\nLayout.TANGENT = new Attribute('tangent', 3, 'FLOAT');\r\n\r\n/**\r\n * Attribute layout to pack a vertex's normal's bitangent x, y, & z as floats.\r\n * <p>\r\n * This value will be computed on-the-fly based on the texture coordinates.\r\n * If no texture coordinates are available, the generated value will default to\r\n * 0, 0, 0.\r\n * @see {@link Layout}\r\n */\r\nLayout.BITANGENT = new Attribute('bitangent', 3, 'FLOAT');\r\n\r\n/**\r\n * Attribute layout to pack a vertex's texture coordinates' u & v as floats\r\n *\r\n * @see {@link Layout}\r\n */\r\nLayout.UV = new Attribute('uv', 2, 'FLOAT');\r\n\r\n// Material attributes\r\n\r\n/**\r\n * Attribute layout to pack an unsigned short to be interpreted as a the index\r\n * into a {@link Mesh}'s materials list.\r\n * <p>\r\n * The intention of this value is to send all of the {@link Mesh}'s materials\r\n * into multiple shader uniforms and then reference the current one by this\r\n * vertex attribute.\r\n * <p>\r\n * example glsl code:\r\n *\r\n * <pre><code>\r\n *  // this is bound using MATERIAL_INDEX\r\n *  attribute int materialIndex;\r\n *\r\n *  struct Material {\r\n *    vec3 diffuse;\r\n *    vec3 specular;\r\n *    vec3 specularExponent;\r\n *  };\r\n *\r\n *  uniform Material materials[MAX_MATERIALS];\r\n *\r\n *  // ...\r\n *\r\n *  vec3 diffuse = materials[materialIndex];\r\n *\r\n * </code></pre>\r\n * TODO: More description & test to make sure subscripting by attributes even\r\n * works for webgl\r\n *\r\n * @see {@link Layout}\r\n */\r\nLayout.MATERIAL_INDEX = new Attribute('materialIndex', 1, 'SHORT');\r\nLayout.MATERIAL_ENABLED = new Attribute('materialEnabled', 1, 'UNSIGNED_SHORT');\r\nLayout.AMBIENT = new Attribute('ambient', 3, 'FLOAT');\r\nLayout.DIFFUSE = new Attribute('diffuse', 3, 'FLOAT');\r\nLayout.SPECULAR = new Attribute('specular', 3, 'FLOAT');\r\nLayout.SPECULAR_EXPONENT = new Attribute('specularExponent', 3, 'FLOAT');\r\nLayout.EMISSIVE = new Attribute('emissive', 3, 'FLOAT');\r\nLayout.TRANSMISSION_FILTER = new Attribute('transmissionFilter', 3, 'FLOAT');\r\nLayout.DISSOLVE = new Attribute('dissolve', 1, 'FLOAT');\r\nLayout.ILLUMINATION = new Attribute('illumination', 1, 'UNSIGNED_SHORT');\r\nLayout.REFRACTION_INDEX = new Attribute('refractionIndex', 1, 'FLOAT');\r\nLayout.SHARPNESS = new Attribute('sharpness', 1, 'FLOAT');\r\nLayout.MAP_DIFFUSE = new Attribute('mapDiffuse', 1, 'SHORT');\r\nLayout.MAP_AMBIENT = new Attribute('mapAmbient', 1, 'SHORT');\r\nLayout.MAP_SPECULAR = new Attribute('mapSpecular', 1, 'SHORT');\r\nLayout.MAP_SPECULAR_EXPONENT = new Attribute('mapSpecularExponent', 1, 'SHORT');\r\nLayout.MAP_DISSOLVE = new Attribute('mapDissolve', 1, 'SHORT');\r\nLayout.ANTI_ALIASING = new Attribute('antiAliasing', 1, 'UNSIGNED_SHORT');\r\nLayout.MAP_BUMP = new Attribute('mapBump', 1, 'SHORT');\r\nLayout.MAP_DISPLACEMENT = new Attribute('mapDisplacement', 1, 'SHORT');\r\nLayout.MAP_DECAL = new Attribute('mapDecal', 1, 'SHORT');\r\nLayout.MAP_EMISSIVE = new Attribute('mapEmissive', 1, 'SHORT');\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/OBJ/layout.js\n// module id = 4\n// module chunks = 0","import {vec3, vec4} from \"gl-matrix\";\r\nimport {Guid} from \"../lib/guid\";\r\n\r\nexport enum Model_Type {\r\n    BASIC = 0,\r\n    MESHLESS = 1\r\n}\r\n\r\n\r\nexport class Entity{\r\n    id: string;\r\n    position: vec3;\r\n    scalar:vec3;\r\n    quaternion: vec4;\r\n    forward:vec3;\r\n    mesh_name: string;\r\n    model_type:Model_Type;\r\n    \r\n    constructor(pos:vec3, scale:vec3, forward:vec3, mesh_name:string, model_type:Model_Type){\r\n        this.id = Guid.newGuid();\r\n        this.position = pos;\r\n        this.scalar = scale || vec3.fromValues(1,1,1);\r\n        this.forward = forward || vec3.create();\r\n        this.mesh_name = mesh_name;\r\n        this.model_type = model_type;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/entity.ts","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\";\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  let out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    let a01 = a[1], a02 = a[2], a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function invert(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  let b01 = a22 * a11 - a12 * a21;\n  let b11 = -a22 * a10 + a12 * a20;\n  let b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  let det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function adjoint(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  out[0] = (a11 * a22 - a12 * a21);\n  out[1] = (a02 * a21 - a01 * a22);\n  out[2] = (a01 * a12 - a02 * a11);\n  out[3] = (a12 * a20 - a10 * a22);\n  out[4] = (a00 * a22 - a02 * a20);\n  out[5] = (a02 * a10 - a00 * a12);\n  out[6] = (a10 * a21 - a11 * a20);\n  out[7] = (a01 * a20 - a00 * a21);\n  out[8] = (a00 * a11 - a01 * a10);\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function multiply(out, a, b) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  let b00 = b[0], b01 = b[1], b02 = b[2];\n  let b10 = b[3], b11 = b[4], b12 = b[5];\n  let b20 = b[6], b21 = b[7], b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nexport function translate(out, a, v) {\n  let a00 = a[0], a01 = a[1], a02 = a[2],\n    a10 = a[3], a11 = a[4], a12 = a[5],\n    a20 = a[6], a21 = a[7], a22 = a[8],\n    x = v[0], y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function rotate(out, a, rad) {\n  let a00 = a[0], a01 = a[1], a02 = a[2],\n    a10 = a[3], a11 = a[4], a12 = a[5],\n    a20 = a[6], a21 = a[7], a22 = a[8],\n\n    s = Math.sin(rad),\n    c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nexport function scale(out, a, v) {\n  let x = v[0], y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function fromRotation(out, rad) {\n  let s = Math.sin(rad), c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nexport function fromQuat(out, q) {\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let yx = y * x2;\n  let yy = y * y2;\n  let zx = z * x2;\n  let zy = z * y2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nexport function normalFromMat4(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nexport function projection(out, width, height) {\n    out[0] = 2 / width;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = -2 / height;\n    out[5] = 0;\n    out[6] = -1;\n    out[7] = 1;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' +\n          a[3] + ', ' + a[4] + ', ' + a[5] + ', ' +\n          a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nexport function frob(a) {\n  return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2)))\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  out[4] = a[4] + (b[4] * scale);\n  out[5] = a[5] + (b[5] * scale);\n  out[6] = a[6] + (b[6] * scale);\n  out[7] = a[7] + (b[7] * scale);\n  out[8] = a[8] + (b[8] * scale);\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] &&\n         a[3] === b[3] && a[4] === b[4] && a[5] === b[5] &&\n         a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7], a8 = a[8];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\n          Math.abs(a4 - b4) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\n          Math.abs(a5 - b5) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\n          Math.abs(a6 - b6) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\n          Math.abs(a7 - b7) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\n          Math.abs(a8 - b8) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a8), Math.abs(b8)));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nexport const sub = subtract;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/mat3.js\n// module id = 6\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\";\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  return Math.sqrt(x*x + y*y + z*z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nexport function fromValues(x, y, z) {\n  let out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  return Math.sqrt(x*x + y*y + z*z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  return x*x + y*y + z*z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  return x*x + y*y + z*z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nexport function normalize(out, a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let len = x*x + y*y + z*z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n  let ax = a[0], ay = a[1], az = a[2];\n  let bx = b[0], by = b[1], bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function lerp(out, a, b, t) {\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function hermite(out, a, b, c, d, t) {\n  let factorTimes2 = t * t;\n  let factor1 = factorTimes2 * (2 * t - 3) + 1;\n  let factor2 = factorTimes2 * (t - 2) + t;\n  let factor3 = factorTimes2 * (t - 1);\n  let factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function bezier(out, a, b, c, d, t) {\n  let inverseFactor = 1 - t;\n  let inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  let factorTimes2 = t * t;\n  let factor1 = inverseFactorTimesTwo * inverseFactor;\n  let factor2 = 3 * t * inverseFactorTimesTwo;\n  let factor3 = 3 * factorTimes2 * inverseFactor;\n  let factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nexport function random(out, scale) {\n  scale = scale || 1.0;\n\n  let r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  let z = (glMatrix.RANDOM() * 2.0) - 1.0;\n  let zScale = Math.sqrt(1.0-z*z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat4(out, a, m) {\n  let x = a[0], y = a[1], z = a[2];\n  let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat3(out, a, m) {\n  let x = a[0], y = a[1], z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nexport function transformQuat(out, a, q) {\n  // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n\n  let x = a[0], y = a[1], z = a[2];\n  let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n\n  // calculate quat * vec\n  let ix = qw * x + qy * z - qz * y;\n  let iy = qw * y + qz * x - qx * z;\n  let iz = qw * z + qx * y - qy * x;\n  let iw = -qx * x - qy * y - qz * z;\n\n  // calculate result * inverse quat\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nexport function rotateX(out, a, b, c){\n  let p = [], r=[];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1]*Math.cos(c) - p[2]*Math.sin(c);\n  r[2] = p[1]*Math.sin(c) + p[2]*Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nexport function rotateY(out, a, b, c){\n  let p = [], r=[];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2]*Math.sin(c) + p[0]*Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2]*Math.cos(c) - p[0]*Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nexport function rotateZ(out, a, b, c){\n  let p = [], r=[];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0]*Math.cos(c) - p[1]*Math.sin(c);\n  r[1] = p[0]*Math.sin(c) + p[1]*Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nexport function angle(a, b) {\n  let tempA = fromValues(a[0], a[1], a[2]);\n  let tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  let cosine = dot(tempA, tempB);\n\n  if(cosine > 1.0) {\n    return 0;\n  }\n  else if(cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2];\n  let b0 = b[0], b1 = b[1], b2 = b[2];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nexport const sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nexport const div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nexport const dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nexport const sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nexport const forEach = (function() {\n  let vec = create();\n\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 3;\n    }\n\n    if(!offset) {\n      offset = 0;\n    }\n\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n    }\n\n    return a;\n  };\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/vec3.js\n// module id = 7\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\";\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  return out;\n}\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {vec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\nexport function fromValues(x, y, z, w) {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to ceil\n * @returns {vec4} out\n */\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to floor\n * @returns {vec4} out\n */\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to round\n * @returns {vec4} out\n */\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  let w = b[3] - a[3];\n  return Math.sqrt(x*x + y*y + z*z + w*w);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  let w = b[3] - a[3];\n  return x*x + y*y + z*z + w*w;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  return Math.sqrt(x*x + y*y + z*z + w*w);\n}\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {vec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  return x*x + y*y + z*z + w*w;\n}\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to negate\n * @returns {vec4} out\n */\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to invert\n * @returns {vec4} out\n */\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nexport function normalize(out, a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  let len = x*x + y*y + z*z + w*w;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nexport function lerp(out, a, b, t) {\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\nexport function random(out, vectorScale) {\n  vectorScale = vectorScale || 1.0;\n\n  //TODO: This is a pretty awful way of doing this. Find something better.\n  out[0] = glMatrix.RANDOM();\n  out[1] = glMatrix.RANDOM();\n  out[2] = glMatrix.RANDOM();\n  out[3] = glMatrix.RANDOM();\n  normalize(out, out);\n  scale(out, out, vectorScale);\n  return out;\n}\n\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec4} out\n */\nexport function transformMat4(out, a, m) {\n  let x = a[0], y = a[1], z = a[2], w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec4} out\n */\nexport function transformQuat(out, a, q) {\n  let x = a[0], y = a[1], z = a[2];\n  let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n\n  // calculate quat * vec\n  let ix = qw * x + qy * z - qz * y;\n  let iy = qw * y + qz * x - qx * z;\n  let iz = qw * z + qx * y - qy * x;\n  let iw = -qx * x - qy * y - qz * z;\n\n  // calculate result * inverse quat\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec4} a The first vector.\n * @param {vec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec4} a The first vector.\n * @param {vec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)));\n}\n\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\nexport const sub = subtract;\n\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\nexport const div = divide;\n\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\nexport const dist = distance;\n\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\nexport const sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec4.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nexport const forEach = (function() {\n  let vec = create();\n\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 4;\n    }\n\n    if(!offset) {\n      offset = 0;\n    }\n\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n    }\n\n    return a;\n  };\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/vec4.js\n// module id = 8\n// module chunks = 0","import {mat4, vec3, vec4} from \"gl-matrix\";\r\n\r\n\r\n\r\nexport class Shader {\r\n    ID: WebGLProgram;\r\n    gl: WebGL2RenderingContext;\r\n\r\n    constructor(gl: WebGL2RenderingContext, vertexSourceCode: string, fragmentSourceCode: string) {\r\n        this.gl = gl;\r\n\r\n        let vertexShader: WebGLShader = getShader(gl, vertexSourceCode, gl.VERTEX_SHADER);\r\n        let fragmentShader: WebGLShader = getShader(gl, fragmentSourceCode, gl.FRAGMENT_SHADER);\r\n        \r\n        this.ID = gl.createProgram();\r\n        gl.attachShader(this.ID, vertexShader);\r\n        gl.attachShader(this.ID, fragmentShader);\r\n        gl.linkProgram(this.ID);\r\n\r\n        if (!gl.getProgramParameter(this.ID, gl.LINK_STATUS)) {\r\n            alert(\"Could not initialize shaders\");\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    use() {\r\n        this.gl.useProgram(this.ID);\r\n    }\r\n\r\n    setBoolByName(name: string, value: boolean) {\r\n        this.gl.uniform1i(this.getUniformLocation(name), value ? 1 : 0);\r\n    }\r\n\r\n    setBool(id: number | WebGLUniformLocation, value: boolean) {\r\n        this.gl.uniform1i(id, value ? 1 : 0);\r\n    }\r\n\r\n    setInt(id: number | WebGLUniformLocation, value: number) {\r\n        this.gl.uniform1i(id, value);\r\n    }\r\n    setIntByName(name: string, value: number) {\r\n        this.gl.uniform1i(this.getUniformLocation(name), value);\r\n    }\r\n\r\n\r\n    setIntV(id: number | WebGLUniformLocation, value: number[]) {\r\n        this.gl.uniform1iv(id, value);\r\n    }\r\n\r\n    setIntVByName(name: string, value: number[]) {\r\n        this.gl.uniform1iv(this.getUniformLocation(name), value);\r\n    }\r\n    \r\n    setFloat(id: number | WebGLUniformLocation, value: number) {\r\n        this.gl.uniform1f(id, value);\r\n    }\r\n    setFloatByName(name: string, value: number) {\r\n        this.gl.uniform1f(this.getUniformLocation(name), value);\r\n    }\r\n\r\n    getUniformLocation(name: string) {\r\n        var a = this.gl.getUniformLocation(this.ID, name);\r\n        return a;\r\n    }\r\n\r\n    setMat4(id: number | WebGLUniformLocation, matrix: mat4 | number[]) {\r\n        this.gl.uniformMatrix4fv(id, false, matrix);\r\n    }\r\n\r\n    setMat4ByName(name: string, matrix: mat4 | number[]) {\r\n        this.gl.uniformMatrix4fv(this.getUniformLocation(name), false, matrix);\r\n    }\r\n    \r\n    setVec3(id: number | WebGLUniformLocation, vec: vec3| number[]) {\r\n        this.gl.uniform3fv(id, vec);\r\n    }\r\n    \r\n    setVec3ByName (name: string, vec: vec3| number[]) {\r\n        this.gl.uniform3fv(this.getUniformLocation(name), vec);\r\n    }\r\n    \r\n    setVec4(id: number | WebGLUniformLocation, vec: vec4| number[]){\r\n        this.gl.uniform4fv(id, vec);\r\n    }\r\n\r\n    setVec4ByName(name: string, vec: vec4| number[]){\r\n        this.gl.uniform4fv(this.getUniformLocation(name), vec);\r\n    }\r\n\r\n}\r\n\r\nfunction getShader(gl: WebGL2RenderingContext, sourceCode, type) {\r\n    let shader: WebGLShader;\r\n    shader = gl.createShader(type);\r\n\r\n\r\n    gl.shaderSource(shader,sourceCode);\r\n\r\n    gl.compileShader(shader);\r\n\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        alert(gl.getShaderInfoLog(shader));\r\n        return null;\r\n    }\r\n    return shader;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shader.ts","import {Layout} from \"./layout\";\r\n\r\n/**\r\n * The main Mesh class. The constructor will parse through the OBJ file data\r\n * and collect the vertex, vertex normal, texture, and face information. This\r\n * information can then be used later on when creating your VBOs. See\r\n * OBJ.initMeshBuffers for an example of how to use the newly created Mesh\r\n *\r\n * - Options\r\n *   - materials\r\n */\r\nexport default class Mesh {\r\n\t/**\r\n\t * Create a Mesh\r\n\t * @param {String} objectData a string representation of an OBJ file with\r\n\t *        newlines preserved.\r\n\t * @param {Object} options a JS object containing valid options. See class\r\n\t *        documentation for options.\r\n\t */\r\n\tconstructor(objectData, options) {\r\n\t\toptions = options || {};\r\n\t\toptions.materials = options.materials || [];\r\n\r\n\t\tlet self = this;\r\n\t\tself.has_materials = !!options.materials;\r\n\t\t// maps material name to Material() instance\r\n\t\tself.materials = {};\r\n\t\tself.submesh = {};\r\n\t\t// the list of unique vertex, normal, texture, attributes\r\n\t\tself.vertices = [];\r\n\t\tself.vertexNormals = [];\r\n\t\tself.textures = [];\r\n\t\t// the indicies to draw the faces\r\n\t\tself.indices = [];\r\n\r\n\t\t/*\r\n\t\tThe OBJ file format does a sort of compression when saving a model in a\r\n\t\tprogram like Blender. There are at least 3 sections (4 including textures)\r\n\t\twithin the file. Each line in a section begins with the same string:\r\n\t\t\t* 'v': indicates vertex section\r\n\t\t\t* 'vn': indicates vertex normal section\r\n\t\t\t* 'f': indicates the faces section\r\n\t\t\t* 'vt': indicates vertex texture section (if textures were used on the model)\r\n\t\tEach of the above sections (except for the faces section) is a list/set of\r\n\t\tunique vertices.\r\n\r\n\t\tEach line of the faces section contains a list of\r\n\t\t(vertex, [texture], normal) groups.\r\n\r\n\t\t**Note:** The following documentation will use a capital \"V\" Vertex to\r\n\t\tdenote the above (vertex, [texture], normal) groups whereas a lowercase\r\n\t\t\"v\" vertex is used to denote an X, Y, Z coordinate.\r\n\r\n\t\tSome examples:\r\n\t\t\t\t// the texture index is optional, both formats are possible for models\r\n\t\t\t\t// without a texture applied\r\n\t\t\t\tf 1/25 18/46 12/31\r\n\t\t\t\tf 1//25 18//46 12//31\r\n\r\n\t\t\t\t// A 3 vertex face with texture indices\r\n\t\t\t\tf 16/92/11 14/101/22 1/69/1\r\n\r\n\t\t\t\t// A 4 vertex face\r\n\t\t\t\tf 16/92/11 40/109/40 38/114/38 14/101/22\r\n\r\n\t\tThe first two lines are examples of a 3 vertex face without a texture applied.\r\n\t\tThe second is an example of a 3 vertex face with a texture applied.\r\n\t\tThe third is an example of a 4 vertex face. Note: a face can contain N\r\n\t\tnumber of vertices.\r\n\r\n\t\tEach number that appears in one of the groups is a 1-based index\r\n\t\tcorresponding to an item from the other sections (meaning that indexing\r\n\t\tstarts at one and *not* zero).\r\n\r\n\t\tFor example:\r\n\t\t\t\t`f 16/92/11` is saying to\r\n\t\t\t\t\t- take the 16th element from the [v] vertex array\r\n\t\t\t\t\t- take the 92nd element from the [vt] texture array\r\n\t\t\t\t\t- take the 11th element from the [vn] normal array\r\n\t\t\t\tand together they make a unique vertex.\r\n\t\tUsing all 3+ unique Vertices from the face line will produce a polygon.\r\n\r\n\t\tNow, you could just go through the OBJ file and create a new vertex for\r\n\t\teach face line and WebGL will draw what appears to be the same model.\r\n\t\tHowever, vertices will be overlapped and duplicated all over the place.\r\n\r\n\t\tConsider a cube in 3D space centered about the origin and each side is\r\n\t\t2 units long. The front face (with the positive Z-axis pointing towards\r\n\t\tyou) would have a Top Right vertex (looking orthogonal to its normal)\r\n\t\tmapped at (1,1,1) The right face would have a Top Left vertex (looking\r\n\t\torthogonal to its normal) at (1,1,1) and the top face would have a Bottom\r\n\t\tRight vertex (looking orthogonal to its normal) at (1,1,1). Each face\r\n\t\thas a vertex at the same coordinates, however, three distinct vertices\r\n\t\twill be drawn at the same spot.\r\n\r\n\t\tTo solve the issue of duplicate Vertices (the `(vertex, [texture], normal)`\r\n\t\tgroups), while iterating through the face lines, when a group is encountered\r\n\t\tthe whole group string ('16/92/11') is checked to see if it exists in the\r\n\t\tpacked.hashindices object, and if it doesn't, the indices it specifies\r\n\t\tare used to look up each attribute in the corresponding attribute arrays\r\n\t\talready created. The values are then copied to the corresponding unpacked\r\n\t\tarray (flattened to play nice with WebGL's ELEMENT_ARRAY_BUFFER indexing),\r\n\t\tthe group string is added to the hashindices set and the current unpacked\r\n\t\tindex is used as this hashindices value so that the group of elements can\r\n\t\tbe reused. The unpacked index is incremented. If the group string already\r\n\t\texists in the hashindices object, its corresponding value is the index of\r\n\t\tthat group and is appended to the unpacked indices array.\r\n\t */\r\n\t\tthis.name = '';\r\n\t\tconst verts = [];\r\n\t\tconst vertNormals = [];\r\n\t\tconst textures = [];\r\n\t\tconst unpacked = {};\r\n\t\tconst materialNamesByIndex = [];\r\n\t\tconst materialIndicesByName = {};\r\n\t\t// keep track of what material we've seen last\r\n\t\tlet currentMaterialIndex = -1;\r\n\t\t// unpacking stuff\r\n\t\tunpacked.verts = [];\r\n\t\tunpacked.norms = [];\r\n\t\tunpacked.textures = [];\r\n\t\tunpacked.hashindices = {};\r\n\t\tunpacked.indices = [];\r\n\t\tunpacked.materialIndices = [];\r\n\t\tunpacked.index = 0;\r\n\t\t\r\n\t\tlet submesh = [];\r\n\t\tlet currFaceCounter = 0;\r\n\t\tlet totalFaceCounter = 0;\r\n\r\n\t\tconst VERTEX_RE = /^v\\s/;\r\n\t\tconst NORMAL_RE = /^vn\\s/;\r\n\t\tconst TEXTURE_RE = /^vt\\s/;\r\n\t\tconst FACE_RE = /^f\\s/;\r\n\t\tconst WHITESPACE_RE = /\\s+/;\r\n\t\tconst USE_MATERIAL_RE = /^usemtl/;\r\n\r\n\t\t// array of lines separated by the newline\r\n\t\tconst lines = objectData.split('\\n');\r\n\r\n\t\tfor (let i = 0; i < lines.length; i++) {\r\n\t\t\tconst line = lines[i].trim();\r\n\t\t\tif (!line || line.startsWith('#')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tconst elements = line.split(WHITESPACE_RE);\r\n\t\t\telements.shift();\r\n\r\n\t\t\tif (VERTEX_RE.test(line)) {\r\n\t\t\t\t// if this is a vertex\r\n\t\t\t\tverts.push(...elements);\r\n\t\t\t} else if (NORMAL_RE.test(line)) {\r\n\t\t\t\t// if this is a vertex normal\r\n\t\t\t\tvertNormals.push(...elements);\r\n\t\t\t} else if (TEXTURE_RE.test(line)) {\r\n\t\t\t\t// if this is a texture\r\n\t\t\t\ttextures.push(elements[0]);\r\n\t\t\t\ttextures.push(elements[1]);\r\n\t\t\t} else if (USE_MATERIAL_RE.test(line)) {\r\n\t\t\t\tconst materialName = elements[0];\r\n\r\n\t\t\t\t// check to see if we've ever seen it before\r\n\t\t\t\tif (!(materialName in materialIndicesByName)) {\r\n\t\t\t\t\t// new material we've never seen\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currFaceCounter !== 0)\r\n\t\t\t\t\t\tsubmesh.push({offset: totalFaceCounter, numItems: currFaceCounter});\r\n\t\t\t\t\ttotalFaceCounter += currFaceCounter;\r\n\t\t\t\t\tcurrFaceCounter = 0;\r\n                    \r\n\t\t\t\t\tmaterialNamesByIndex.push(materialName);\r\n\t\t\t\t\tmaterialIndicesByName[materialName] = materialNamesByIndex.length - 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// keep track of the current material index\r\n\t\t\t\tcurrentMaterialIndex = materialIndicesByName[materialName];\r\n\t\t\t} else if (FACE_RE.test(line)) {\r\n\t\t\t\tcurrFaceCounter++;\r\n\t\t\t\t// if this is a face\r\n\t\t\t\t/*\r\n\t\t\t\tsplit this face into an array of Vertex groups\r\n\t\t\t\tfor example:\r\n\t\t\t\t\t f 16/92/11 14/101/22 1/69/1\r\n\t\t\t\tbecomes:\r\n\t\t\t\t\t['16/92/11', '14/101/22', '1/69/1'];\r\n\t\t\t\t*/\r\n\t\t\t\tlet quad = false;\r\n\t\t\t\tfor (let j = 0, eleLen = elements.length; j < eleLen; j++) {\r\n\t\t\t\t\t// Triangulating quads\r\n\t\t\t\t\t// quad: 'f v0/t0/vn0 v1/t1/vn1 v2/t2/vn2 v3/t3/vn3/'\r\n\t\t\t\t\t// corresponding triangles:\r\n\t\t\t\t\t//      'f v0/t0/vn0 v1/t1/vn1 v2/t2/vn2'\r\n\t\t\t\t\t//      'f v2/t2/vn2 v3/t3/vn3 v0/t0/vn0'\r\n\t\t\t\t\tif (j === 3 && !quad) {\r\n\t\t\t\t\t\t// add v2/t2/vn2 in again before continuing to 3\r\n\t\t\t\t\t\tj = 2;\r\n\t\t\t\t\t\tquad = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst hash0 = elements[0] + ',' + currentMaterialIndex;\r\n\t\t\t\t\tconst hash = elements[j] + ',' + currentMaterialIndex;\r\n\t\t\t\t\tif (hash in unpacked.hashindices) {\r\n\t\t\t\t\t\tunpacked.indices.push(unpacked.hashindices[hash]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tEach element of the face line array is a Vertex which has its\r\n\t\t\t\t\t\tattributes delimited by a forward slash. This will separate\r\n\t\t\t\t\t\teach attribute into another array:\r\n\t\t\t\t\t\t\t\t'19/92/11'\r\n\t\t\t\t\t\tbecomes:\r\n\t\t\t\t\t\t\t\tVertex = ['19', '92', '11'];\r\n\t\t\t\t\t\twhere\r\n\t\t\t\t\t\t\t\tVertex[0] is the vertex index\r\n\t\t\t\t\t\t\t\tVertex[1] is the texture index\r\n\t\t\t\t\t\t\t\tVertex[2] is the normal index\r\n\t\t\t\t\t\t Think of faces having Vertices which are comprised of the\r\n\t\t\t\t\t\t attributes location (v), texture (vt), and normal (vn).\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tlet vertex = elements[j].split('/');\r\n\t\t\t\t\t\t// it's possible for faces to only specify the vertex\r\n\t\t\t\t\t\t// and the normal. In this case, vertex will only have\r\n\t\t\t\t\t\t// a length of 2 and not 3 and the normal will be the\r\n\t\t\t\t\t\t// second item in the list with an index of 1.\r\n\t\t\t\t\t\tlet normalIndex = vertex.length - 1;\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t The verts, textures, and vertNormals arrays each contain a\r\n\t\t\t\t\t\t flattend array of coordinates.\r\n\r\n\t\t\t\t\t\t Because it gets confusing by referring to Vertex and then\r\n\t\t\t\t\t\t vertex (both are different in my descriptions) I will explain\r\n\t\t\t\t\t\t what's going on using the vertexNormals array:\r\n\r\n\t\t\t\t\t\t vertex[2] will contain the one-based index of the vertexNormals\r\n\t\t\t\t\t\t section (vn). One is subtracted from this index number to play\r\n\t\t\t\t\t\t nice with javascript's zero-based array indexing.\r\n\r\n\t\t\t\t\t\t Because vertexNormal is a flattened array of x, y, z values,\r\n\t\t\t\t\t\t simple pointer arithmetic is used to skip to the start of the\r\n\t\t\t\t\t\t vertexNormal, then the offset is added to get the correct\r\n\t\t\t\t\t\t component: +0 is x, +1 is y, +2 is z.\r\n\r\n\t\t\t\t\t\t This same process is repeated for verts and textures.\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\t// Vertex position\r\n\t\t\t\t\t\tunpacked.verts.push(+verts[(vertex[0] - 1) * 3 + 0]);\r\n\t\t\t\t\t\tunpacked.verts.push(+verts[(vertex[0] - 1) * 3 + 1]);\r\n\t\t\t\t\t\tunpacked.verts.push(+verts[(vertex[0] - 1) * 3 + 2]);\r\n\t\t\t\t\t\t// Vertex textures\r\n\t\t\t\t\t\tif (textures.length) {\r\n\t\t\t\t\t\t\tunpacked.textures.push(+textures[(vertex[1] - 1) * 2 + 0]);\r\n\t\t\t\t\t\t\tunpacked.textures.push(+textures[(vertex[1] - 1) * 2 + 1]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Vertex normals\r\n\t\t\t\t\t\tunpacked.norms.push(+vertNormals[(vertex[normalIndex] - 1) * 3 + 0]);\r\n\t\t\t\t\t\tunpacked.norms.push(+vertNormals[(vertex[normalIndex] - 1) * 3 + 1]);\r\n\t\t\t\t\t\tunpacked.norms.push(+vertNormals[(vertex[normalIndex] - 1) * 3 + 2]);\r\n\t\t\t\t\t\t// Vertex material indices\r\n\t\t\t\t\t\tunpacked.materialIndices.push(currentMaterialIndex);\r\n\t\t\t\t\t\t// add the newly created Vertex to the list of indices\r\n\t\t\t\t\t\tunpacked.hashindices[hash] = unpacked.index;\r\n\t\t\t\t\t\tunpacked.indices.push(unpacked.index);\r\n\t\t\t\t\t\t// increment the counter\r\n\t\t\t\t\t\tunpacked.index += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (j === 3 && quad) {\r\n\t\t\t\t\t\t// add v0/t0/vn0 onto the second triangle\r\n\t\t\t\t\t\tunpacked.indices.push(unpacked.hashindices[hash0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsubmesh.push({offset: totalFaceCounter, numItems: currFaceCounter});\r\n\t\t\r\n\t\tself.vertices = unpacked.verts;\r\n\t\tself.vertexNormals = unpacked.norms;\r\n\t\tself.textures = unpacked.textures;\r\n\t\tself.vertexMaterialIndices = unpacked.materialIndices;\r\n\t\tself.indices = unpacked.indices;\r\n\t\tself.submesh = submesh;\r\n\r\n\t\tself.materialNames = materialNamesByIndex;\r\n\t\tself.materialIndices = materialIndicesByName;\r\n\t\tself.materialsByIndex = {};\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Layout} layout - A {@link Layout} object that describes the\r\n\t * desired memory layout of the generated buffer\r\n\t * @return {ArrayBuffer} The packed array in the ... TODO\r\n\t */\r\n\tmakeBufferData(layout) {\r\n\t\tconst numItems = this.vertices.length / 3;\r\n\t\tconst buffer = new ArrayBuffer(layout.stride * numItems);\r\n\t\tbuffer.numItems = numItems;\r\n\t\tconst dataView = new DataView(buffer);\r\n\t\tfor (let i = 0, vertexOffset = 0; i < numItems; i++) {\r\n\t\t\tvertexOffset = i * layout.stride;\r\n\t\t\t// copy in the vertex data in the order and format given by the\r\n\t\t\t// layout param\r\n\t\t\tfor (const attribute of layout.attributes) {\r\n\t\t\t\tconst offset = vertexOffset + layout[attribute.key].offset;\r\n\t\t\t\tswitch (attribute.key) {\r\n\t\t\t\t\tcase Layout.POSITION.key:\r\n\t\t\t\t\t\tdataView.setFloat32(offset, this.vertices[i * 3], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, this.vertices[i * 3 + 1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, this.vertices[i * 3 + 2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Layout.UV.key:\r\n\t\t\t\t\t\tdataView.setFloat32(offset, this.textures[i * 2], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, this.vertices[i * 2 + 1], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Layout.NORMAL.key:\r\n\t\t\t\t\t\tdataView.setFloat32(offset, this.vertexNormals[i * 3], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, this.vertexNormals[i * 3 + 1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, this.vertexNormals[i * 3 + 2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Layout.MATERIAL_INDEX.key:\r\n\t\t\t\t\t\tdataView.setInt16(offset, this.vertexMaterialIndices[i], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Layout.AMBIENT.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.ambient[0], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, material.ambient[1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, material.ambient[2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.DIFFUSE.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.diffuse[0], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, material.diffuse[1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, material.diffuse[2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.SPECULAR.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.specular[0], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, material.specular[1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, material.specular[2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.SPECULAR_EXPONENT.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.specularExponent, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.EMISSIVE.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.emissive[0], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, material.emissive[1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, material.emissive[2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.TRANSMISSION_FILTER.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.transmissionFilter[0], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 4, material.transmissionFilter[1], true);\r\n\t\t\t\t\t\tdataView.setFloat32(offset + 8, material.transmissionFilter[2], true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.DISSOLVE.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.dissolve, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.ILLUMINATION.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setInt16(offset, material.illumination, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.REFRACTION_INDEX.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.refractionIndex, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.SHARPNESS.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setFloat32(offset, material.sharpness, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase Layout.ANTI_ALIASING.key: {\r\n\t\t\t\t\t\tconst materialIndex = this.vertexMaterialIndices[i];\r\n\t\t\t\t\t\tconst material = this.materialsByIndex[materialIndex];\r\n\t\t\t\t\t\tif (!material) {\r\n\t\t\t\t\t\t\tconsole.warn('Material \"' + this.materialNames[materialIndex] + '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdataView.setInt16(offset, material.antiAliasing, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn buffer;\r\n\t}\r\n\r\n\tmakeIndexBufferData() {\r\n\t\tconst buffer = new Uint16Array(this.indices);\r\n\t\tbuffer.numItems = this.indices.length;\r\n\t\treturn buffer;\r\n\t}\r\n\r\n\taddMaterialLibrary(mtl) {\r\n\t\tfor (const name in mtl.materials) {\r\n\t\t\tif (!(name in this.materialIndices)) {\r\n\t\t\t\t// This material is not referenced by the mesh\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tconst material = mtl.materials[name];\r\n\r\n\t\t\t// Find the material index for this material\r\n\t\t\tconst materialIndex = this.materialIndices[material.name]\r\n\r\n\t\t\t// Put the material into the materialsByIndex object at the right\r\n\t\t\tthis.materials[name] = material;\r\n\t\t\t// spot as determined when the obj file was parsed\r\n\t\t\tthis.materialsByIndex[materialIndex] = material;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/OBJ/mesh.js\n// module id = 10\n// module chunks = 0","const DEFAULT_EMISSION = 0.0;\r\nconst DEFAULT_AMBIENT = 0.2;\r\nconst DEFAULT_DIFFUSE = 0.8;\r\nconst DEFAULT_SPECULAR = 0.0;\r\nconst DEFAULT_SPECULAR_EXPONENT = 20.0;\r\nconst DEFAULT_OPTICAL_DENSITY = 1.0;\r\nconst DEFAULT_TRANSMISSION_FILTER = 1.0;\r\nconst DEFAULT_BUMP_MULTIPLIER = 1.0;\r\n\r\n\r\nconst ILLUMINATION_CONSTANT = 0;\r\nconst ILLUMINATION_PHONG_NO_SPECULAR = 1;\r\nconst ILLUMINATION_PHONG = 2;\r\n\r\nconst CHANNEL_UNSPECIFIED = 0;\r\n\r\n/**\r\n * The Material class.\r\n */\r\nexport class Material {\r\n\t/**\r\n\t * Constructor\r\n\t * @param {String} name the unique name of the material\r\n\t */\r\n\tconstructor(name) {\r\n\t\t// the unique material ID.\r\n\t\tthis.name = name;\r\n\r\n\t\t// illum - the enum of the illumination model to use\r\n\t\tthis.illumination = ILLUMINATION_PHONG;\r\n\r\n\t\t// Ka - Ambient Reflectivity\r\n\t\tthis.ambient = [DEFAULT_AMBIENT, DEFAULT_AMBIENT, DEFAULT_AMBIENT];\r\n\t\t// map_Ka\r\n\t\tthis.mapAmbient = null;\r\n\r\n\t\t// Kd - Defuse Reflectivity\r\n\t\tthis.diffuse = [DEFAULT_DIFFUSE, DEFAULT_DIFFUSE, DEFAULT_DIFFUSE];\r\n\t\t// map_Kd\r\n\t\tthis.mapDiffuse = null;\r\n\t\t\r\n\t\t// Kd - Defuse Reflectivity\r\n\t\tthis.transparency = 1.0;\r\n\t\t// map_Kd\r\n\t\tthis.mapTransparency = null;\r\n\t\t\r\n\t\t// Ks\r\n\t\tthis.specular = [DEFAULT_SPECULAR, DEFAULT_SPECULAR, DEFAULT_SPECULAR];\r\n\t\t// map_Ks\r\n\t\tthis.mapSpecular = null;\r\n\t\t// for specular exponent maps\r\n\t\t// map_Ns\r\n\t\tthis.mapSpecularExponent = null;\r\n\t\t// Ns\r\n\t\t// valid range is between 0 and 1000\r\n\t\tthis.specularExponent = DEFAULT_SPECULAR_EXPONENT;\r\n\r\n\t\t// Ke\r\n\t\tthis.emissive = [DEFAULT_EMISSION, DEFAULT_EMISSION, DEFAULT_EMISSION];\r\n\t\t// map_Ke\r\n\t\tthis.mapEmissive = null;\r\n\t\t// Tf\r\n\t\tthis.transmissionFilter = [DEFAULT_TRANSMISSION_FILTER, DEFAULT_TRANSMISSION_FILTER, DEFAULT_TRANSMISSION_FILTER];\r\n\t\t\r\n\t\t\r\n\t\t// either d or Tr; valid values are normalized\r\n\t\t// Tr is 1 - d\r\n\t\t// d\r\n\t\tthis.dissolve = 0;\r\n\t\t// map_d\r\n\t\tthis.mapDissolve = null;\r\n\r\n\t\t// Ni - Set to \"normal\" (air).\r\n\t\tthis.refractionIndex = DEFAULT_OPTICAL_DENSITY;\r\n\t\t// sharpness\r\n\t\tthis.sharpness = 0;\r\n\t\t// map_aat\r\n\t\tthis.antiAliasing = false;\r\n\t\t// map_bump or bump\r\n\t\tthis.mapBump = null;\r\n\t\t// disp\r\n\t\tthis.mapDisplacement = null;\r\n\t\t// decal\r\n\t\tthis.mapDecal = null;\r\n\t\t// refl - when the reflection type is a cube, there will be multiple refl\r\n\t\t//        statements for each side of the cube. If it's a spherical\r\n\t\t//        reflection, there should only ever be one.\r\n\t\tthis.mapReflections = [];\r\n\t\t\r\n\t\tthis.isTextureActive = new Array(6);\r\n\t\t\r\n\t\t//To hold webgl texture ids\r\n\t\tthis.textureIds = [];\r\n\t}\r\n\r\n\r\n\tupdateActiveTextures(){\r\n\t\tif(this.mapTransparency != null)\r\n\t\t\tthis.isTextureActive[0] = true;\r\n\t\telse\r\n\t\t\tthis.isTextureActive[0] = false;\r\n\r\n\t\tif(this.mapEmissive != null)\r\n\t\t\tthis.isTextureActive[1] = true;\r\n\t\telse\r\n\t\t\tthis.isTextureActive[1] = false;\r\n\r\n\t\tif(this.mapAmbient != null)\r\n\t\t\tthis.isTextureActive[2] = true;\r\n\t\telse\r\n\t\t\tthis.isTextureActive[2] = false;\r\n\r\n\t\tif(this.mapDiffuse != null)\r\n\t\t\tthis.isTextureActive[3] = true;\r\n\t\telse\r\n\t\t\tthis.isTextureActive[3] = false;\r\n\r\n\t\tif(this.mapSpecular != null)\r\n\t\t\tthis.isTextureActive[4] = true;\r\n\t\telse\r\n\t\t\tthis.isTextureActive[4] = false;\r\n\r\n\t\tif(this.mapSpecularExponent != null)\r\n\t\t\tthis.isTextureActive[5] = true;\r\n\t\telse\r\n\t\t\tthis.isTextureActive[5] = false;\r\n\t}\r\n}\r\n\r\n/**\r\n * https://en.wikipedia.org/wiki/Wavefront_.obj_file\r\n * http://paulbourke.net/dataformats/mtl/\r\n */\r\nexport class MaterialLibrary {\r\n\t/**\r\n\t * Constructs the Material Parser\r\n\t * @param {String} mtlData the MTL file contents\r\n\t */\r\n\tconstructor(mtlData) {\r\n\t\tthis.data = mtlData;\r\n\t\tthis.currentMaterial = null;\r\n\t\tthis.materials = {};\r\n\r\n\t\tthis.parse();\r\n\t\t\r\n\t\tfor (var key in this.materials) {\r\n\t\t\tthis.materials[key].updateActiveTextures();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t/* eslint-disable camelcase */\r\n\r\n\t/* the function names here disobey camelCase conventions\r\n\t   to make parsing/routing easier. see the parse function\r\n\t   documentation for more information. */\r\n\r\n\t/**\r\n\t * Creates a new Material object and adds to the registry.\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_newmtl(tokens) {\r\n\t\tlet name = tokens[0];\r\n\t\t// console.info('Parsing new Material:', name);\r\n\r\n\t\tthis.currentMaterial = new Material(name);\r\n\t\tthis.materials[name] = this.currentMaterial;\r\n\t}\r\n\r\n\t/**\r\n\t * See the documenation for parse_Ka below for a better understanding.\r\n\t *\r\n\t * Given a list of possible color tokens, returns an array of R, G, and B\r\n\t * color values.\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t * @return {*} a 3 element array containing the R, G, and B values\r\n\t * of the color.\r\n\t */\r\n\tparseColor(tokens) {\r\n\t\tif (tokens[0] == 'spectral') {\r\n\t\t\tconsole.error(\r\n\t\t\t\t'The MTL parser does not support spectral curve files. You will ' +\r\n\t\t\t\t'need to convert the MTL colors to either RGB or CIEXYZ.'\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (tokens[0] == 'xyz') {\r\n\t\t\tconsole.warn('TODO: convert XYZ to RGB');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// from my understanding of the spec, RGB values at this point\r\n\t\t// will either be 3 floats or exactly 1 float, so that's the check\r\n\t\t// that i'm going to perform here\r\n\t\tif (tokens.length == 3) {\r\n\t\t\treturn tokens.map(parseFloat);\r\n\t\t}\r\n\r\n\t\t// Since tokens at this point has a length of 3, we're going to assume\r\n\t\t// it's exactly 1, skipping the check for 2.\r\n\t\tlet value = parseFloat(tokens[0]);\r\n\t\t// in this case, all values are equivalent\r\n\t\treturn [value, value, value];\r\n\t}\r\n\r\n\t/**\r\n\t * Parse the ambient reflectivity\r\n\t *\r\n\t * A Ka directive can take one of three forms:\r\n\t *   - Ka r g b\r\n\t *   - Ka spectral file.rfl\r\n\t *   - Ka xyz x y z\r\n\t * These three forms are mutually exclusive in that only one\r\n\t * declaration can exist per material. It is considered a syntax\r\n\t * error otherwise.\r\n\t *\r\n\t * The \"Ka\" form specifies the ambient reflectivity using RGB values.\r\n\t * The \"g\" and \"b\" values are optional. If only the \"r\" value is\r\n\t * specified, then the \"g\" and \"b\" values are assigned the value of\r\n\t * \"r\". Values are normally in the range 0.0 to 1.0. Values outside\r\n\t * of this range increase or decrease the reflectivity accordingly.\r\n\t *\r\n\t * The \"Ka spectral\" form specifies the ambient reflectivity using a\r\n\t * spectral curve. \"file.rfl\" is the name of the \".rfl\" file containing\r\n\t * the curve data. \"factor\" is an optional argument which is a multiplier\r\n\t * for the values in the .rfl file and defaults to 1.0 if not specified.\r\n\t *\r\n\t * The \"Ka xyz\" form specifies the ambient reflectivity using CIEXYZ values.\r\n\t * \"x y z\" are the values of the CIEXYZ color space. The \"y\" and \"z\" arguments\r\n\t * are optional and take on the value of the \"x\" component if only \"x\" is\r\n\t * specified. The \"x y z\" values are normally in the range of 0.0 to 1.0 and\r\n\t * increase or decrease ambient reflectivity accordingly outside of that\r\n\t * range.\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Ka(tokens) {\r\n\t\tthis.currentMaterial.ambient = this.parseColor(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Diffuse Reflectivity\r\n\t *\r\n\t * Similar to the Ka directive. Simply replace \"Ka\" with \"Kd\" and the rules\r\n\t * are the same\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Kd(tokens) {\r\n\t\tthis.currentMaterial.diffuse = this.parseColor(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Spectral Reflectivity\r\n\t *\r\n\t * Similar to the Ka directive. Simply replace \"Ks\" with \"Kd\" and the rules\r\n\t * are the same\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Ks(tokens) {\r\n\t\tthis.currentMaterial.specular = this.parseColor(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Emissive\r\n\t *\r\n\t * The amount and color of light emitted by the object.\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Ke(tokens) {\r\n\t\tthis.currentMaterial.emissive = this.parseColor(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Transmission Filter\r\n\t *\r\n\t * Any light passing through the object is filtered by the transmission\r\n\t * filter, which only allows specific colors to pass through. For example, Tf\r\n\t * 0 1 0 allows all of the green to pass through and filters out all of the\r\n\t * red and blue.\r\n\t *\r\n\t * Similar to the Ka directive. Simply replace \"Ks\" with \"Tf\" and the rules\r\n\t * are the same\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Tf(tokens) {\r\n\t\tthis.currentMaterial.transmissionFilter = this.parseColor(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Specifies the dissolve for the current material.\r\n\t *\r\n\t * Statement: d [-halo] `factor`\r\n\t *\r\n\t * Example: \"d 0.5\"\r\n\t *\r\n\t * The factor is the amount this material dissolves into the background. A\r\n\t * factor of 1.0 is fully opaque. This is the default when a new material is\r\n\t * created. A factor of 0.0 is fully dissolved (completely transparent).\r\n\t *\r\n\t * Unlike a real transparent material, the dissolve does not depend upon\r\n\t * material thickness nor does it have any spectral character. Dissolve works\r\n\t * on all illumination models.\r\n\t *\r\n\t * The dissolve statement allows for an optional \"-halo\" flag which indicates\r\n\t * that a dissolve is dependent on the surface orientation relative to the\r\n\t * viewer. For example, a sphere with the following dissolve, \"d -halo 0.0\",\r\n\t * will be fully dissolved at its center and will appear gradually more opaque\r\n\t * toward its edge.\r\n\t *\r\n\t * \"factor\" is the minimum amount of dissolve applied to the material. The\r\n\t * amount of dissolve will vary between 1.0 (fully opaque) and the specified\r\n\t * \"factor\". The formula is:\r\n\t *\r\n\t *    dissolve = 1.0 - (N*v)(1.0-factor)\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_d(tokens) {\r\n\t\t// this ignores the -halo option as I can't find any documentation on what\r\n\t\t// it's supposed to be.\r\n\t\tthis.currentMaterial.transparency = 1.0 - parseFloat(tokens.pop());\r\n\t}\r\n\r\n\tparse_Tr(tokens) {\r\n\t\t// this ignores the -halo option as I can't find any documentation on what\r\n\t\t// it's supposed to be.\r\n\t\tthis.currentMaterial.transparency = parseFloat(tokens.pop());\r\n\t}\r\n\r\n\t/**\r\n\t * The \"illum\" statement specifies the illumination model to use in the\r\n\t * material. Illumination models are mathematical equations that represent\r\n\t * various material lighting and shading effects.\r\n\t *\r\n\t * The illumination number can be a number from 0 to 10. The following are\r\n\t * the list of illumination enumerations and their summaries:\r\n\t * 0. Color on and Ambient off\r\n\t * 1. Color on and Ambient on\r\n\t * 2. Highlight on\r\n\t * 3. Reflection on and Ray trace on\r\n\t * 4. Transparency: Glass on, Reflection: Ray trace on\r\n\t * 5. Reflection: Fresnel on and Ray trace on\r\n\t * 6. Transparency: Refraction on, Reflection: Fresnel off and Ray trace on\r\n\t * 7. Transparency: Refraction on, Reflection: Fresnel on and Ray trace on\r\n\t * 8. Reflection on and Ray trace off\r\n\t * 9. Transparency: Glass on, Reflection: Ray trace off\r\n\t * 10. Casts shadows onto invisible surfaces\r\n\t *\r\n\t * Example: \"illum 2\" to specify the \"Highlight on\" model\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_illum(tokens) {\r\n\t\tthis.currentMaterial.illumination = parseInt(tokens[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Optical Density (AKA Index of Refraction)\r\n\t *\r\n\t * Statement: Ni `index`\r\n\t *\r\n\t * Example: Ni 1.0\r\n\t *\r\n\t * Specifies the optical density for the surface. `index` is the value\r\n\t * for the optical density. The values can range from 0.001 to 10.  A value of\r\n\t * 1.0 means that light does not bend as it passes through an object.\r\n\t * Increasing the optical_density increases the amount of bending. Glass has\r\n\t * an index of refraction of about 1.5. Values of less than 1.0 produce\r\n\t * bizarre results and are not recommended\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Ni(tokens) {\r\n\t\tthis.currentMaterial.refractionIndex = parseFloat(tokens[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Specifies the specular exponent for the current material. This defines the\r\n\t * focus of the specular highlight.\r\n\t *\r\n\t * Statement: Ns `exponent`\r\n\t *\r\n\t * Example: \"Ns 250\"\r\n\t *\r\n\t * `exponent` is the value for the specular exponent. A high exponent results\r\n\t * in a tight, concentrated highlight. Ns Values normally range from 0 to\r\n\t * 1000.\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_Ns(tokens) {\r\n\t\tthis.currentMaterial.specularExponent = parseInt(tokens[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Specifies the sharpness of the reflections from the local reflection map.\r\n\t *\r\n\t * Statement: sharpness `value`\r\n\t *\r\n\t * Example: \"sharpness 100\"\r\n\t *\r\n\t * If a material does not have a local reflection map defined in its material\r\n\t * defintions, sharpness will apply to the global reflection map defined in\r\n\t * PreView.\r\n\t *\r\n\t * `value` can be a number from 0 to 1000. The default is 60. A high value\r\n\t * results in a clear reflection of objects in the reflection map.\r\n\t *\r\n\t * Tip: sharpness values greater than 100 introduce aliasing effects in\r\n\t * flat surfaces that are viewed at a sharp angle.\r\n\t *\r\n\t * @param {string[]} tokens the tokens associated with the directive\r\n\t */\r\n\tparse_sharpness(tokens) {\r\n\t\tthis.currentMaterial.sharpness = parseInt(tokens[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -cc flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -cc flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_cc(values, options) {\r\n\t\toptions.colorCorrection = values[0] == 'on';\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -blendu flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -blendu flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_blendu(values, options) {\r\n\t\toptions.horizontalBlending = values[0] == 'on';\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -blendv flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -blendv flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_blendv(values, options) {\r\n\t\toptions.verticalBlending = values[0] == 'on';\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -boost flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -boost flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_boost(values, options) {\r\n\t\toptions.boostMipMapSharpness = parseFloat(values[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -mm flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -mm flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_mm(values, options) {\r\n\t\toptions.modifyTextureMap.brightness = parseFloat(values[0]);\r\n\t\toptions.modifyTextureMap.contrast = parseFloat(values[1]);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses and sets the -o, -s, and -t  u, v, and w values\r\n\t *\r\n\t * @param {string[]} values the values passed to the -o, -s, -t flag\r\n\t * @param {Object} option the Object of either the -o, -s, -t option\r\n\t * @param {Integer} defaultValue the Object of all image options\r\n\t */\r\n\tparse_ost(values, option, defaultValue) {\r\n\t\twhile (values.length < 3) {\r\n\t\t\tvalues.push(defaultValue);\r\n\t\t}\r\n\r\n\t\toption.u = parseFloat(values[0]);\r\n\t\toption.v = parseFloat(values[1]);\r\n\t\toption.w = parseFloat(values[2]);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -o flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -o flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_o(values, options) {\r\n\t\tthis.parse_ost(values, options.offset, 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -s flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -s flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_s(values, options) {\r\n\t\tthis.parse_ost(values, options.scale, 1);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -t flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -t flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_t(values, options) {\r\n\t\tthis.parse_ost(values, options.turbulence, 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -texres flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -texres flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_texres(values, options) {\r\n\t\toptions.textureResolution = parseFloat(values[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -clamp flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -clamp flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_clamp(values, options) {\r\n\t\toptions.clamp = values[0] == 'on';\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -bm flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -bm flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_bm(values, options) {\r\n\t\toptions.bumpMultiplier = parseFloat(values[0]);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the -imfchan flag and updates the options object with the values.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -imfchan flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_imfchan(values, options) {\r\n\t\toptions.imfChan = values[0];\r\n\t}\r\n\r\n\t/**\r\n\t * This only exists for relection maps and denotes the type of reflection.\r\n\t *\r\n\t * @param {string[]} values the values passed to the -type flag\r\n\t * @param {Object} options the Object of all image options\r\n\t */\r\n\tparse_type(values, options) {\r\n\t\toptions.reflectionType = values[0];\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the texture's options and returns an options object with the info\r\n\t *\r\n\t * @param {string[]} tokens all of the option tokens to pass to the texture\r\n\t * @return {Object} a complete object of objects to apply to the texture\r\n\t */\r\n\tparseOptions(tokens) {\r\n\t\tlet options = {\r\n\t\t\tcolorCorrection: false,\r\n\t\t\thorizontalBlending: true,\r\n\t\t\tverticalBlending: true,\r\n\t\t\tboostMipMapSharpness: 0,\r\n\t\t\tmodifyTextureMap: {\r\n\t\t\t\tbrightness: 0,\r\n\t\t\t\tcontrast: 1,\r\n\t\t\t},\r\n\t\t\toffset: {u: 0, v: 0, w: 0},\r\n\t\t\tscale: {u: 1, v: 1, w: 1},\r\n\t\t\tturbulence: {u: 0, v: 0, w: 0},\r\n\t\t\tclamp: false,\r\n\t\t\ttextureResolution: null,\r\n\t\t\tbumpMultiplier: 1,\r\n\t\t\timfChan: null,\r\n\t\t};\r\n\r\n\t\tlet option;\r\n\t\tlet values;\r\n\t\tlet optionsToValues = {};\r\n\r\n\t\ttokens.reverse();\r\n\r\n\t\twhile (tokens.length) {\r\n\t\t\tconst token = tokens.pop();\r\n\r\n\t\t\tif (token.startsWith('-')) {\r\n\t\t\t\toption = token.substr(1);\r\n\t\t\t\toptionsToValues[option] = [];\r\n\t\t\t} else {\r\n\t\t\t\toptionsToValues[option].push(token);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (option in optionsToValues) {\r\n\t\t\tif (!optionsToValues.hasOwnProperty(option)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvalues = optionsToValues[option];\r\n\t\t\tlet optionMethod = this[`parse_${option}`];\r\n\t\t\tif (optionMethod) {\r\n\t\t\t\toptionMethod.bind(this)(values, options);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn options;\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the given texture map line.\r\n\t *\r\n\t * @param {string[]} tokens all of the tokens representing the texture\r\n\t * @return {Object} a complete object of objects to apply to the texture\r\n\t */\r\n\tparseMap(tokens) {\r\n\t\t// according to wikipedia:\r\n\t\t// (https://en.wikipedia.org/wiki/Wavefront_.obj_file#Vendor_specific_alterations)\r\n\t\t// there is at least one vendor that places the filename before the options\r\n\t\t// rather than after (which is to spec). All options start with a '-'\r\n\t\t// so if the first token doesn't start with a '-', we're going to assume\r\n\t\t// it's the name of the map file.\r\n\t\tlet filename;\r\n\t\tlet options;\r\n\t\tif (!tokens[0].startsWith('-')) {\r\n\t\t\t[filename, ...options] = tokens;\r\n\t\t} else {\r\n\t\t\tfilename = tokens.pop();\r\n\t\t\toptions = tokens;\r\n\t\t}\r\n\r\n\t\toptions = this.parseOptions(options);\r\n\t\toptions['filename'] = filename;\r\n\t\treturn options;\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the ambient map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_Ka direcive\r\n\t */\r\n\tparse_map_Ka(tokens) {\r\n\t\tthis.currentMaterial.mapAmbient = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the diffuse map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_Kd direcive\r\n\t */\r\n\tparse_map_Kd(tokens) {\r\n\t\tthis.currentMaterial.mapDiffuse = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the specular map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_Ks direcive\r\n\t */\r\n\tparse_map_Ks(tokens) {\r\n\t\tthis.currentMaterial.mapSpecular = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the emissive map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_Ke direcive\r\n\t */\r\n\tparse_map_Ke(tokens) {\r\n\t\tthis.currentMaterial.mapEmissive = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the specular exponent map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_Ns direcive\r\n\t */\r\n\tparse_map_Ns(tokens) {\r\n\t\tthis.currentMaterial.mapSpecularExponent = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the dissolve map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_d direcive\r\n\t */\r\n\tparse_map_d(tokens) {\r\n\t\tthis.currentMaterial.mapTransparency = this.parseMap(tokens);\r\n\t}\r\n\r\n\tparse_map_Tr(tokens) {\r\n\t\tthis.currentMaterial.mapTransparency = this.parseMap(tokens);\r\n\t}\r\n\t/**\r\n\t * Parses the anti-aliasing option.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_aat direcive\r\n\t */\r\n\tparse_map_aat(tokens) {\r\n\t\tthis.currentMaterial.antiAliasing = tokens[0] == 'on';\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the bump map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_bump direcive\r\n\t */\r\n\tparse_map_bump(tokens) {\r\n\t\tthis.currentMaterial.mapBump = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the bump map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the bump direcive\r\n\t */\r\n\tparse_bump(tokens) {\r\n\t\tthis.parse_map_bump(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the disp map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the disp direcive\r\n\t */\r\n\tparse_disp(tokens) {\r\n\t\tthis.currentMaterial.mapDisplacement = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the decal map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the map_decal direcive\r\n\t */\r\n\tparse_decal(tokens) {\r\n\t\tthis.currentMaterial.mapDecal = this.parseMap(tokens);\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the refl map.\r\n\t *\r\n\t * @param {string[]} tokens list of tokens for the refl direcive\r\n\t */\r\n\tparse_refl(tokens) {\r\n\t\tthis.currentMaterial.mapReflections.push(this.parseMap(tokens));\r\n\t}\r\n\r\n\t/**\r\n\t * Parses the MTL file.\r\n\t *\r\n\t * Iterates line by line parsing each MTL directive.\r\n\t *\r\n\t * This function expects the first token in the line\r\n\t * to be a valid MTL directive. That token is then used\r\n\t * to try and run a method on this class. parse_[directive]\r\n\t * E.g., the `newmtl` directive would try to call the method\r\n\t * parse_newmtl. Each parsing function takes in the remaining\r\n\t * list of tokens and updates the currentMaterial class with\r\n\t * the attributes provided.\r\n\t */\r\n\tparse() {\r\n\t\tlet lines = this.data.split(/\\r?\\n/);\r\n\t\tfor (let line of lines) {\r\n\t\t\tline = line.trim();\r\n\t\t\tif (!line || line.startsWith('#')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet tokens = line.split(/\\s/);\r\n\t\t\tlet directive;\r\n\t\t\t[directive, ...tokens] = tokens;\r\n\r\n\t\t\tlet parseMethod = this[`parse_${directive}`];\r\n\r\n\t\t\tif (!parseMethod) {\r\n\t\t\t\tconsole.warn(`Don't know how to parse the directive: \"${directive}\"`);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// console.log(`Parsing \"${directive}\" with tokens: ${tokens}`);\r\n\t\t\tparseMethod.bind(this)(tokens);\r\n\t\t}\r\n\t\t\r\n\t\t// some cleanup. These don't need to be exposed as public data.\r\n\t\tdelete this.data;\r\n\t\t\r\n\t\tthis.currentMaterial = null;\r\n\t}\r\n\r\n\t\r\n\t/* eslint-enable camelcase*/\r\n};\r\n\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/OBJ/material.js\n// module id = 11\n// module chunks = 0","import {DiskModel} from \"./models/diskmodel\";\r\nimport {mat4, vec3} from \"gl-matrix\";\r\nimport {BasicModel} from \"./models/basicmodel\";\r\nimport {Shader} from \"../shader\";\r\nimport {MeshlessModel} from \"./models/meshlessmodel\";\r\nimport * as Random from \"../random\";\r\nimport {Noisefield} from \"../noisefield\";\r\nimport {version} from \"punycode\";\r\nimport {Entity, Model_Type} from \"./entity\";\r\n\r\nexport enum Terrain {\r\n    RED_ROCK = 0,\r\n    LEAFY = 1,\r\n    ICY = 2,\r\n    SANDY = 3,\r\n    GREY_ROCK = 4\r\n}\r\n\r\n\r\n\r\nexport class Disk extends Entity{\r\n    initialized : boolean;\r\n    diskModel: DiskModel;\r\n    heightMapModel: MeshlessModel;\r\n    heightMapEntity:Entity;\r\n    heightMap: number[][];\r\n    radius: number;\r\n    type: Terrain;\r\n    heightMapSize: number;\r\n    static height_map_model_gen_count = 0;\r\n    \r\n    constructor(diskModel: DiskModel, type: Terrain, radius: number, x: number, y: number, z: number) {\r\n        super(vec3.fromValues(x,y,z),vec3.fromValues(radius,1,radius), vec3.fromValues(0,0,0), diskModel.mesh.name, Model_Type.BASIC);\r\n        if (!diskModel.initialized) throw \"DiskModel was not initialized\";\r\n        this.diskModel = diskModel;\r\n        this.radius = radius;\r\n        this.type = type;\r\n        this.initialized = false;\r\n \r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        this.generateHeightMapModels(gl);\r\n        this.heightMapModel.init(gl);\r\n        let corner = this.radius * Math.SQRT2 / 2;\r\n        let scale =vec3.fromValues(corner * 2 / this.heightMapSize,1,corner * 2 / this.heightMapSize);\r\n        let position = vec3.fromValues(this.position[0], this.position[1] + 0.0001, this.position[2]);\r\n        this.heightMapEntity = new Entity(position, scale,this.forward,this.heightMapModel.name,Model_Type.MESHLESS);\r\n        Disk.height_map_model_gen_count++;\r\n        this.initialized = true;\r\n    }\r\n\r\n   \r\n    private generateHeightMapModels(gl: WebGL2RenderingContext) {\r\n        switch (this.type) {\r\n            case Terrain.RED_ROCK:\r\n                this.heightMapSize = 16;\r\n                this.initRedRockHeightMap();\r\n                break;\r\n            case Terrain.LEAFY:\r\n                this.heightMapSize = 32;\r\n                this.initLeafyHeightMap();\r\n                break;\r\n            case Terrain.ICY:\r\n                this.heightMapSize = 48;\r\n                this.initIcyHeightMap();\r\n                break;\r\n            case Terrain.SANDY:\r\n                this.heightMapSize = 64;\r\n                this.initSandyHeightMap();\r\n                break;\r\n            case Terrain.GREY_ROCK:\r\n                this.heightMapSize = 80;\r\n                this.initGreyRockHeightMap();\r\n                break;\r\n        }\r\n        this.generateHeightMapModel(gl);\r\n    }\r\n\r\n\r\n    private generateHeightMapModel(gl: WebGL2RenderingContext) {\r\n        let vert_buffer_size = (this.heightMapSize + 1) * (this.heightMapSize + 1);\r\n        let verts: Float32Array = new Float32Array(vert_buffer_size * 8);\r\n        let count = 0;\r\n        for (let x = 0; x < this.heightMapSize + 1; x++) {\r\n            for (let z = 0; z < this.heightMapSize + 1; z++) {\r\n                //Position\r\n                verts[count++] = x - (this.heightMapSize / 2);\r\n                verts[count++] = this.heightMap[x][z];\r\n                verts[count++] = z - (this.heightMapSize / 2);\r\n\r\n                //Texture coords\r\n                verts[count++] = x / 16.0;\r\n                verts[count++] = z / 16.0;\r\n                //Normals\r\n                verts[count++] = 0;\r\n                verts[count++] = 0;\r\n                verts[count++] = 0;\r\n               \r\n\r\n            }\r\n        }\r\n\r\n        let index_buffer_size = this.heightMapSize * (this.heightMapSize) * 6;\r\n        let indices = new Uint16Array(index_buffer_size);\r\n        count = 0;\r\n        //Create triangles using indices which reference vertices in the triangle strip\r\n        for (let i = 0; i < vert_buffer_size - (this.heightMapSize + 1); i += (this.heightMapSize + 1)) {\r\n            for (let j = 0; j < this.heightMapSize; j++) {\r\n                const v = i + j;\r\n\r\n                //0,1,2\r\n                indices[count++] = v + (this.heightMapSize + 1);\r\n                indices[count++] = v;\r\n                indices[count++] = v + (this.heightMapSize + 1) + 1;\r\n\r\n                //2,1,3\r\n                indices[count++] = v + (this.heightMapSize + 1) + 1;\r\n                indices[count++] = v;\r\n                indices[count++] = v + 1;\r\n            }\r\n\r\n        }\r\n\r\n        //Calculate the normals. For each faces normal we add it to the normals of the vertices used.\r\n        //Normals will be normalized in fragment shader\r\n        for (let i = 0; i < index_buffer_size - 2; i += 3) {\r\n            const i1 = indices[i] * 8;\r\n            const i2 = indices[i + 1] * 8;\r\n            const i3 = indices[i + 2] * 8;\r\n\r\n            //Find normal using cross product\r\n            // // (v2 - v1) cross (v3 - v1)\r\n            let norm = new Array(3);\r\n\r\n            const ax = verts[i2] - verts[i1],\r\n                ay = verts[i2 + 1] - verts[i1 + 1],\r\n                az = verts[i2 + 2] - verts[i1 + 2];\r\n            const bx = verts[i3] - verts[i1],\r\n                by = verts[i3 + 1] - verts[i1 + 1],\r\n                bz = verts[i3 + 2] - verts[i1 + 2];\r\n\r\n            norm[0] = ay * bz - az * by;\r\n            norm[1] = az * bx - ax * bz;\r\n            norm[2] = ax * by - ay * bx;\r\n\r\n            //Add to the existing normals\r\n            verts[i1 + 5] += norm[0];\r\n            verts[i1 + 6] += norm[1];\r\n            verts[i1 + 7] += norm[2];\r\n            verts[i2 + 5] += norm[0];\r\n            verts[i2 + 6] += norm[1];\r\n            verts[i2 + 7] += norm[2];\r\n            verts[i3 + 5] += norm[0];\r\n            verts[i3 + 6] += norm[1];\r\n            verts[i3 + 7] += norm[2];\r\n        }\r\n\r\n        this.heightMapModel = new MeshlessModel(verts, indices, this.diskModel.mesh.materialsByIndex[2]);\r\n\r\n \r\n    }\r\n\r\n    private initRedRockHeightMap() {\r\n        this.heightMap = [];\r\n        let heights = [];\r\n        heights.push(0, 0);\r\n        for (let i = 2; i <= this.heightMapSize / 2; i++) {\r\n            let a = heights[i - 1];\r\n            heights.push(Math.round((a + Math.random() * (3) - 1) * 1e1) / 1e1);\r\n        }\r\n\r\n        for (let x = 0; x <= this.heightMapSize; x++) {\r\n            this.heightMap[x] = [];\r\n            let max = x > this.heightMapSize / 2 ? this.heightMapSize - x : x;\r\n            for (let z = 0; z <= this.heightMapSize; z++) {\r\n                if (z > this.heightMapSize - max) max--;\r\n                let a = z;\r\n                if (a > max) a = max;\r\n                this.heightMap[x].push(heights[a]);\r\n            }\r\n        }\r\n    }\r\n\r\n    private initSandyHeightMap() {\r\n        this.heightMap = [];\r\n\r\n        let ns = new Noisefield(16, 8, Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF),\r\n            Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF));\r\n\r\n        let xz_6 = new Array(this.heightMapSize + 1);\r\n        let pow_divisor = (1.0 - Math.pow(0.5, 6));\r\n\r\n        for (let x = 0; x <= this.heightMapSize; x++) {\r\n            let ux = x / this.heightMapSize;\r\n            xz_6[x] = Math.max(Math.pow(ux, 6), Math.pow(1.0 - ux, 6));\r\n        }\r\n\r\n        for (let x = 0; x <= this.heightMapSize; x++) {\r\n            this.heightMap[x] = [];\r\n\r\n            for (let z = 0; z <= this.heightMapSize; z++) {\r\n                let h = ns.perlineNoise(z, x);\r\n                let f = (1 - Math.max(xz_6[x], xz_6[z])) / pow_divisor;\r\n                this.heightMap[x].push(h * f);\r\n            }\r\n        }\r\n    }\r\n\r\n    private initGreyRockHeightMap() {\r\n        this.heightMap = [];\r\n\r\n        let ns = [\r\n            new Noisefield(32, 1.0, Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF),\r\n                Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF)),\r\n            new Noisefield(16, 7.0, Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF),\r\n                Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF)),\r\n            new Noisefield(8, 5.0, Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF),\r\n                Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF)),\r\n            new Noisefield(4, 3.5, Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF),\r\n                Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF)),\r\n            new Noisefield(2, 2.5, Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF),\r\n                Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF), Random.randi(0xFFFFFFFF)),\r\n        ];\r\n\r\n        for (let x = 0; x <= this.heightMapSize; x++) {\r\n            this.heightMap[x] = [];\r\n\r\n            for (let z = 0; z <= this.heightMapSize; z++) {\r\n                let h = ns[0].perlineNoise(z, x)\r\n                    + ns[1].perlineNoise(z, x)\r\n                    + ns[2].perlineNoise(z, x)\r\n                    + ns[3].perlineNoise(z, x)\r\n                    + ns[4].perlineNoise(z, x);\r\n\r\n                let ux = x / this.heightMapSize;\r\n                let uy = z / this.heightMapSize;\r\n                let f = (1 - Math.max(Math.max(Math.pow(ux, 6), Math.pow(1.0 - ux, 6)), Math.max(Math.pow(uy, 6), Math.pow(1.0 - uy, 6)))) / (1.0 - Math.pow(0.5, 6));\r\n                this.heightMap[x].push(h * f);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private initIcyHeightMap() {\r\n        let points = [];\r\n\r\n        let h = this.heightMapSize / 2;\r\n        for (let i = 0; i < 200; i++) {\r\n            let d1 = Math.random() * h;\r\n            let d2 = Math.random() * h;\r\n            let d3 = Math.random() * h;\r\n            let d4 = Math.random() * h;\r\n            let d = Math.max(d1, d2, d3, d4);\r\n            let a = Math.random() * Math.PI * 2;\r\n            let x = (h + Math.cos(a) * d);\r\n            let z = (h + Math.sin(a) * d);\r\n            let m = (h - d) * 0.7;\r\n            let y = Math.random() * (m + m) - m;\r\n            points.push([x, y, z]);\r\n        }\r\n        this.heightMap = new Array(this.heightMapSize + 1);\r\n        for (let x = 0; x <= this.heightMapSize; x++) {\r\n            this.heightMap[x] = new Array(this.heightMapSize + 1);\r\n            for (let z = 0; z <= this.heightMapSize; z++) {\r\n                let min = 0, max = 0;\r\n                for (let i = 0; i < points.length; i++) {\r\n                    let x2 = (points[i][0] - x) * (points[i][0] - x);\r\n                    let z2 = (points[i][2] - z) * (points[i][2] - z);\r\n                    let distance = Math.sqrt(x2 + z2);\r\n                    max = Math.max(max, points[i][1] - distance);\r\n                    min = Math.min(min, points[i][1] + distance);\r\n                }\r\n                this.heightMap[x][z] = max + min;\r\n            }\r\n        }\r\n    }\r\n\r\n    private initLeafyHeightMap() {\r\n        //Math.random() * (max - min) + min;\r\n        let LL = Math.random() * (2) - 1;\r\n        let LC = Math.random() * (2) - 1;\r\n        let LR = Math.random() * (2) - 1;\r\n        let RI = Math.random() * (2) - 1;\r\n        let RM = Math.random() * (2) - 1;\r\n        let RO = Math.random() * (2) - 1;\r\n\r\n\r\n        let a1 = Random.randi(7);\r\n        let a2 = Random.randi(7);\r\n        let ARM_COUNT = a1 < a2 ? a1 : a2;\r\n        let ARM_RADIANS = Math.random() * (Math.PI * 2);\r\n\r\n        let AI = Math.random();\r\n        let AM = Math.random();\r\n        let AO = Math.random();\r\n        if (Math.random() > 0.5) {\r\n            AI = -AI;\r\n            AM = -AM;\r\n            AO = -AO;\r\n        }\r\n\r\n\r\n        this.heightMap = new Array(this.heightMapSize + 1);\r\n\r\n        for (let x = 0; x <= this.heightMapSize; x++) {\r\n            this.heightMap[x] = new Array(this.heightMapSize + 1);\r\n            for (let z = 0; z <= this.heightMapSize; z++) {\r\n                let ux = x / this.heightMapSize;\r\n                let uy = z / this.heightMapSize;\r\n                let x2 = ux * 2 - 1;\r\n                let y2 = uy * 2 - 1;\r\n                let dist = Math.min(Math.sqrt(x2 * x2 + y2 * y2), 1);\r\n                let radians = Math.atan2(y2, x2);\r\n\r\n                let ll = Math.pow(ux, 4) * (1 - ux) * 12;\r\n                let lc = (Math.cos(Math.PI * x2) + 1) * 0.5;\r\n                let lr = Math.pow((1 - ux), 4) * ux * 12;\r\n                let lsum = ll * LL + lc * LC + lr * LR;\r\n\r\n                let ri = Math.pow(Math.max(1 - dist, 0), 2);\r\n                let rm = Math.sin(Math.PI * Math.min(Math.pow(dist, 0.8) * (4 / 3), 1));\r\n                let ro = Math.max(Math.sin(Math.PI * Math.pow(dist, 1.6)), 0);\r\n                let rsum = ri * RI + rm * RM + ro * RO;\r\n\r\n                let ai = (Math.sqrt(dist) - dist) * 4;\r\n                let am = Math.pow(dist, 2) * Math.pow((1 - dist), 2) * 16;\r\n                let ao = (Math.sqrt(1 - dist) - (1 - dist)) * 4;\r\n                let asum = ai * AI + am * AM + ao * AO;\r\n\r\n                let non_arm_height = lsum * rsum;\r\n                let arm_radians = radians * ARM_COUNT + ARM_RADIANS;\r\n                let arm_magnitude = (Math.sin(arm_radians) + 1.0) * 0.5;\r\n                let arm_height = arm_magnitude * asum;\r\n                this.heightMap[x][z] = non_arm_height * 5 + arm_height * 3;\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    draw(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n        this.drawDiskModel(gl, view_matrix, projection_matrix);\r\n        this.drawHeightMapModel(gl, view_matrix, projection_matrix);\r\n    }\r\n\r\n    drawDiskModel(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n        let model = mat4.create();\r\n        //Center the squares in the disk\r\n        let pos = vec3.fromValues(this.position[0], this.position[1], this.position[2]);\r\n        mat4.translate(model, model, pos);\r\n        mat4.scale(model, model, vec3.fromValues(this.radius, 1, this.radius));\r\n        BasicModel.setMVPMatrices(model,view_matrix, projection_matrix);\r\n        this.diskModel.draw(gl);\r\n    }\r\n\r\n    drawHeightMapModel(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n\r\n        let model = mat4.create();\r\n        //Center the squares in the disk\r\n        let pos = vec3.fromValues(this.position[0], this.position[1], this.position[2]);\r\n        let corner = this.radius * Math.SQRT2 / 2;\r\n        pos[1] += 0.00001;\r\n        mat4.translate(model, model, pos);\r\n        mat4.scale(model, model, vec3.fromValues(corner * 2 / this.heightMapSize, 1, corner * 2 / this.heightMapSize));\r\n        BasicModel.setMVPMatrices(model,view_matrix, projection_matrix);\r\n        this.heightMapModel.draw(gl);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/disk.ts","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 13\n// module chunks = 0","import {glMatrix, mat4, vec3, vec4} from \"gl-matrix\";\r\nimport {Shader} from \"./shader\";\r\nimport {Camera, Camera_Movement} from \"./camera\";\r\n\r\nimport {Mesh} from './lib/OBJ/mesh';\r\nimport {MaterialLibrary} from './lib/OBJ/index.js';\r\nimport {Layout} from './lib/OBJ/layout';\r\nimport {Player, Player_Movement} from \"./entities/player\";\r\nimport {World, WorldMeshes} from \"./entities/world\";\r\nimport {Skybox} from \"./entities/skybox\";\r\nimport {BasicModel} from \"./entities/models/basicmodel\";\r\nimport {Renderer} from \"./Renderer\";\r\nimport {BasicModelShader} from \"./basicmodelshader\";\r\nimport * as assert from \"assert\";\r\n\r\nlet MainLoop = require('./lib/MainLoop/mainloop.js');\r\n\r\nlet is_mobile;\r\nlet demo_ticker = 0;\r\nlet document = window.document;\r\nlet canvas: HTMLCanvasElement;\r\nlet gl: WebGL2RenderingContext;\r\n\r\nlet shader: Shader;\r\nlet instancedShader: Shader;\r\nlet basicModelShader: BasicModelShader;\r\nlet basicModelRenderer: Renderer;\r\n\r\nconst playerOrigin = vec3.fromValues(0, 0.8, 0);\r\nconst playerOriginRotation = vec3.fromValues(1, 0, 0);\r\n\r\nlet keys: boolean[] = [];\r\nlet mouseKeys: boolean[] = [];\r\n\r\nlet fpsCounter = document.getElementById('fpscounter');\r\n\r\nlet playerCamera: Camera = new Camera(vec3.fromValues(0, 1.6, 0), vec3.fromValues(0, 1, 0), 0);\r\nlet worldCamera: Camera = new Camera(vec3.fromValues(100, 200, 10), vec3.fromValues(0, 1, 0), 0, 0);\r\n//Set overview camera to look at origin.\r\nworldCamera.lookAt(vec3.fromValues(0, 0, 0));\r\n\r\nlet activeCamera: Camera = playerCamera;\r\n\r\nclass Main {\r\n    world: World;\r\n    skybox: Skybox;\r\n    player: Player;\r\n\r\n    constructor() {\r\n\r\n        canvas = <HTMLCanvasElement> document.getElementById(\"canvas\");\r\n        this.initGL();\r\n\r\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n            is_mobile = true;\r\n        }\r\n\r\n        //Set the background color before we load any assets\r\n        gl.clearColor(0.2, 0.3, 0.3, 1.0);\r\n        gl.enable(gl.DEPTH_TEST);\r\n        gl.enable(gl.CULL_FACE);\r\n        gl.cullFace(gl.BACK);\r\n\r\n        this.resize();\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n        //Display that we are loading\r\n\r\n        this.loadAssets().then(() => {\r\n\r\n            //Done loading\r\n\r\n            this.initBuffers();\r\n            this.initPointerLock();\r\n            //Wait ms so images can load to prevent texture warnings\r\n            setTimeout(h => {\r\n                MainLoop.setBegin(this.begin.bind(this))\r\n                    .setUpdate(this.update.bind(this))\r\n                    .setDraw(this.draw.bind(this))\r\n                    .setEnd(this.end.bind(this))\r\n                    .start();\r\n\r\n            }, 100);\r\n        });\r\n    }\r\n\r\n    async loadAssets(): Promise<void> {\r\n        let start = Date.now();\r\n\r\n        let loading = document.getElementById(\"loading\");\r\n        loading.innerText = \"Loading Models and World. Please Wait.\";\r\n\r\n        let _worldMeshes = await World.loadWorldMeshes();\r\n        let _worldMat = await World.loadWorldMat();\r\n        let _worldData = await World.loadWorldData();\r\n\r\n        let skybox_model = await Skybox.load();\r\n        let _playerData = await Player.loadMesh();\r\n\r\n        this.player = new Player(gl, _playerData[\"cbabe\"], playerOrigin);\r\n        this.skybox = new Skybox(gl, skybox_model[\"Skybox\"]);\r\n        let w = Date.now();\r\n        this.world = new World(gl, _worldData, _worldMeshes, _worldMat);\r\n        console.log(\"world gen time: \" + (Date.now() - w) / 1000 + \"s\");\r\n        shader = await new Shader(gl, require(\"../src/shaders/basic.vert\"), require(\"../src/shaders/basic.frag\"));\r\n        // instancedShader = await new Shader(gl, require('../src/shaders/instanced.vert'), require(\"../src/shaders/instanced.frag\"));\r\n        basicModelShader = await new BasicModelShader(gl, require('../src/shaders/basicmodel.vert'), require(\"../src/shaders/basicmodelmanylights.frag\"));\r\n        basicModelRenderer = new Renderer();\r\n        basicModelRenderer.init(basicModelShader);\r\n        basicModelRenderer.addBasicModel(this.player.model);\r\n        basicModelRenderer.addEntityToRenderList(this.player);\r\n        basicModelRenderer.addBasicModel(this.world.diskAModel);\r\n        basicModelRenderer.addBasicModel(this.world.diskBModel);\r\n        basicModelRenderer.addBasicModel(this.world.diskCModel);\r\n        basicModelRenderer.addBasicModel(this.world.diskDModel);\r\n        basicModelRenderer.addBasicModel(this.world.diskEModel);\r\n\r\n        this.world.disks.forEach(disk => {\r\n            assert(disk.initialized);\r\n            basicModelRenderer.addEntityToRenderList(disk);\r\n            basicModelRenderer.addMeshlessModel(disk.heightMapModel);\r\n            basicModelRenderer.addEntityToRenderList(disk.heightMapEntity);\r\n        });\r\n\r\n        loading.remove();\r\n        let end = Date.now();\r\n        console.log(\"total time: \" + (end - start) / 1000 + \"s\");\r\n    }\r\n\r\n\r\n    initGL() {\r\n        try {\r\n            gl = <WebGL2RenderingContext> canvas.getContext(\"webgl2\");\r\n        } catch (e) {\r\n            throw \"GL init error:\\n\" + e;\r\n        }\r\n        if (!gl) {\r\n            alert(\"WebGL is not available on your browser.\")\r\n        }\r\n        gl.enable(gl.SAMPLE_COVERAGE);\r\n        gl.sampleCoverage(1, false);\r\n    }\r\n\r\n\r\n    initBuffers() {\r\n\r\n        playerCamera.front = this.player.forward;\r\n\r\n        shader.use();\r\n        shader.setIntByName(\"texture1\", 0);\r\n        basicModelShader.use();\r\n        // instancedShader.setInt(\"material.diffuse\", 0);\r\n        // instancedShader.setInt(\"material.specular\", 1);\r\n        // instancedShader.setInt(\"material.emission\", 2);\r\n        BasicModel.initWithShader(gl, basicModelShader);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @param {Number} delta\r\n     *   The amount of time since the last update, in seconds.\r\n     */\r\n    update(delta) {\r\n    }\r\n\r\n    /**\r\n     * Called once per frame before update and draw\r\n     */\r\n    begin(timestamp, delta) {\r\n        delta /= 1000;\r\n\r\n        if (is_mobile) {\r\n            this.doDemo(delta);\r\n        } else {\r\n            if (keys[40] || keys[83]) {\r\n                //     camera.processKeyboard(Camera_Movement.BACKWARD, delta);\r\n                this.player.move(Player_Movement.BACKWARD, delta);\r\n            } else if ((keys[38] || keys[87]) || (mouseKeys[1] && mouseKeys[3])) {\r\n                //     camera.processKeyboard(Camera_Movement.FORWARD, delta);\r\n                this.player.move(Player_Movement.FORWARD, delta);\r\n            }\r\n            if (keys[65]) {\r\n                //   camera.processKeyboard(Camera_Movement.LEFT, delta);\r\n                this.player.move(Player_Movement.LEFT, delta);\r\n            } else if (keys[68]) {\r\n                //   camera.processKeyboard(Camera_Movement.RIGHT, delta);\r\n                this.player.move(Player_Movement.RIGHT, delta);\r\n            }\r\n\r\n            if (keys[37]) {\r\n                this.player.rotate(delta);\r\n                playerCamera.front[0] = this.player.forward[0];\r\n                playerCamera.front[2] = this.player.forward[2];\r\n                playerCamera.up = this.player.up;\r\n            }\r\n            if (keys[39]) {\r\n                this.player.rotate(-delta);\r\n                playerCamera.front[0] = this.player.forward[0];\r\n                playerCamera.front[2] = this.player.forward[2];\r\n                playerCamera.up = this.player.up;\r\n            }\r\n\r\n            if (keys[82]) {\r\n                vec3.copy(this.player.position, playerOrigin);\r\n                vec3.copy(this.player.forward, playerOriginRotation);\r\n            }\r\n\r\n            if (keys[79]) {\r\n                activeCamera = worldCamera;\r\n            } else {\r\n                activeCamera = playerCamera;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @param {Number} interpolationPercentage\r\n     *   How much to interpolate between frames.\r\n     */\r\n    draw(interpolationPercentage) {\r\n\r\n        this.resize();\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n\r\n        //Move camera behind player\r\n        playerCamera.position[0] = this.player.position [0];\r\n        playerCamera.position[2] = this.player.position[2];\r\n        playerCamera.position[0] -= 2 * this.player.forward[0];\r\n        playerCamera.position[2] -= 2 * this.player.forward[2];\r\n\r\n\r\n        //Setup view and projection\r\n        let projection_matrix = mat4.create();\r\n        mat4.identity(projection_matrix);\r\n        let view_matrix = activeCamera.getViewMatrix();\r\n        mat4.perspective(projection_matrix, glMatrix.toRadian(80), canvas.width / canvas.height, 0.1, 10000);\r\n\r\n        let model = mat4.create();\r\n\r\n        //Draw Skybox\r\n        gl.disable(gl.DEPTH_TEST);\r\n        shader.use();\r\n        mat4.translate(model, model, activeCamera.position);\r\n        shader.setFloatByName(\"ambient\", 1.0);\r\n\r\n        shader.setMat4ByName(\"model\", model);\r\n        let viewProjection = mat4.create();\r\n        viewProjection = mat4.multiply(viewProjection, projection_matrix, view_matrix);\r\n        shader.setMat4ByName(\"viewProjection\", viewProjection);\r\n        this.skybox.draw(gl);\r\n\r\n        basicModelShader.use();\r\n\r\n        // directional light\r\n        basicModelShader.setBoolByName(\"lights[0].is_enabled\", true);\r\n        basicModelShader.setVec4ByName(\"lights[0].position\", [0.34, 0.83, 0.44, 0.0]);\r\n        basicModelShader.setVec3ByName(\"lights[0].ambient\", [1.0, 1.0, 1.0]);\r\n        basicModelShader.setVec3ByName(\"lights[0].diffuse\", [1.0, 1.0, 1.0]);\r\n        basicModelShader.setVec3ByName(\"lights[0].specular\", [1.0, 1.0, 1.0]);\r\n        //Setup player point light\r\n\r\n        // basicModelShader.setBool(\"lights[1].is_enabled\", true);\r\n        // basicModelShader.setVec4(\"lights[1].position\", [this.player.position[0], this.player.position[1], this.player.position[2], 1.0]);\r\n        // basicModelShader.setVec3(\"lights[1].ambient\", [0.05, 0.05, 0.05]);\r\n        // basicModelShader.setVec3(\"lights[1].diffuse\", [0.1, 0.1, 0.1]);\r\n        // basicModelShader.setVec3(\"lights[1].specular\", [0.0, 0.0, 0.0]);\r\n        // basicModelShader.setVec3(\"lights[1].attenuation\", [0.4, 0.09, 0.032]);\r\n\r\n        basicModelShader.setVec3(basicModelShader.uniforms.camera_pos, activeCamera.position);\r\n\r\n        // //Draw Disk\r\n        gl.enable(gl.DEPTH_TEST);\r\n        // this.world.draw(gl, view_matrix, projection_matrix);\r\n\r\n        basicModelRenderer.render(gl, view_matrix, projection_matrix);\r\n        // this.player.draw(gl, view_matrix, projection_matrix);\r\n\r\n    }\r\n\r\n    end(fps, panic) {\r\n        fpsCounter.textContent = Math.round(fps) + ' FPS';\r\n        if (panic) {\r\n            var discardedTime = Math.round(MainLoop.resetFrameDelta());\r\n            console.warn(\"Main loop panicked, probably because the browser tab was put in the background. Discarding \" + discardedTime + 'ms');\r\n        }\r\n    }\r\n\r\n\r\n    doDemo(delta: number) {\r\n        demo_ticker++;\r\n        this.player.move(Player_Movement.FORWARD, delta / 2);\r\n       \r\n            this.player.rotate(delta / 8);\r\n            playerCamera.front[0] = this.player.forward[0];\r\n            playerCamera.front[2] = this.player.forward[2];\r\n        \r\n    }\r\n\r\n    resize(): void {\r\n        let min = Math.min(window.innerHeight, window.innerWidth);\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n\r\n        gl.viewport(0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n\r\n    initPointerLock() {\r\n        let _canvas: any = canvas;\r\n        // Start by going fullscreen with the element.  Current implementations\r\n        // require the element to be in fullscreen before requesting pointer\r\n        // lock--something that will likely change in the future.\r\n        canvas.requestFullscreen = canvas.requestFullscreen ||\r\n            _canvas.mozRequestFullscreen ||\r\n            _canvas.mozRequestFullScreen || // Older API upper case 'S'.\r\n            canvas.webkitRequestFullscreen;\r\n        canvas.addEventListener('click', canvas.requestFullscreen, false);\r\n\r\n        document.addEventListener('fullscreenchange', this.fullscreenChange, false);\r\n        document.addEventListener('mozfullscreenchange', this.fullscreenChange, false);\r\n        document.addEventListener('webkitfullscreenchange', this.fullscreenChange, false);\r\n\r\n        document.addEventListener('pointerlockchange', this.pointerLockChange, false);\r\n        document.addEventListener('mozpointerlockchange', this.pointerLockChange, false);\r\n        document.addEventListener('webkitpointerlockchange', this.pointerLockChange, false);\r\n    }\r\n\r\n    fullscreenChange = (e) => {\r\n        let document: any = window.document;\r\n        let _canvas: any = canvas;\r\n        if (document.webkitFullscreenElement === canvas ||\r\n            document.mozFullscreenElement === canvas ||\r\n            document.mozFullScreenElement === canvas ||\r\n            document.fullscreenElement === canvas) { // Older API upper case 'S'.\r\n            // Element is fullscreen, now we can request pointer lock\r\n            canvas.requestPointerLock = canvas.requestPointerLock ||\r\n                _canvas.mozRequestPointerLock ||\r\n                _canvas.webkitRequestPointerLock;\r\n            canvas.requestPointerLock();\r\n        }\r\n    };\r\n\r\n    pointerLockChange = (e) => {\r\n\r\n        let document: any = window.document;\r\n        if (document.pointerLockElement === canvas ||\r\n            document.mozPointerLockElement === canvas ||\r\n            document.webkitPointerLockElement === canvas) {\r\n\r\n            document.addEventListener(\"mousemove\", this.moveCallback, false);\r\n        }\r\n        else {\r\n            document.removeEventListener(\"mousemove\", this.moveCallback, false);\r\n        }\r\n    };\r\n\r\n    moveCallback = (e) => {\r\n        let movementX = e.movementX ||\r\n            e.mozMovementX ||\r\n            e.webkitMovementX ||\r\n            0;\r\n        let movementY = e.movementY ||\r\n            e.mozMovementY ||\r\n            e.webkitMovementY ||\r\n            0;\r\n        this.player.rotate(-movementX / 600);\r\n        playerCamera.processMouseMovement(this.player.forward, this.player.position, movementX, -movementY, true);\r\n    }\r\n\r\n}\r\n\r\nwindow.onkeydown = function (e) {\r\n    keys[e.keyCode] = true;\r\n};\r\n\r\nwindow.onkeyup = function (e) {\r\n    keys[e.keyCode] = false;\r\n};\r\n\r\nwindow.onmousedown = function (e) {\r\n    mouseKeys[e.which] = true;\r\n};\r\n\r\nwindow.onmouseup = function (e) {\r\n    mouseKeys[e.which] = false;\r\n};\r\n\r\n\r\nnew Main();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\"\n\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {mat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\nexport function fromValues(m00, m01, m10, m11) {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    let a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nexport function invert(out, a) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n\n  // Calculate the determinant\n  let det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] =  a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] =  a0 * det;\n\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  let a0 = a[0];\n  out[0] =  a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] =  a0;\n\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat2\n *\n * @param {mat2} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nexport function multiply(out, a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nexport function rotate(out, a, rad) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  out[0] = a0 *  c + a2 * s;\n  out[1] = a1 *  c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\nexport function scale(out, a, v) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let v0 = v[0], v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nexport function fromRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat2} out\n */\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n\n/**\n * Returns a string representation of a mat2\n *\n * @param {mat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {mat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nexport function frob(a) {\n  return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2)))\n}\n\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {mat2} L the lower triangular matrix\n * @param {mat2} D the diagonal matrix\n * @param {mat2} U the upper triangular matrix\n * @param {mat2} a the input matrix to factorize\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2]/a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat2} a The first matrix.\n * @param {mat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat2} a The first matrix.\n * @param {mat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)));\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  return out;\n}\n\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\nexport const sub = subtract;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/mat2.js\n// module id = 15\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\";\n\n/**\n * 2x3 Matrix\n * @module mat2d\n *\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, c, tx,\n *  b, d, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, c, tx,\n *  b, d, ty,\n *  0, 0, 1]\n * </pre>\n * The last row is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {mat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\nexport function fromValues(a, b, c, d, tx, ty) {\n  let out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nexport function invert(out, a) {\n  let aa = a[0], ab = a[1], ac = a[2], ad = a[3];\n  let atx = a[4], aty = a[5];\n\n  let det = aa * ad - ab * ac;\n  if(!det){\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {mat2d} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nexport function multiply(out, a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nexport function rotate(out, a, rad) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5];\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  out[0] = a0 *  c + a2 * s;\n  out[1] = a1 *  c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\nexport function scale(out, a, v) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5];\n  let v0 = v[0], v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\nexport function translate(out, a, v) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5];\n  let v0 = v[0], v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nexport function fromRotation(out, rad) {\n  let s = Math.sin(rad), c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat2d} out\n */\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat2d} out\n */\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n\n/**\n * Returns a string representation of a mat2d\n *\n * @param {mat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' +\n          a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {mat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nexport function frob(a) {\n  return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1))\n}\n\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  out[4] = a[4] + (b[4] * scale);\n  out[5] = a[5] + (b[5] * scale);\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat2d} a The first matrix.\n * @param {mat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat2d} a The first matrix.\n * @param {mat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\n          Math.abs(a4 - b4) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\n          Math.abs(a5 - b5) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a5), Math.abs(b5)));\n}\n\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\nexport const sub = subtract;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/mat2d.js\n// module id = 16\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\";\n\n/**\n * 4x4 Matrix\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  let out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    let a01 = a[1], a02 = a[2], a03 = a[3];\n    let a12 = a[6], a13 = a[7];\n    let a23 = a[11];\n\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function invert(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function adjoint(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n  out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n  out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n  out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n  out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n  out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function multiply(out, a, b) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  // Cache only the current line of the second matrix\n  let b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n  b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n  out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n  b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n  out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n  b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n  out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  return out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nexport function translate(out, a, v) {\n  let x = v[0], y = v[1], z = v[2];\n  let a00, a01, a02, a03;\n  let a10, a11, a12, a13;\n  let a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n    out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n    out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nexport function scale(out, a, v) {\n  let x = v[0], y = v[1], z = v[2];\n\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function rotate(out, a, rad, axis) {\n  let x = axis[0], y = axis[1], z = axis[2];\n  let len = Math.sqrt(x * x + y * y + z * z);\n  let s, c, t;\n  let a00, a01, a02, a03;\n  let a10, a11, a12, a13;\n  let a20, a21, a22, a23;\n  let b00, b01, b02;\n  let b10, b11, b12;\n  let b20, b21, b22;\n\n  if (Math.abs(len) < glMatrix.EPSILON) { return null; }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n\n  a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n  a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n  a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n  // Construct the elements of the rotation matrix\n  b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n  // Perform rotation-specific matrix multiplication\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n  return out;\n}\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function rotateX(out, a, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let a10 = a[4];\n  let a11 = a[5];\n  let a12 = a[6];\n  let a13 = a[7];\n  let a20 = a[8];\n  let a21 = a[9];\n  let a22 = a[10];\n  let a23 = a[11];\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged rows\n    out[0]  = a[0];\n    out[1]  = a[1];\n    out[2]  = a[2];\n    out[3]  = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  // Perform axis-specific matrix multiplication\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function rotateY(out, a, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let a00 = a[0];\n  let a01 = a[1];\n  let a02 = a[2];\n  let a03 = a[3];\n  let a20 = a[8];\n  let a21 = a[9];\n  let a22 = a[10];\n  let a23 = a[11];\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged rows\n    out[4]  = a[4];\n    out[5]  = a[5];\n    out[6]  = a[6];\n    out[7]  = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  // Perform axis-specific matrix multiplication\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function rotateZ(out, a, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let a00 = a[0];\n  let a01 = a[1];\n  let a02 = a[2];\n  let a03 = a[3];\n  let a10 = a[4];\n  let a11 = a[5];\n  let a12 = a[6];\n  let a13 = a[7];\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged last row\n    out[8]  = a[8];\n    out[9]  = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  // Perform axis-specific matrix multiplication\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Scaling vector\n * @returns {mat4} out\n */\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function fromRotation(out, rad, axis) {\n  let x = axis[0], y = axis[1], z = axis[2];\n  let len = Math.sqrt(x * x + y * y + z * z);\n  let s, c, t;\n\n  if (Math.abs(len) < glMatrix.EPSILON) { return null; }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n\n  // Perform rotation-specific matrix multiplication\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function fromXRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n\n  // Perform axis-specific matrix multiplication\n  out[0]  = 1;\n  out[1]  = 0;\n  out[2]  = 0;\n  out[3]  = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function fromYRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n\n  // Perform axis-specific matrix multiplication\n  out[0]  = c;\n  out[1]  = 0;\n  out[2]  = -s;\n  out[3]  = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function fromZRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n\n  // Perform axis-specific matrix multiplication\n  out[0]  = c;\n  out[1]  = s;\n  out[2]  = 0;\n  out[3]  = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n\n  return out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getScaling(out, mat) {\n  let m11 = mat[0];\n  let m12 = mat[1];\n  let m13 = mat[2];\n  let m21 = mat[4];\n  let m22 = mat[5];\n  let m23 = mat[6];\n  let m31 = mat[8];\n  let m32 = mat[9];\n  let m33 = mat[10];\n\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n\n  return out;\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nexport function getRotation(out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  let trace = mat[0] + mat[5] + mat[10];\n  let S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if ((mat[0] > mat[5])&(mat[0] > mat[10])) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n  let sx = s[0];\n  let sy = s[1];\n  let sz = s[2];\n\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @param {vec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  let sx = s[0];\n  let sy = s[1];\n  let sz = s[2];\n\n  let ox = o[0];\n  let oy = o[1];\n  let oz = o[2];\n\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out[0] * ox + out[4] * oy + out[8] * oz);\n  out[13] = v[1] + oy - (out[1] * ox + out[5] * oy + out[9] * oz);\n  out[14] = v[2] + oz - (out[2] * ox + out[6] * oy + out[10] * oz);\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nexport function fromQuat(out, q) {\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let yx = y * x2;\n  let yy = y * y2;\n  let zx = z * x2;\n  let zy = z * y2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function frustum(out, left, right, bottom, top, near, far) {\n  let rl = 1 / (right - left);\n  let tb = 1 / (top - bottom);\n  let nf = 1 / (near - far);\n  out[0] = (near * 2) * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = (near * 2) * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = (far * near * 2) * nf;\n  out[15] = 0;\n  return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspective(out, fovy, aspect, near, far) {\n  let f = 1.0 / Math.tan(fovy / 2);\n  let nf = 1 / (near - far);\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = (2 * far * near) * nf;\n  out[15] = 0;\n  return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  let upTan = Math.tan(fov.upDegrees * Math.PI/180.0);\n  let downTan = Math.tan(fov.downDegrees * Math.PI/180.0);\n  let leftTan = Math.tan(fov.leftDegrees * Math.PI/180.0);\n  let rightTan = Math.tan(fov.rightDegrees * Math.PI/180.0);\n  let xScale = 2.0 / (leftTan + rightTan);\n  let yScale = 2.0 / (upTan + downTan);\n\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = ((upTan - downTan) * yScale * 0.5);\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = (far * near) / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function ortho(out, left, right, bottom, top, near, far) {\n  let lr = 1 / (left - right);\n  let bt = 1 / (bottom - top);\n  let nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function lookAt(out, eye, center, up) {\n  let x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  let eyex = eye[0];\n  let eyey = eye[1];\n  let eyez = eye[2];\n  let upx = up[0];\n  let upy = up[1];\n  let upz = up[2];\n  let centerx = center[0];\n  let centery = center[1];\n  let centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON &&\n      Math.abs(eyey - centery) < glMatrix.EPSILON &&\n      Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return mat4.identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function targetTo(out, eye, target, up) {\n  let eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n\n  let z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n\n  let len = z0*z0 + z1*z1 + z2*z2;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  let x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n          a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n          a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' +\n          a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {mat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nexport function frob(a) {\n  return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2) ))\n}\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  out[4] = a[4] + (b[4] * scale);\n  out[5] = a[5] + (b[5] * scale);\n  out[6] = a[6] + (b[6] * scale);\n  out[7] = a[7] + (b[7] * scale);\n  out[8] = a[8] + (b[8] * scale);\n  out[9] = a[9] + (b[9] * scale);\n  out[10] = a[10] + (b[10] * scale);\n  out[11] = a[11] + (b[11] * scale);\n  out[12] = a[12] + (b[12] * scale);\n  out[13] = a[13] + (b[13] * scale);\n  out[14] = a[14] + (b[14] * scale);\n  out[15] = a[15] + (b[15] * scale);\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat4} a The first matrix.\n * @param {mat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] &&\n         a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] &&\n         a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] &&\n         a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat4} a The first matrix.\n * @param {mat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0  = a[0],  a1  = a[1],  a2  = a[2],  a3  = a[3];\n  let a4  = a[4],  a5  = a[5],  a6  = a[6],  a7  = a[7];\n  let a8  = a[8],  a9  = a[9],  a10 = a[10], a11 = a[11];\n  let a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];\n\n  let b0  = b[0],  b1  = b[1],  b2  = b[2],  b3  = b[3];\n  let b4  = b[4],  b5  = b[5],  b6  = b[6],  b7  = b[7];\n  let b8  = b[8],  b9  = b[9],  b10 = b[10], b11 = b[11];\n  let b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\n          Math.abs(a4 - b4) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\n          Math.abs(a5 - b5) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\n          Math.abs(a6 - b6) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\n          Math.abs(a7 - b7) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\n          Math.abs(a8 - b8) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a8), Math.abs(b8)) &&\n          Math.abs(a9 - b9) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a9), Math.abs(b9)) &&\n          Math.abs(a10 - b10) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a10), Math.abs(b10)) &&\n          Math.abs(a11 - b11) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a11), Math.abs(b11)) &&\n          Math.abs(a12 - b12) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a12), Math.abs(b12)) &&\n          Math.abs(a13 - b13) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a13), Math.abs(b13)) &&\n          Math.abs(a14 - b14) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a14), Math.abs(b14)) &&\n          Math.abs(a15 - b15) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a15), Math.abs(b15)));\n}\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\nexport const sub = subtract;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/mat4.js\n// module id = 17\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\"\nimport * as mat3 from \"./mat3\"\nimport * as vec3 from \"./vec3\"\nimport * as vec4 from \"./vec4\"\n\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  let s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {quat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\nexport function getAxisAngle(out_axis, q) {\n  let rad = Math.acos(q[3]) * 2.0;\n  let s = Math.sin(rad / 2.0);\n  if (s != 0.0) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n  return rad;\n}\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nexport function multiply(out, a, b) {\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = Math.sin(rad), bw = Math.cos(rad);\n\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let by = Math.sin(rad), bw = Math.cos(rad);\n\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bz = Math.sin(rad), bw = Math.cos(rad);\n\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate W component of\n * @returns {quat} out\n */\nexport function calculateW(out, a) {\n  let x = a[0], y = a[1], z = a[2];\n\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n  let omega, cosom, sinom, scale0, scale1;\n\n  // calc cosine\n  cosom = ax * bx + ay * by + az * bz + aw * bw;\n  // adjust signs (if necessary)\n  if ( cosom < 0.0 ) {\n    cosom = -cosom;\n    bx = - bx;\n    by = - by;\n    bz = - bz;\n    bw = - bw;\n  }\n  // calculate coefficients\n  if ( (1.0 - cosom) > 0.000001 ) {\n    // standard case (slerp)\n    omega  = Math.acos(cosom);\n    sinom  = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  }\n  // calculate final values\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n\n  return out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nexport function invert(out, a) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let dot = a0*a0 + a1*a1 + a2*a2 + a3*a3;\n  let invDot = dot ? 1.0/dot : 0;\n\n  // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0*invDot;\n  out[1] = -a1*invDot;\n  out[2] = -a2*invDot;\n  out[3] = a3*invDot;\n  return out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  let fTrace = m[0] + m[4] + m[8];\n  let fRoot;\n\n  if ( fTrace > 0.0 ) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5/fRoot;  // 1/(4w)\n    out[0] = (m[5]-m[7])*fRoot;\n    out[1] = (m[6]-m[2])*fRoot;\n    out[2] = (m[1]-m[3])*fRoot;\n  } else {\n    // |w| <= 1/2\n    let i = 0;\n    if ( m[4] > m[0] )\n      i = 1;\n    if ( m[8] > m[i*3+i] )\n      i = 2;\n    let j = (i+1)%3;\n    let k = (i+2)%3;\n\n    fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j*3+k] - m[k*3+j]) * fRoot;\n    out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n    out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n  }\n\n  return out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\nexport function fromEuler(out, x, y, z) {\n    let halfToRad = 0.5 * Math.PI / 180.0;\n    x *= halfToRad;\n    y *= halfToRad;\n    z *= halfToRad;\n\n    let sx = Math.sin(x);\n    let cx = Math.cos(x);\n    let sy = Math.sin(y);\n    let cy = Math.cos(y);\n    let sz = Math.sin(z);\n    let cz = Math.cos(z);\n\n    out[0] = sx * cy * cz - cx * sy * sz;\n    out[1] = cx * sy * cz + sx * cy * sz;\n    out[2] = cx * cy * sz - sx * sy * cz;\n    out[3] = cx * cy * cz + sx * sy * sz;\n\n    return out;\n}\n\n/**\n * Returns a string representation of a quatenion\n *\n * @param {quat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {quat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\nexport const clone = vec4.clone;\n\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\nexport const fromValues = vec4.fromValues;\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nexport const copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nexport const set = vec4.set;\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nexport const add = vec4.add;\n\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nexport const scale = vec4.scale;\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nexport const dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nexport const lerp = vec4.lerp;\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport const length = vec4.length;\n\n/**\n * Alias for {@link quat.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Calculates the squared length of a quat\n *\n * @param {quat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\nexport const squaredLength = vec4.squaredLength;\n\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nexport const normalize = vec4.normalize;\n\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {quat} a The first quaternion.\n * @param {quat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport const exactEquals = vec4.exactEquals;\n\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {quat} a The first vector.\n * @param {quat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport const equals = vec4.equals;\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {vec3} a the initial vector\n * @param {vec3} b the destination vector\n * @returns {quat} out\n */\nexport const rotationTo = (function() {\n  let tmpvec3 = vec3.create();\n  let xUnitVec3 = vec3.fromValues(1,0,0);\n  let yUnitVec3 = vec3.fromValues(0,1,0);\n\n  return function(out, a, b) {\n    let dot = vec3.dot(a, b);\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001)\n        vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n})();\n\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {quat} c the third operand\n * @param {quat} d the fourth operand\n * @param {Number} t interpolation amount\n * @returns {quat} out\n */\nexport const sqlerp = (function () {\n  let temp1 = create();\n  let temp2 = create();\n\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n\n    return out;\n  };\n}());\n\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {vec3} view  the vector representing the viewing direction\n * @param {vec3} right the vector representing the local \"right\" direction\n * @param {vec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\nexport const setAxes = (function() {\n  let matr = mat3.create();\n\n  return function(out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n\n    return normalize(out, fromMat3(out, matr));\n  };\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/quat.js\n// module id = 18\n// module chunks = 0","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nimport * as glMatrix from \"./common\";\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = 0;\n  out[1] = 0;\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nexport function fromValues(x, y) {\n  let out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n};\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n};\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n};\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n};\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n};\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n};\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\nexport function round (out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n};\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n};\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n    y = b[1] - a[1];\n  return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n    y = b[1] - a[1];\n  return x*x + y*y;\n};\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n  var x = a[0],\n    y = a[1];\n  return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength (a) {\n  var x = a[0],\n    y = a[1];\n  return x*x + y*y;\n};\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n};\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n};\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nexport function normalize(out, a) {\n  var x = a[0],\n    y = a[1];\n  var len = x*x + y*y;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n};\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n};\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n};\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n    ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n};\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n    y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n};\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n    y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n};\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n    y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n};\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat4(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1];\n  let b0 = b[0], b1 = b[1];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)));\n}\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nexport const sub = subtract;\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nexport const div = divide;\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nexport const dist = distance;\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nexport const sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nexport const forEach = (function() {\n  let vec = create();\n\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 2;\n    }\n\n    if(!offset) {\n      offset = 0;\n    }\n\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1];\n    }\n\n    return a;\n  };\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gl-matrix/src/gl-matrix/vec2.js\n// module id = 19\n// module chunks = 0","import {glMatrix, mat4} from \"gl-matrix\";\r\nimport {vec3} from \"gl-matrix\";\r\n\r\nconst YAW: number = 90.0;\r\nconst PITCH: number = 0.0;\r\nconst SPEED: number = 20.0;\r\nconst SENSITIVITY: number = 0.1;\r\nconst ZOOM: number = 65.0;\r\n\r\nexport enum Camera_Movement {\r\n    FORWARD,\r\n    BACKWARD,\r\n    LEFT,\r\n    RIGHT\r\n}\r\n\r\nexport class Camera {\r\n    position: vec3;\r\n    front: vec3;\r\n    up: vec3;\r\n    right: vec3;\r\n    worldUp: vec3;\r\n\r\n    yaw: number;\r\n    pitch: number;\r\n\r\n    movementSpeed: number;\r\n    mouseSensitivity: number;\r\n    zoom: number;\r\n\r\n    constructor(pos: vec3 = vec3.fromValues(0, 0, 0), up: vec3 = vec3.fromValues(0, 1, 0), yaw: number = YAW, pitch: number = PITCH) {\r\n        this.position = pos;\r\n        this.front = vec3.fromValues(0, 0, -1);\r\n        this.worldUp = up;\r\n        this.movementSpeed = SPEED;\r\n        this.mouseSensitivity = SENSITIVITY;\r\n        this.zoom = ZOOM;\r\n        this.yaw = yaw;\r\n        this.pitch = pitch;\r\n\r\n        this.updateCameraVectors();\r\n    }\r\n\r\n    getViewMatrix() {\r\n        let forward = vec3.create();\r\n        vec3.add(forward, this.position, this.front);\r\n        \r\n        let look = mat4.create();\r\n        mat4.lookAt(look, this.position, forward, this.up);\r\n        return look;\r\n    }\r\n    \r\n    lookAt(pos: vec3){\r\n        let a = vec3.create();\r\n        vec3.subtract(a, pos, this.position);\r\n        vec3.normalize(a,a);\r\n        this.front = a;\r\n    }\r\n    \r\n    getInverseViewMatrix(){\r\n        let forward = vec3.create();\r\n        vec3.add(forward, this.position, this.front);\r\n\r\n        let look = mat4.create();\r\n        mat4.lookAt(look, this.position, forward, this.up);\r\n        mat4.invert(look,look);\r\n        return look;\r\n    }\r\n\r\n    processKeyboard(direction: Camera_Movement, deltaTime: number) {\r\n        let velocity: number = this.movementSpeed * deltaTime;\r\n        let a = this.front;\r\n        let b = this.right;\r\n\r\n        if (direction == Camera_Movement.FORWARD) {\r\n            let offset: vec3 = vec3.create();\r\n            vec3.scale(offset, a, velocity);\r\n            vec3.add(this.position, this.position, offset);\r\n        }\r\n        if (direction == Camera_Movement.BACKWARD) {\r\n            let offset: vec3 = vec3.create();\r\n            vec3.scale(offset, a, -velocity);\r\n            vec3.add(this.position, this.position, offset);\r\n        }\r\n        if (direction == Camera_Movement.LEFT) {\r\n            let offset: vec3 = vec3.create();\r\n            vec3.scale(offset, b, -velocity);\r\n            vec3.add(this.position, this.position, offset);\r\n        }\r\n        if (direction == Camera_Movement.RIGHT) {\r\n            let offset: vec3 = vec3.create();\r\n            vec3.scale(offset, b, velocity);\r\n            vec3.add(this.position, this.position, offset);\r\n        }\r\n    }\r\n\r\n    //TODO Change calculation to move camera position up and down and keep same target on player\r\n    processMouseMovement(forward:vec3,pos:vec3, xOffset: number, yOffset: number, constrainPitch: boolean = true) {\r\n        xOffset *= this.mouseSensitivity;\r\n        yOffset *= this.mouseSensitivity;\r\n\r\n        //this.yaw += xOffset;\r\n        this.pitch += yOffset;\r\n\r\n        let yawConstrainAmount = 0;\r\n        \r\n        //Makes Camera lock behind player\r\n        let a = Math.atan2(forward[0], forward[2]);\r\n        a += Math.PI;\r\n        a *= 360/(2*Math.PI);\r\n        a = 360 - a - 90;\r\n        if (constrainPitch) {\r\n            if (this.pitch > 20) this.pitch = 20;\r\n            if (this.pitch < -20) this.pitch = -20;\r\n            if(this.yaw > a+ yawConstrainAmount) this.yaw = a + yawConstrainAmount;\r\n            if(this.yaw < a - yawConstrainAmount) this.yaw = a - yawConstrainAmount;\r\n        }\r\n        \r\n\r\n        this.updateCameraVectors();\r\n    }\r\n\r\n\r\n    private updateCameraVectors() {\r\n   \r\n        let x  = Math.cos(glMatrix.toRadian(this.yaw)) * Math.cos(glMatrix.toRadian(this.pitch));\r\n        let y = Math.sin(glMatrix.toRadian(this.pitch));\r\n        let z = Math.sin(glMatrix.toRadian(this.yaw)) * Math.cos(glMatrix.toRadian(this.pitch));\r\n        let newFront: vec3 = vec3.fromValues(x,y,z);\r\n        vec3.normalize(newFront, newFront);\r\n        this.front = newFront;\r\n  \r\n        let cross: vec3 = vec3.create();\r\n        vec3.normalize(cross, vec3.cross(cross, this.front, this.worldUp));\r\n        this.right = cross;\r\n        let cross2: vec3 = vec3.create();\r\n        vec3.normalize(cross2, vec3.cross(cross2, this.right, this.front));\r\n        this.up = cross2;\r\n    }\r\n    \r\n    \r\n}\r\n\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/camera.ts","import {mat4, vec3} from \"gl-matrix\";\r\nimport {PlayerModel} from \"./models/playermodel\";\r\nimport {Mesh} from \"../lib/OBJ/index.js\";\r\nimport {MaterialLibrary} from \"../lib/OBJ/index.js\";\r\nimport {BADFAMILY} from \"dns\";\r\nimport {BasicModel} from \"./models/basicmodel\";\r\nimport {Entity, Model_Type} from \"./entity\";\r\n\r\nlet OBJ = require(\"../lib/OBJ/index.js\");\r\n\r\nconst SPEED = 20;\r\n\r\nexport enum Player_Movement {\r\n    FORWARD,\r\n    BACKWARD,\r\n    LEFT,\r\n    RIGHT\r\n}\r\n\r\nexport class Player  extends Entity{\r\n    model: PlayerModel;\r\n    up: vec3;\r\n\r\n    constructor(gl: WebGL2RenderingContext, mesh: Mesh, pos: vec3) {\r\n        super(pos,null,vec3.fromValues(1,0,0),mesh.name, Model_Type.BASIC);\r\n        this.model = new PlayerModel(mesh);\r\n        this.model.rotation_offset = vec3.fromValues(0,0,- Math.PI / 2);\r\n        this.model.init(gl);\r\n        this.up = vec3.fromValues(0, 1, 0);\r\n    }\r\n\r\n\r\n    rotate(angle: number): void {\r\n        vec3.rotateY(this.forward, this.forward, [0, 0, 0], angle * 2);\r\n    }\r\n\r\n    move(direction: Player_Movement, deltaTime: number): void {\r\n        let velocity = vec3.create();\r\n        if (direction == Player_Movement.FORWARD) {\r\n            vec3.scale(velocity, this.forward, SPEED * deltaTime);\r\n            vec3.add(this.position, this.position, velocity);\r\n        } else if (direction == Player_Movement.BACKWARD) {\r\n            vec3.scale(velocity, this.forward, -SPEED * deltaTime * 0.5);\r\n            vec3.add(this.position, this.position, velocity);\r\n        } else if (direction == Player_Movement.LEFT) {\r\n            let r = vec3.create();\r\n            vec3.copy(r, this.forward);\r\n            vec3.rotateY(r, r, [0, 0, 0], Math.PI / 2);\r\n            vec3.scale(velocity, r, SPEED * deltaTime);\r\n            vec3.add(this.position, this.position, velocity);\r\n        } else if (direction == Player_Movement.RIGHT) {\r\n            let r = vec3.create();\r\n            vec3.copy(r, this.forward);\r\n            vec3.rotateY(r, r, [0, 0, 0], -Math.PI / 2);\r\n            vec3.scale(velocity, r, SPEED * deltaTime);\r\n            vec3.add(this.position, this.position, velocity);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    draw(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4): void {\r\n        //Draws Player in front of camera, always facing away from camera\r\n        let model = mat4.create();\r\n\r\n        //Move player model to its position\r\n        mat4.translate(model, model, this.position);\r\n        //Rotate model to face away from camera\r\n        mat4.rotateY(model, model, Math.atan2(this.forward[0], this.forward[2]) - Math.PI / 2);\r\n        BasicModel.setMVPMatrices(model,view_matrix,projection_matrix);\r\n        this.model.draw(gl);\r\n\r\n\r\n    }\r\n\r\n    static async loadMesh() {\r\n        return OBJ.downloadModels([\r\n            {\r\n                name: 'cbabe',\r\n                obj: \"/assets/models/actors/cbabe/cbabe_stand.obj\",\r\n                mtl: \"/assets/models/actors/cbabe/cbabe.mtl\"\r\n            }\r\n        ]);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/player.ts","import {BasicModel} from \"./basicmodel\";\r\nimport {Mesh} from \"../../lib/OBJ/index.js\";\r\n\r\nexport class PlayerModel extends BasicModel {\r\n\r\n    constructor(mesh: Mesh) {\r\n        super(mesh);\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        super.init(gl);\r\n\r\n        this.initAllTextures(gl);\r\n        // if (!this.initTexture(gl, 0)) {\r\n        //     console.warn(\"Player model texture 0 wasn't downloaded\")\r\n        // }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/models/playermodel.ts","\r\nimport Mesh from './mesh';\r\nimport {Material, MaterialLibrary} from './material';\r\nimport {Layout} from './layout';\r\n\r\n\r\nexport function downloadMtlTextures (mtl, root) {\r\n  const mapAttributes = [\r\n    'mapDiffuse',\r\n    'mapAmbient',\r\n    'mapSpecular',\r\n    'mapDissolve',\r\n    'mapBump',\r\n    'mapDisplacement',\r\n    'mapDecal',\r\n    'mapEmissive',\r\n  ];\r\n  if (!root.endsWith('/')) {\r\n    root += '/';\r\n  }\r\n  let textures = [];\r\n\r\n  for (let material in mtl.materials) {\r\n    if (!mtl.materials.hasOwnProperty(material)) {\r\n      continue;\r\n    }\r\n    material = mtl.materials[material];\r\n    let loading = {};\r\n    for (let attr of mapAttributes) {\r\n     \r\n      let mapData = material[attr];\r\n      if (!mapData) {\r\n        continue;\r\n      }\r\n\r\n      let url = root + mapData.filename;\r\n      if(!loading.hasOwnProperty(mapData.filename)){\r\n        loading[mapData.filename] = new Image();\r\n\t\t  textures.push(\r\n\t\t\t  fetch(url)\r\n\t\t\t\t  .then((response) => {\r\n\t\t\t\t\t  if (!response.ok) {\r\n\t\t\t\t\t\t  throw new Error()\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  return response.blob();\r\n\t\t\t\t  })\r\n\t\t\t\t  .then(function(data) {\r\n\t\t\t\t\t  loading[mapData.filename].src = URL.createObjectURL(data);\r\n\t\t\t\t\t  mapData.texture = loading[mapData.filename];\r\n\t\t\t\t  })\r\n\t\t\t\t  .catch(() => {\r\n\t\t\t\t\t  console.error(`Unable to download texture: ${url}`);\r\n\t\t\t\t  })\r\n\t\t  );\r\n\t  }else{\r\n        mapData.texture = loading[mapData.filename];\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  return Promise.all(textures);\r\n}\r\n\r\n\r\n/**\r\n * Accepts a list of model request objects and returns a Promise that\r\n * resolves when all models have been downloaded and parsed.\r\n *\r\n * The list of model objects follow this interface:\r\n * {\r\n *  obj: 'path/to/model.obj',\r\n *  mtl: true | 'path/to/model.mtl',\r\n *  downloadMtlTextures: true | false\r\n *  mtlTextureRoot: '/models/suzanne/maps'\r\n *  name: 'suzanne'\r\n * }\r\n *\r\n * The `obj` attribute is required and should be the path to the\r\n * model's .obj file relative to the current repo (absolute URLs are\r\n * suggested).\r\n *\r\n * The `mtl` attribute is optional and can either be a boolean or\r\n * a path to the model's .mtl file relative to the current URL. If\r\n * the value is `true`, then the path and basename given for the `obj`\r\n * attribute is used replacing the .obj suffix for .mtl\r\n * E.g.: {obj: 'models/foo.obj', mtl: true} would search for 'models/foo.mtl'\r\n *\r\n * The `name` attribute is optional and is a human friendly name to be\r\n * included with the parsed OBJ and MTL files. If not given, the base .obj\r\n * filename will be used.\r\n *\r\n * The `downloadMtlTextures` attribute is a flag for automatically downloading\r\n * any images found in the MTL file and attaching them to each Material\r\n * created from that file. For example, if material.mapDiffuse is set (there\r\n * was data in the MTL file), then material.mapDiffuse.texture will contain\r\n * the downloaded image. This option defaults to `true`. By default, the MTL's\r\n * URL will be used to determine the location of the images.\r\n *\r\n * The `mtlTextureRoot` attribute is optional and should point to the location\r\n * on the server that this MTL's texture files are located. The default is to\r\n * use the MTL file's location.\r\n *\r\n * @returns {Promise} the result of downloading the given list of models. The\r\n * promise will resolve with an object whose keys are the names of the models\r\n * and the value is its Mesh object. Each Mesh object will automatically\r\n * have its addMaterialLibrary() method called to set the given MTL data (if given).\r\n */\r\n//to pass root to fetch callbacks\r\nlet global_root;\r\nexport function downloadModels (models) {\r\n\tglobal_root = window.location.href.substr(0, window.location.href.lastIndexOf(\"/\"));\r\n  const finished = [];\r\n\r\n  for (const model of models) {\r\n    const parsed = [];\r\n\r\n    if (!model.obj) {\r\n      throw new Error(\r\n        '\"obj\" attribute of model object not set. The .obj file is required to be set ' +\r\n        'in order to use downloadModels()'\r\n      );\r\n    }\r\n\t\r\n    // if the name is not provided, dervive it from the given OBJ\r\n    let name = model.name;\r\n    if (!name) {\r\n      let parts = model.obj.split('/');\r\n      name = parts[parts.length - 1].replace('.obj', '');\r\n    }\r\n    parsed.push(Promise.resolve(name));\r\n\r\n    parsed.push(\r\n      fetch(global_root + model.obj)\r\n        .then((response) => response.text())\r\n        .then((data) => {\r\n          return new Mesh(data);\r\n        })\r\n    );\r\n\r\n    // Download MaterialLibrary file?\r\n    if (model.mtl) {\r\n      let mtl = model.mtl;\r\n      if (typeof mtl === 'boolean') {\r\n        mtl = model.obj.replace(/\\.obj$/, '.mtl');\r\n      }\r\n\r\n      parsed.push(\r\n        fetch(global_root + mtl)\r\n          .then((response) => response.text())\r\n          .then((data) => {\r\n            let material = new MaterialLibrary(data);\r\n            if (model.downloadMtlTextures !== false) {\r\n              let root =  model.mtlTextureRoot;\r\n              if (!root) {\r\n                // get the directory of the MTL file as default\r\n                root = mtl.substr(0, mtl.lastIndexOf(\"/\"));\r\n              }\r\n              // downloadMtlTextures returns a Promise that\r\n              // is resolved once all of the images it\r\n              // contains are downloaded. These are then\r\n              // attached to the map data objects\r\n              return Promise.all([\r\n                Promise.resolve(material),\r\n                downloadMtlTextures(material, global_root + root)\r\n              ]);\r\n            }\r\n            return Promise.all(Promise.resolve(material));\r\n          })\r\n          .then((value) => {\r\n            return value[0];\r\n          })\r\n      );\r\n    \r\n    }\r\n\r\n    finished.push(Promise.all(parsed));\r\n  }\r\n\r\n  return Promise.all(finished)\r\n    .then((ms) => {\r\n      // the \"finished\" promise is a list of name, Mesh instance,\r\n      // and MaterialLibary instance. This unpacks and returns an\r\n      // object mapping name to Mesh (Mesh points to MTL).\r\n      const models = {};\r\n\r\n      for (const model of ms) {\r\n        const [name, mesh, mtl] = model;\r\n        mesh.name = name;\r\n        if (mtl) {\r\n          mesh.addMaterialLibrary(mtl);\r\n        }\r\n        models[name] = mesh;\r\n      }\r\n\r\n      return models;\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * Takes in an object of `mesh_name`, `'/url/to/OBJ/file'` pairs and a callback\r\n * function. Each OBJ file will be ajaxed in and automatically converted to\r\n * an OBJ.Mesh. When all files have successfully downloaded the callback\r\n * function provided will be called and passed in an object containing\r\n * the newly created meshes.\r\n *\r\n * **Note:** In order to use this function as a way to download meshes, a\r\n * webserver of some sort must be used.\r\n *\r\n * @param {Object} nameAndAttrs an object where the key is the name of the mesh and the value is the url to that mesh's OBJ file\r\n *\r\n * @param {Function} completionCallback should contain a function that will take one parameter: an object array where the keys will be the unique object name and the value will be a Mesh object\r\n *\r\n * @param {Object} meshes In case other meshes are loaded separately or if a previously declared variable is desired to be used, pass in a (possibly empty) json object of the pattern: { '<mesh_name>': OBJ.Mesh }\r\n *\r\n */\r\nexport function downloadMeshes (nameAndURLs, completionCallback, meshes) {\r\n  if (meshes === undefined) {\r\n    meshes = {};\r\n  }\r\n\r\n  const completed = [];\r\n\r\n  for (const mesh_name in nameAndURLs) {\r\n    if (!nameAndURLs.hasOwnProperty(mesh_name)) {\r\n      continue;\r\n    }\r\n    const url = nameAndURLs[mesh_name];\r\n    completed.push(\r\n      fetch(url)\r\n        .then((response) => response.text())\r\n        .then((data) => {\r\n          return [mesh_name, new Mesh(data)];\r\n        })\r\n    );\r\n  }\r\n\r\n  Promise.all(completed)\r\n    .then((ms) => {\r\n      for (let [name, mesh] of ms) {\r\n        meshes[name] = mesh;\r\n      }\r\n\r\n      return completionCallback(meshes);\r\n    });\r\n}\r\n\r\nvar _buildBuffer = function( gl, type, data, itemSize ){\r\n  var buffer = gl.createBuffer();\r\n  var arrayView = type === gl.ARRAY_BUFFER ? Float32Array : Uint16Array;\r\n  gl.bindBuffer(type, buffer);\r\n  gl.bufferData(type, new arrayView(data), gl.STATIC_DRAW);\r\n  buffer.itemSize = itemSize;\r\n  buffer.numItems = data.length / itemSize;\r\n  return buffer;\r\n};\r\n\r\n/**\r\n * Takes in the WebGL context and a Mesh, then creates and appends the buffers\r\n * to the mesh object as attributes.\r\n *\r\n * @param {WebGLRenderingContext} gl the `canvas.getContext('webgl')` context instance\r\n * @param {Mesh} mesh a single `OBJ.Mesh` instance\r\n *\r\n * The newly created mesh attributes are:\r\n *\r\n * Attrbute | Description\r\n * :--- | ---\r\n * **normalBuffer**       |contains the model&#39;s Vertex Normals\r\n * normalBuffer.itemSize  |set to 3 items\r\n * normalBuffer.numItems  |the total number of vertex normals\r\n * |\r\n * **textureBuffer**      |contains the model&#39;s Texture Coordinates\r\n * textureBuffer.itemSize |set to 2 items\r\n * textureBuffer.numItems |the number of texture coordinates\r\n * |\r\n * **vertexBuffer**       |contains the model&#39;s Vertex Position Coordinates (does not include w)\r\n * vertexBuffer.itemSize  |set to 3 items\r\n * vertexBuffer.numItems  |the total number of vertices\r\n * |\r\n * **indexBuffer**        |contains the indices of the faces\r\n * indexBuffer.itemSize   |is set to 1\r\n * indexBuffer.numItems   |the total number of indices\r\n *\r\n * A simple example (a lot of steps are missing, so don't copy and paste):\r\n *\r\n *     var gl   = canvas.getContext('webgl'),\r\n *         mesh = OBJ.Mesh(obj_file_data);\r\n *     // compile the shaders and create a shader program\r\n *     var shaderProgram = gl.createProgram();\r\n *     // compilation stuff here\r\n *     ...\r\n *     // make sure you have vertex, vertex normal, and texture coordinate\r\n *     // attributes located in your shaders and attach them to the shader program\r\n *     shaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\r\n *     gl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\r\n *\r\n *     shaderProgram.vertexNormalAttribute = gl.getAttribLocation(shaderProgram, \"aVertexNormal\");\r\n *     gl.enableVertexAttribArray(shaderProgram.vertexNormalAttribute);\r\n *\r\n *     shaderProgram.textureCoordAttribute = gl.getAttribLocation(shaderProgram, \"aTextureCoord\");\r\n *     gl.enableVertexAttribArray(shaderProgram.textureCoordAttribute);\r\n *\r\n *     // create and initialize the vertex, vertex normal, and texture coordinate buffers\r\n *     // and save on to the mesh object\r\n *     OBJ.initMeshBuffers(gl, mesh);\r\n *\r\n *     // now to render the mesh\r\n *     gl.bindBuffer(gl.ARRAY_BUFFER, mesh.vertexBuffer);\r\n *     gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, mesh.vertexBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n *     // it's possible that the mesh doesn't contain\r\n *     // any texture coordinates (e.g. suzanne.obj in the development branch).\r\n *     // in this case, the texture vertexAttribArray will need to be disabled\r\n *     // before the call to drawElements\r\n *     if(!mesh.textures.length){\r\n *       gl.disableVertexAttribArray(shaderProgram.textureCoordAttribute);\r\n *     }\r\n *     else{\r\n *       // if the texture vertexAttribArray has been previously\r\n *       // disabled, then it needs to be re-enabled\r\n *       gl.enableVertexAttribArray(shaderProgram.textureCoordAttribute);\r\n *       gl.bindBuffer(gl.ARRAY_BUFFER, mesh.textureBuffer);\r\n *       gl.vertexAttribPointer(shaderProgram.textureCoordAttribute, mesh.textureBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n *     }\r\n *\r\n *     gl.bindBuffer(gl.ARRAY_BUFFER, mesh.normalBuffer);\r\n *     gl.vertexAttribPointer(shaderProgram.vertexNormalAttribute, mesh.normalBuffer.itemSize, gl.FLOAT, false, 0, 0);\r\n *\r\n *     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, model.mesh.indexBuffer);\r\n *     gl.drawElements(gl.TRIANGLES, model.mesh.indexBuffer.numItems, gl.UNSIGNED_SHORT, 0);\r\n */\r\nexport function initMeshBuffers ( gl, mesh ) {\r\n  mesh.normalBuffer = _buildBuffer(gl, gl.ARRAY_BUFFER, mesh.vertexNormals, 3);\r\n  mesh.textureBuffer = _buildBuffer(gl, gl.ARRAY_BUFFER, mesh.textures, 2);\r\n  mesh.vertexBuffer = _buildBuffer(gl, gl.ARRAY_BUFFER, mesh.vertices, 3);\r\n  mesh.indexBuffer = _buildBuffer(gl, gl.ELEMENT_ARRAY_BUFFER, mesh.indices, 1);\r\n};\r\n\r\nexport function deleteMeshBuffers ( gl, mesh ) {\r\n  gl.deleteBuffer(mesh.normalBuffer);\r\n  gl.deleteBuffer(mesh.textureBuffer);\r\n  gl.deleteBuffer(mesh.vertexBuffer);\r\n  gl.deleteBuffer(mesh.indexBuffer);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/OBJ/utils.js\n// module id = 23\n// module chunks = 0","export class Guid {\r\n    static newGuid() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/guid.ts","import {Disk, Terrain} from \"./disk\";\r\nimport {DiskModel} from \"./models/diskmodel\";\r\n\r\nlet OBJ = require(\"../lib/OBJ/index.js\");\r\nimport {Mesh} from \"../lib/OBJ/index.js\";\r\nimport {MaterialLibrary} from \"../lib/OBJ/index.js\";\r\nimport {Shader} from \"../shader\";\r\nimport {mat4, vec3} from \"gl-matrix\";\r\n\r\nexport interface WorldMeshes {\r\n    DiskA: Mesh;\r\n    DiskB: Mesh;\r\n    DiskC: Mesh;\r\n    DiskD: Mesh;\r\n    DiskE: Mesh;\r\n}\r\n\r\nexport class World {\r\n    diskAModel: DiskModel;\r\n    diskBModel: DiskModel;\r\n    diskCModel: DiskModel;\r\n    diskDModel: DiskModel;\r\n    diskEModel: DiskModel;\r\n    worldData: string;\r\n\r\n    disks: Array<Disk>;\r\n\r\n    constructor(gl: WebGL2RenderingContext, worldData: string, meshes: WorldMeshes, mat: MaterialLibrary) {\r\n        meshes.DiskA.addMaterialLibrary(mat);\r\n        meshes.DiskB.addMaterialLibrary(mat);\r\n        meshes.DiskC.addMaterialLibrary(mat);\r\n        meshes.DiskD.addMaterialLibrary(mat);\r\n        meshes.DiskE.addMaterialLibrary(mat);\r\n\r\n        this.diskAModel = new DiskModel(meshes.DiskA);\r\n        this.diskBModel = new DiskModel(meshes.DiskB);\r\n        this.diskCModel = new DiskModel(meshes.DiskC);\r\n        this.diskDModel = new DiskModel(meshes.DiskD);\r\n        this.diskEModel = new DiskModel(meshes.DiskE);\r\n        this.worldData = worldData;\r\n        this.disks = [];\r\n\r\n        this.diskAModel.init(gl);\r\n        this.diskBModel.init(gl);\r\n        this.diskCModel.init(gl);\r\n        this.diskDModel.init(gl);\r\n        this.diskEModel.init(gl);\r\n\r\n        const lines = worldData.split('\\n');\r\n\r\n        if (lines[0].indexOf(\"version 1\") == -1) console.warn(\"Can't read Disk World File\");\r\n\r\n        let count = parseInt(lines[2]);\r\n        lines.splice(0, 3);\r\n        for (let i = 0; i < count; i++) {\r\n            let elements = lines[i].split(\"\\t\");\r\n            let x = parseFloat(elements[0]);\r\n            let z = parseFloat(elements[1]);\r\n            let radius: number = parseFloat(elements[2]);\r\n            let model: DiskModel = null;\r\n            let terrain: Terrain = null;\r\n\r\n            switch (true) {\r\n                case (radius < 8):\r\n                    model = this.diskAModel;\r\n                    terrain = Terrain.RED_ROCK;\r\n                    break;\r\n                case (radius <= 12):\r\n                    model = this.diskBModel;\r\n                    terrain = Terrain.LEAFY;\r\n                    break;\r\n                case(radius <= 20):\r\n                    model = this.diskCModel;\r\n                    terrain = Terrain.ICY;\r\n                    break;\r\n                case (radius <= 30):\r\n                    model = this.diskDModel;\r\n                    terrain = Terrain.SANDY;\r\n                    break;\r\n                case(radius > 30):\r\n                    model = this.diskEModel;\r\n                    terrain = Terrain.GREY_ROCK;\r\n                    break;\r\n            }\r\n            if (!model) throw \"No Disk Model found for radius: \" + radius;\r\n            this.disks.push(new Disk(model, terrain, radius, x, 0, z));\r\n        }\r\n        this.disks.forEach(disk => {\r\n            disk.init(gl);\r\n        })\r\n    }\r\n\r\n    static async loadWorldMeshes(): Promise<WorldMeshes> {\r\n        return OBJ.downloadModels([\r\n            {\r\n                name: 'DiskA',\r\n                obj: \"/assets/models/environment/disks/DiskA.obj\",\r\n                downloadMtlTextures: false\r\n            },\r\n            {\r\n                name: 'DiskB',\r\n                obj: \"/assets/models/environment/disks/DiskB.obj\",\r\n                downloadMtlTextures: false\r\n            },\r\n            {\r\n                name: 'DiskC',\r\n                obj: \"/assets/models/environment/disks/DiskC.obj\",\r\n                downloadMtlTextures: false\r\n            },\r\n            {\r\n                name: 'DiskD',\r\n                obj: \"/assets/models/environment/disks/DiskD.obj\",\r\n                downloadMtlTextures: false\r\n            },\r\n            {\r\n                name: 'DiskE',\r\n                obj: \"/assets/models/environment/disks/DiskE.obj\",\r\n                downloadMtlTextures: false\r\n            }]);\r\n    }\r\n\r\n    static async loadWorldMat(): Promise<MaterialLibrary> {\r\n        let mat = new MaterialLibrary(require('../../assets/models/environment/disks/Disks.mtl'));\r\n        await OBJ.downloadMtlTextures(mat,\r\n            window.location.href.substr(0, window.location.href.lastIndexOf(\"/\")) + '/assets/models/environment/disks/');\r\n        return mat;\r\n    }\r\n\r\n    static async loadWorldData(): Promise<string> {\r\n        return require('../../assets/worlds/maps/Basic.txt');\r\n    }\r\n\r\n    draw(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n        this.disks.forEach(disk => {\r\n            disk.draw(gl, view_matrix, projection_matrix);\r\n        })\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/world.ts","import {Disk} from \"../disk\";\r\nimport {Material} from '../../lib/OBJ';\r\nimport {BasicModel} from \"./basicmodel\";\r\nimport {vec3} from \"gl-matrix\";\r\n\r\n\r\n\r\nexport class MeshlessModel {\r\n    name:string;\r\n    VAO: WebGLVertexArrayObject;\r\n    data: Float32Array;\r\n    indices: Uint16Array;\r\n    buffer: WebGLBuffer;\r\n    index_buffer: WebGLBuffer;\r\n    initialized:Boolean;\r\n    texture: WebGLTexture;\r\n    material: Material;\r\n    stride: number;\r\n    rotation_offset: vec3;\r\n    \r\n    constructor(data:Float32Array, indices:Uint16Array, mat: Material) {\r\n        this.data = data;\r\n        this.indices = indices;\r\n        this.stride = 8;\r\n        this.name = \"height_map_model_\" + Disk.height_map_model_gen_count;\r\n        this.material = mat;\r\n        this.rotation_offset = vec3.fromValues(0, 0, 0);\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        this.VAO = gl.createVertexArray();\r\n        this.buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n        gl.bindVertexArray(this.VAO);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.STATIC_DRAW);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW);\r\n        gl.enableVertexAttribArray(0);\r\n        gl.vertexAttribPointer(0, 3, gl.FLOAT, false, this.stride*4, 0);\r\n        gl.enableVertexAttribArray(1);\r\n        gl.vertexAttribPointer(1, 2, gl.FLOAT, true, this.stride*4, 12);\r\n        gl.enableVertexAttribArray(2);\r\n        gl.vertexAttribPointer(2, 3, gl.FLOAT, true, this.stride*4, 20);\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        gl.bindVertexArray(null);\r\n\r\n        this.texture = this.material.mapDiffuse.texture_id;\r\n        \r\n        this.initialized = true;\r\n    }\r\n\r\n    activateBuffers(gl){\r\n        gl.bindVertexArray(this.VAO);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n    }\r\n    \r\n    activateMaterial(gl){\r\n        // gl.activeTexture(gl.TEXTURE0);\r\n        // gl.bindTexture(gl.TEXTURE_2D, this.texture);\r\n\r\n        if (this.material.isTextureActive[0] && this.material.mapTransparency.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE0);  // transparency\r\n            gl.bindTexture(gl.TEXTURE_2D, this.material.mapTransparency.texture_id);\r\n        }\r\n        if (this.material.isTextureActive[1] && this.material.mapEmissive.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE1);  // emission\r\n            gl.bindTexture(gl.TEXTURE_2D, this.material.mapEmissive.texture_id);\r\n        }\r\n\r\n        if (this.material.isTextureActive[2] && this.material.mapAmbient.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE2);  // ambient\r\n            gl.bindTexture(gl.TEXTURE_2D, this.material.mapAmbient.texture_id);\r\n        }\r\n        if (this.material.isTextureActive[3] && this.material.mapDiffuse.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE3);  // diffuse\r\n            gl.bindTexture(gl.TEXTURE_2D, this.material.mapDiffuse.texture_id);\r\n        }\r\n        if (this.material.isTextureActive[4] && this.material.mapSpecular.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE4);  // specular\r\n            gl.bindTexture(gl.TEXTURE_2D, this.material.mapSpecular.texture_id);\r\n        }\r\n        if (this.material.isTextureActive[5] && this.material.mapSpecularExponent.texture_id) {\r\n            gl.activeTexture(gl.TEXTURE5);  // shininess\r\n            gl.bindTexture(gl.TEXTURE_2D, this.material.mapSpecularExponent.texture_id);\r\n        }\r\n\r\n\r\n        BasicModel.shader.setFloat(BasicModel.shader.uniforms.material_transparency, this.material.transparency);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_ambient_colour, this.material.ambient);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_diffuse_colour, this.material.diffuse);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_specular_colour, this.material.specular);\r\n        BasicModel.shader.setVec3(BasicModel.shader.uniforms.material_emissive_colour, this.material.emissive);\r\n        BasicModel.shader.setFloat(BasicModel.shader.uniforms.material_shininess, this.material.specularExponent);\r\n        BasicModel.shader.setIntV(BasicModel.shader.uniforms.material_is_texture_active, this.material.isTextureActive);\r\n\r\n    }\r\n    \r\n    draw(gl:WebGL2RenderingContext){\r\n        this.activateBuffers(gl);\r\n        this.activateMaterial(gl);\r\n       this.drawActivatedMaterial(gl);\r\n    }\r\n\r\n    drawActivatedMaterial(gl: WebGL2RenderingContext) {\r\n        gl.drawElements(gl.TRIANGLES, this.indices.length, gl.UNSIGNED_SHORT,0);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/models/meshlessmodel.ts","//Return random signed int\r\nexport function randi(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}   \r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/random.ts","\r\ninterface Vec2{\r\n    x:number;\r\n    y:number;\r\n}\r\n\r\n\r\nexport class Noisefield{\r\n    GRID_SIZE: number;\r\n    SEED_X1: number;\r\n    SEED_X2: number;\r\n    SEED_Y1: number;\r\n    SEED_Y2: number;\r\n    SEED_Q0: number;\r\n    SEED_Q1: number;\r\n    SEED_Q2: number;\r\n    amplitude: number;\r\n    \r\n    constructor(grid_size:number, amplitude:number, x1:number, x2:number, y1:number, y2:number, q0:number, q1:number, q2:number){\r\n        this.GRID_SIZE = grid_size;\r\n        this.amplitude = amplitude;\r\n        this.SEED_X1 = x1;\r\n        this.SEED_X2 = x2;\r\n        this.SEED_Y1 = y1;\r\n        this.SEED_Y2 = y2;\r\n        this.SEED_Q0 = q0;\r\n        this.SEED_Q1 = q1;\r\n        this.SEED_Q2 = q2;\r\n    }\r\n    \r\n    private pseudorandom(x:number, y:number){\r\n        let n = (this.SEED_X1 * x) + (this.SEED_Y1 * y);\r\n        let quad_term = this.SEED_Q2 * n * n +\r\n            this.SEED_Q1 * n +\r\n            this.SEED_Q0;\r\n        return quad_term +\r\n            (this.SEED_X2 * x) +\r\n            (this.SEED_Y2 * y);\r\n    }\r\n    \r\n    private fade(n:number): number{\r\n        //result = (1 - cos(n * 3.14159265f)) * 0.5f;\r\n        //result = -2 * (n*n*n) + 3 * (n*n);\r\n        let result = 6 * (n*n*n*n*n) - 15 * (n*n*n*n) + 10 * (n*n*n);\r\n        //result = n;\r\n        return result;\r\n    }\r\n    \r\n    private lattice(x:number, y:number): Vec2 {\r\n        let value = this.pseudorandom(x,y,);\r\n        let radians = value * 2 * Math.PI;\r\n        return {x:Math.cos(radians), y:Math.sin(radians)};\r\n        \r\n    }\r\n    \r\n    public perlineNoise(x:number, y:number){\r\n        let x0 = Math.floor(x/this.GRID_SIZE);\r\n        let y0 = Math.floor(y/this.GRID_SIZE);\r\n        \r\n        let x_frac = x / this.GRID_SIZE - x0;\r\n        let y_frac = y / this.GRID_SIZE - y0;\r\n        \r\n        let x1 = x0 + 1;\r\n        let y1 = y0 + 1;\r\n        \r\n        let lattice00:Vec2 = this.lattice(x0,y0);\r\n        let lattice01:Vec2 = this.lattice(x0,y1);\r\n        let lattice10:Vec2 = this.lattice(x1,y0);\r\n        let lattice11:Vec2 = this.lattice(x1,y1);\r\n        \r\n        let direction00:Vec2 = {x:-x_frac, y:-y_frac};\r\n        let direction01:Vec2 = {x:-x_frac, y:1 - y_frac};\r\n        let direction10:Vec2 = {x:1 - x_frac, y:-y_frac};\r\n        let direction11:Vec2 = {x:1 - x_frac, y:1 - y_frac};\r\n        \r\n        let value00 = this.dotProduct(lattice00, direction00);\r\n        let value01 = this.dotProduct(lattice01, direction01);\r\n        let value10 = this.dotProduct(lattice10, direction10);\r\n        let value11 = this.dotProduct(lattice11, direction11);\r\n        \r\n        let x_fade1 = this.fade(x_frac);\r\n        let y_fade1 = this.fade(y_frac);\r\n        let x_fade0 = 1 - x_fade1;\r\n        let y_fade0 = 1 - y_fade1;\r\n               \r\n        let  value0 = value00 * y_fade0 + value01 * y_fade1;\r\n        let value1 = value10 * y_fade0 + value11 * y_fade1;\r\n        \r\n        let value = value0 * x_fade0 + value1 * x_fade1;\r\n        \r\n        let  result = value * this.amplitude;\r\n        return result\r\n    }\r\n    \r\n    private dotProduct(a:Vec2, b:Vec2): number{\r\n        return a.x * b.x + a.y * b.y;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/noisefield.ts","import {BasicModel} from \"./basicmodel\";\r\nimport {Mesh} from \"../../lib/OBJ/index.js\";\r\n\r\nexport class DiskModel extends BasicModel {\r\n\r\n    constructor(mesh: Mesh) {\r\n        super(mesh);\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        super.init(gl);\r\n\r\n        //Initialize the textures: side tex, side black, top tex\r\n        this.initAllTextures(gl);\r\n\r\n        let blackTexture = gl.createTexture();\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, blackTexture);\r\n        const pixel = new Uint8Array([0, 0, 0, 255]);  // opaque black\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE, pixel);\r\n        this.setTexture(blackTexture, 1);\r\n\r\n\r\n   \r\n    }\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/models/diskmodel.ts","module.exports = \"#\\r\\n#  Disks.mtl\\r\\n#\\r\\n\\r\\nnewmtl diskA\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskA.jpg\\r\\nmap_Ka DiskA.jpg\\r\\n\\r\\nnewmtl diskA_side\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskA_side.jpg\\r\\nmap_Ka DiskA_side.jpg\\r\\n\\r\\nnewmtl diskB\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskB.jpg\\r\\nmap_Ka DiskB.jpg\\r\\n\\r\\nnewmtl diskB_side\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskB_side.jpg\\r\\nmap_Ka DiskB_side.jpg\\r\\n\\r\\nnewmtl diskC\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskC.jpg\\r\\nmap_Ka DiskC.jpg\\r\\n\\r\\n\\r\\nnewmtl diskC_side\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskC_side.jpg\\r\\nmap_Ka DiskC_side.jpg\\r\\n\\r\\nnewmtl diskD\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nKs 0.0 0.0 0.0\\r\\nmap_Kd DiskD.jpg\\r\\nmap_Ka DiskD.jpg\\r\\n\\r\\nnewmtl diskD_side\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskD_side.jpg\\r\\nmap_Ka DiskD_side.jpg\\r\\n\\r\\nnewmtl diskE\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskE.jpg\\r\\nmap_Ka DiskE.jpg\\r\\n\\r\\nnewmtl diskE_side\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd DiskE_side.jpg\\r\\nmap_Ka DiskE_side.jpg\\r\\n\\r\\nnewmtl flat_black\\r\\nillum 0\\r\\nKd 0.00 0.00 0.00\\r\\nKa 0.00 0.00 0.00\\r\\n\\r\\nnewmtl rainbow\\r\\nillum 1\\r\\nKd 0.80 0.80 0.80\\r\\nKa 0.20 0.20 0.20\\r\\nmap_Kd Rainbow.jpg\\r\\nmap_Ka Rainbow.jpg\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/models/environment/disks/Disks.mtl\n// module id = 30\n// module chunks = 0","module.exports = \"DISK version 1\\r\\n159.835\\r\\n61\\r\\n5.61676\\t34.6006\\t6.55774\\t\\r\\n4.5521\\t49.1698\\t8.0504\\t\\r\\n6.29182\\t17.456\\t10.6\\t\\r\\n19.2771\\t30.399\\t7.7341\\t\\r\\n-5.63964\\t-6.61964\\t16.2699\\t\\r\\n-34.8144\\t-13.928\\t13.8063\\t\\r\\n17.7224\\t44.1054\\t6.06006\\t\\r\\n16.9081\\t56.4082\\t6.2697\\t\\r\\n-51.3318\\t-2.99788\\t6\\t\\r\\n-61.6816\\t3.18528\\t6.0561\\t\\r\\n2.67116\\t-44.403\\t22.4166\\t\\r\\n-61.7976\\t-8.87178\\t6.00154\\t\\r\\n20.3596\\t-15.7251\\t11.2777\\t\\r\\n53.2492\\t45.6392\\t29.4998\\t\\r\\n28.4818\\t20.19\\t6.01188\\t\\r\\n-56.16\\t-23.3322\\t9.51902\\t\\r\\n29.7014\\t5.71352\\t8.51594\\t\\r\\n-4.05204\\t60.2884\\t6.00862\\t\\r\\n-73.0756\\t12.5486\\t8.6916\\t\\r\\n-13.4131\\t76.324\\t12.5593\\t\\r\\n-73.0176\\t-2.86702\\t6.72414\\t\\r\\n-72.7376\\t-17.5524\\t7.96394\\t\\r\\n-69.9778\\t-32.1062\\t6.84908\\t\\r\\n-21.5382\\t-69.3478\\t12.3445\\t\\r\\n-43.1694\\t-31.9836\\t6.08872\\t\\r\\n10.4786\\t-94.7314\\t28.5138\\t\\r\\n68.47\\t106.494\\t33.2292\\t\\r\\n-55.834\\t-44.7244\\t11.8756\\t\\r\\n-90.5932\\t35.5246\\t20.2006\\t\\r\\n-42.9236\\t-77.4838\\t10.5364\\t\\r\\n58.784\\t-6.65676\\t23.0884\\t\\r\\n30.7258\\t-49.0178\\t6.01498\\t\\r\\n-23.5632\\t-87.8066\\t6.22514\\t\\r\\n-50.58\\t-62.8268\\t6\\t\\r\\n35.7504\\t-30.2686\\t9.89758\\t\\r\\n-48.2148\\t94.9572\\t26.9168\\t\\r\\n29.0574\\t108.357\\t6.22754\\t\\r\\n-82.3006\\t-74.0996\\t27.664\\t\\r\\n31.4576\\t120.811\\t6.45576\\t\\r\\n106.947\\t61.002\\t26.3522\\t\\r\\n-71.8658\\t55.0002\\t6.81826\\t\\r\\n-14.8019\\t95.3308\\t6.4983\\t\\r\\n-87.6702\\t-35.6198\\t11.1887\\t\\r\\n39.751\\t-56.9514\\t6.00168\\t\\r\\n-1.16644\\t108.714\\t12.6072\\t\\r\\n42.0084\\t-44.884\\t6.0011\\t\\r\\n-115.571\\t-43.2198\\t17.7283\\t\\r\\n-10.0822\\t-128.608\\t11.1144\\t\\r\\n-72.6896\\t69.6884\\t7.89294\\t\\r\\n39.1888\\t-68.9426\\t6.0027\\t\\r\\n42.1076\\t-80.6828\\t6.09486\\t\\r\\n-59.1878\\t-102.758\\t7.0319\\t\\r\\n-99.9152\\t88.4796\\t25.1878\\t\\r\\n-117.585\\t54.717\\t12.919\\t\\r\\n50.7834\\t-36.2758\\t6.29124\\t\\r\\n53.196\\t-63.5894\\t8.99256\\t\\r\\n-59.0672\\t-116.049\\t6.25942\\t\\r\\n-113.225\\t21.0036\\t6.6893\\t\\r\\n-72.514\\t-107.455\\t7.09802\\t\\r\\n81.1576\\t23.6564\\t6.0266\\t\\r\\n69.0202\\t-52.9854\\t10.0561\\t\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/worlds/maps/Basic.txt\n// module id = 31\n// module chunks = 0","import {BasicModel} from \"./models/basicmodel\";\r\n\r\nlet OBJ = require('../lib/OBJ/index.js');\r\nimport {Mesh} from \"../lib/OBJ/index.js\";\r\nimport {SkyboxModel} from \"./models/skyboxmodel\";\r\n\r\nexport class Skybox {\r\n    model: SkyboxModel;\r\n\r\n    constructor(gl: WebGL2RenderingContext, mesh: Mesh) {\r\n        this.model = new SkyboxModel(mesh);\r\n        this.model.init(gl)\r\n    }\r\n\r\n\r\n    draw(gl: WebGL2RenderingContext) {\r\n        this.model.draw(gl);\r\n        \r\n    }\r\n\r\n\r\n\r\n    \r\n    static async load(): Promise<Object> {\r\n        return OBJ.downloadModels([\r\n            {\r\n                name: 'Skybox',\r\n                obj: \"/assets/models/environment/skybox/Skybox.obj\",\r\n                mtl: \"/assets/models/environment/skybox/Skybox.mtl\"\r\n            }\r\n        ]);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/skybox.ts","import {BasicModel} from \"./basicmodel\";\r\nimport {Mesh} from \"../../lib/OBJ/index.js\";\r\n\r\nexport class SkyboxModel extends BasicModel {\r\n    \r\n    constructor(mesh: Mesh) {\r\n        super(mesh);\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        super.init(gl);\r\n\r\n     \r\n        //Initialize the textures: side tex, side black, top tex\r\n        if (!this.initTexture(gl, 0, true)) {\r\n            console.warn(\"Skybox model texture 0 wasn't downloaded\")\r\n        }\r\n    }\r\n\r\n    \r\n    draw(gl:WebGL2RenderingContext){\r\n        gl.bindVertexArray(this.VAO);\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.mesh.indexBuffer);\r\n\r\n\r\n        this.textures.forEach((texture,index) =>{\r\n            let is = this.mesh.vertexBuffer.itemSize;\r\n            let submesh = this.mesh.submesh[index];\r\n            let byteSize = 2;\r\n            gl.bindTexture(gl.TEXTURE_2D, texture);\r\n            gl.drawElements(gl.TRIANGLES, this.mesh.indexBuffer.numItems, gl.UNSIGNED_SHORT,submesh.offset * is * byteSize);\r\n        });\r\n\r\n        gl.bindVertexArray(null);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entities/models/skyboxmodel.ts","import {BasicModel} from \"./entities/models/basicmodel\";\r\nimport {Material} from './lib/OBJ/index.js';\r\nimport {Mesh} from './lib/OBJ/index.js';\r\nimport {Entity, Model_Type} from \"./entities/entity\";\r\nimport {mat4, vec3} from \"gl-matrix\";\r\nimport {BasicModelShader} from \"./basicmodelshader\";\r\nimport {MeshlessModel} from \"./entities/models/meshlessmodel\";\r\nimport {World} from \"./entities/world\";\r\n\r\nexport class Renderer {\r\n    models: Map<string, BasicModel>;\r\n    meshless_models: Map<string, MeshlessModel>;\r\n    materials: Map<string, Material>;\r\n    basicModelShader: BasicModelShader;\r\n    entities: Map<string, Entity>;\r\n\r\n    constructor() {\r\n        this.models = new Map<string, BasicModel>();\r\n        this.materials = new Map<string, Material>();\r\n        this.entities = new Map<string, Entity>();\r\n        this.meshless_models = new Map<string, MeshlessModel>();\r\n    }\r\n\r\n    init(shader: BasicModelShader) {\r\n        this.basicModelShader = shader;\r\n\r\n\r\n    }\r\n\r\n    addBasicModel(model: BasicModel) {\r\n        if (this.models.get(model.mesh.name) === undefined) {\r\n            this.models.set(model.mesh.name, model);\r\n        }\r\n\r\n        for (var key in model.mesh.materialNames) {\r\n            if (this.materials.get(model.mesh.materialNames[key]) === undefined) {\r\n                this.materials.set(model.mesh.materialNames[key], model.mesh.materialsByIndex[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    addMeshlessModel(model: MeshlessModel) {\r\n        if (this.meshless_models.get(model.name) === undefined) {\r\n            this.meshless_models.set(model.name, model);\r\n        }\r\n\r\n        if (this.materials.get(model.material.name) === undefined) {\r\n            this.materials.set(model.material.name, model.material);\r\n        }\r\n\r\n    }\r\n\r\n    addEntityToRenderList(entity: Entity) {\r\n        if (this.entities.get(entity.id) === undefined) {\r\n            this.entities.set(entity.id, entity);\r\n        }\r\n\r\n        if (entity.model_type == Model_Type.BASIC) {\r\n            if (this.models.get(entity.mesh_name) === undefined) {\r\n                console.log(\"Basic Model Missing: \" + entity.mesh_name);\r\n            }\r\n        } else if (entity.model_type == Model_Type.MESHLESS) {\r\n            if (this.meshless_models.get(entity.mesh_name) === undefined) {\r\n                console.log(\"Meshless Model Missing: \" + entity.mesh_name)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    prepareBasicModelShader(gl: WebGL2RenderingContext) {\r\n        this.basicModelShader.use();\r\n        gl.enable(gl.DEPTH_TEST);\r\n\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n        gl.activeTexture(gl.TEXTURE1);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n        gl.activeTexture(gl.TEXTURE2);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n        gl.activeTexture(gl.TEXTURE3);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n        gl.activeTexture(gl.TEXTURE4);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n        gl.activeTexture(gl.TEXTURE5);\r\n        gl.bindTexture(gl.TEXTURE_2D, BasicModel.emptyTexture);\r\n\r\n        this.basicModelShader.setBool(this.basicModelShader.uniforms.tween_enabled, false);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_transparency_texture, 0);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_emission_texture, 1);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_ambient_texture, 2);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_diffuse_texture, 3);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_specular_texture, 4);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_shininess_texture, 5);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_transparency_channel, 0);\r\n        this.basicModelShader.setInt(this.basicModelShader.uniforms.material_shininess_channel, 0);\r\n    }\r\n\r\n    render(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n        //sort entities\r\n        this.prepareBasicModelShader(gl);\r\n\r\n        this.renderMeshlessModels(gl, view_matrix, projection_matrix);\r\n        this.renderBasicModels(gl, view_matrix, projection_matrix);\r\n\r\n    }\r\n\r\n    private renderMeshlessModels(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n        let mat_list = [];\r\n        for (const [key, model] of this.meshless_models.entries()) {\r\n            if (mat_list.indexOf(model.material.name) < 0) {\r\n                mat_list.push(model.material.name);\r\n            }\r\n        }\r\n\r\n        for (let j = 0; j < mat_list.length; j++) {\r\n            //activate mat first\r\n            let activated = false;\r\n\r\n            //Loop over all models\r\n            for (const [key, model] of this.meshless_models.entries()) {\r\n                if (model.material.name !== mat_list[j]) continue;\r\n\r\n                //Find all the things we want to draw with this model\r\n                let entities_to_draw = [];\r\n                for (const [key, entity] of this.entities.entries()) {\r\n                    if (entity.model_type == Model_Type.MESHLESS && model.name == entity.mesh_name) {\r\n                        entities_to_draw.push(entity);\r\n                    }\r\n                }\r\n                //If things to draw\r\n                if (entities_to_draw.length > 0) {\r\n                    //Activate this model\r\n                    model.activateBuffers(gl);\r\n                    //Activate the material\r\n                    if (!activated) {\r\n                        model.activateMaterial(gl);\r\n                        activated = true;\r\n                    }\r\n\r\n                    for (let i = 0; i < entities_to_draw.length; i++) {//\r\n                        let model_matrix = mat4.create();\r\n                        //Move player model to its position\r\n                        mat4.translate(model_matrix, model_matrix, entities_to_draw[i].position);\r\n                        //Rotate model to face away from camera\r\n                        mat4.rotateY(model_matrix, model_matrix, Math.atan2(entities_to_draw[i].forward[0] + model.rotation_offset[0], entities_to_draw[i].forward[2]) + model.rotation_offset[2]);\r\n                        //Scale\r\n                        mat4.scale(model_matrix, model_matrix, entities_to_draw[i].scalar);\r\n                        //Set matrices in shader\r\n                        BasicModel.setMVPMatrices(model_matrix, view_matrix, projection_matrix);\r\n                        model.drawActivatedMaterial(gl);\r\n             \r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private renderBasicModels(gl: WebGL2RenderingContext, view_matrix: mat4, projection_matrix: mat4) {\r\n\r\n        let mat_list = [];\r\n        for (const [key, model] of this.models.entries()) {\r\n            for (const i in model.mesh.materialNames) {\r\n                if (mat_list.indexOf(model.mesh.materialsByIndex[i].name) < 0) {\r\n                    mat_list.push(model.mesh.materialsByIndex[i].name);\r\n                }\r\n            }\r\n        }\r\n        for (let j = 0; j < mat_list.length; j++) {\r\n             for (const [key, model] of this.models.entries()) {\r\n                let skip = true;\r\n                let mat_id = 0;\r\n                 for (const i in model.mesh.materialNames) {\r\n                    if (model.mesh.materialsByIndex[i] && model.mesh.materialsByIndex[i].name == mat_list[j]) {\r\n                        model.activateMaterial(gl, Number(i));\r\n                        mat_id = Number(i);\r\n                        skip = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (skip) continue;\r\n\r\n                let entities_to_draw = [];\r\n                for (const [key, entity] of this.entities.entries()) {\r\n                    if (entity.model_type == Model_Type.BASIC && model.mesh.name == entity.mesh_name) {\r\n                        entities_to_draw.push(entity);\r\n                    }\r\n                }\r\n                if (entities_to_draw.length > 0) {\r\n                    model.activateBuffers(gl);\r\n                    \r\n                    for (let i = 0; i < entities_to_draw.length; i++) {\r\n                        let model_matrix = mat4.create();\r\n                        //Move player model to its position\r\n                        mat4.translate(model_matrix, model_matrix, entities_to_draw[i].position);\r\n                        //Rotate model to face away from camera\r\n                        mat4.rotateY(model_matrix, model_matrix, Math.atan2(entities_to_draw[i].forward[0] + model.rotation_offset[0], entities_to_draw[i].forward[2]) + model.rotation_offset[2]);\r\n                        //Scale\r\n                        mat4.scale(model_matrix, model_matrix, entities_to_draw[i].scalar);\r\n                        //Set matrices in shader\r\n                        BasicModel.setMVPMatrices(model_matrix, view_matrix, projection_matrix);\r\n                        //Draw triangle list\r\n                        model.drawActivatedMaterial(gl, mat_id);\r\n                   \r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n       \r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Renderer.ts","import {mat4, vec3, vec4} from \"gl-matrix\";\r\nimport {Shader} from \"./shader\";\r\nimport {BasicModel} from \"./entities/models/basicmodel\";\r\n\r\nclass Uniforms {\r\n    model_matrix: WebGLUniformLocation;\r\n    view_matrix: WebGLUniformLocation;\r\n    model_view_projection_matrix: WebGLUniformLocation;\r\n    camera_pos: WebGLUniformLocation;\r\n    tween_enabled: WebGLUniformLocation;\r\n    material_transparency_texture: WebGLUniformLocation;\r\n    material_emission_texture: WebGLUniformLocation;\r\n    material_ambient_texture: WebGLUniformLocation;\r\n    material_diffuse_texture: WebGLUniformLocation;\r\n    material_specular_texture: WebGLUniformLocation;\r\n    material_shininess_texture: WebGLUniformLocation;\r\n    material_transparency_channel: WebGLUniformLocation;\r\n    material_shininess_channel: WebGLUniformLocation;\r\n    material_transparency: WebGLUniformLocation;\r\n    material_ambient_colour: WebGLUniformLocation;\r\n    material_diffuse_colour: WebGLUniformLocation;\r\n    material_specular_colour: WebGLUniformLocation;\r\n    material_emissive_colour: WebGLUniformLocation;\r\n    material_shininess: WebGLUniformLocation;\r\n    material_is_texture_active: WebGLUniformLocation;\r\n};\r\n\r\nexport class BasicModelShader extends  Shader{\r\n    uniforms:Uniforms;\r\n    \r\n    constructor(gl: WebGL2RenderingContext, vertexSourceCode: string, fragmentSourceCode: string) {\r\n        super(gl, vertexSourceCode,fragmentSourceCode);\r\n\r\n        this.uniforms = new Uniforms();\r\n        this.uniforms.model_matrix = this.getUniformLocation(\"model_matrix\");\r\n        this.uniforms.view_matrix = this.getUniformLocation(\"view_matrix\");\r\n        this.uniforms.model_view_projection_matrix = this.getUniformLocation(\"model_view_projection_matrix\");\r\n        this.uniforms.camera_pos = this.getUniformLocation(\"camera_pos\");\r\n        this.uniforms.tween_enabled = this.getUniformLocation(\"tween_enabled\");\r\n        this.uniforms.material_transparency_texture = this.getUniformLocation(\"material.transparency_texture\");\r\n        this.uniforms.material_emission_texture = this.getUniformLocation(\"material.emission_texture\");\r\n        this.uniforms.material_ambient_texture = this.getUniformLocation(\"material.ambient_texture\");\r\n        this.uniforms.material_diffuse_texture = this.getUniformLocation(\"material.diffuse_texture\");\r\n        this.uniforms.material_specular_texture = this.getUniformLocation(\"material.specular_texture\");\r\n        this.uniforms.material_shininess_texture = this.getUniformLocation(\"material.shininess_texture\");\r\n        this.uniforms.material_transparency_channel = this.getUniformLocation(\"material.transparency_channel\");\r\n        this.uniforms.material_shininess_channel = this.getUniformLocation(\"material.shininess_channel\");\r\n        this.uniforms.material_transparency = this.getUniformLocation(\"material.transparency\");\r\n        this.uniforms.material_ambient_colour = this.getUniformLocation(\"material.ambient_colour\");\r\n        this.uniforms.material_diffuse_colour = this.getUniformLocation(\"material.diffuse_colour\");\r\n        this.uniforms.material_specular_colour = this.getUniformLocation(\"material.specular_colour\");\r\n        this.uniforms.material_emissive_colour = this.getUniformLocation(\"material.emissive_colour\");\r\n        this.uniforms.material_shininess = this.getUniformLocation(\"material.shininess\");\r\n        this.uniforms.material_is_texture_active = this.getUniformLocation(\"material.is_texture_active\");\r\n    }\r\n\r\n    use() {\r\n        this.gl.useProgram(this.ID);\r\n    }\r\n\r\n    setBoolByName(name: string, value: boolean) {\r\n        this.gl.uniform1i(this.getUniformLocation(name), value ? 1 : 0);\r\n    }\r\n\r\n    setBool(id: number | WebGLUniformLocation, value: boolean) {\r\n        this.gl.uniform1i(id, value ? 1 : 0);\r\n    }\r\n\r\n    setInt(id: number | WebGLUniformLocation, value: number) {\r\n        this.gl.uniform1i(id, value);\r\n    }\r\n    setIntByName(name: string, value: number) {\r\n        this.gl.uniform1i(this.getUniformLocation(name), value);\r\n    }\r\n\r\n\r\n    setIntV(id: number | WebGLUniformLocation, value: number[]) {\r\n        this.gl.uniform1iv(id, value);\r\n    }\r\n\r\n    setIntVByName(name: string, value: number[]) {\r\n        this.gl.uniform1iv(this.getUniformLocation(name), value);\r\n    }\r\n    \r\n    setFloat(id: number | WebGLUniformLocation, value: number) {\r\n        this.gl.uniform1f(id, value);\r\n    }\r\n    setFloatByName(name: string, value: number) {\r\n        this.gl.uniform1f(this.getUniformLocation(name), value);\r\n    }\r\n\r\n    getUniformLocation(name: string) {\r\n        var a = this.gl.getUniformLocation(this.ID, name);\r\n        return a;\r\n    }\r\n\r\n    setMat4(id: number | WebGLUniformLocation, matrix: mat4 | number[]) {\r\n        this.gl.uniformMatrix4fv(id, false, matrix);\r\n    }\r\n\r\n    setMat4ByName(name: string, matrix: mat4 | number[]) {\r\n        this.gl.uniformMatrix4fv(this.getUniformLocation(name), false, matrix);\r\n    }\r\n    \r\n    setVec3(id: number | WebGLUniformLocation, vec: vec3| number[]) {\r\n        this.gl.uniform3fv(id, vec);\r\n    }\r\n    \r\n    setVec3ByName (name: string, vec: vec3| number[]) {\r\n        this.gl.uniform3fv(this.getUniformLocation(name), vec);\r\n    }\r\n    \r\n    setVec4(id: number | WebGLUniformLocation, vec: vec4| number[]){\r\n        this.gl.uniform4fv(id, vec);\r\n    }\r\n\r\n    setVec4ByName(name: string, vec: vec4| number[]){\r\n        this.gl.uniform4fv(this.getUniformLocation(name), vec);\r\n    }\r\n\r\n}\r\n\r\nfunction getShader(gl: WebGL2RenderingContext, sourceCode, type) {\r\n    let shader: WebGLShader;\r\n    shader = gl.createShader(type);\r\n\r\n\r\n    gl.shaderSource(shader,sourceCode);\r\n\r\n    gl.compileShader(shader);\r\n\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        alert(gl.getShaderInfoLog(shader));\r\n        return null;\r\n    }\r\n    return shader;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/basicmodelshader.ts","'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assert/assert.js\n// module id = 36\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/util.js\n// module id = 37\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 38\n// module chunks = 0","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/support/isBufferBrowser.js\n// module id = 39\n// module chunks = 0","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/inherits/inherits_browser.js\n// module id = 40\n// module chunks = 0","/*\r\n * A main loop useful for games and other animated applications.\r\n */\r\n(function(root) {\r\n\r\n\t// The amount of time (in milliseconds) to simulate each time update()\r\n\t// runs. See `MainLoop.setSimulationTimestep()` for details.\r\n\tvar simulationTimestep = 1000 / 60,\r\n\r\n\t\t\t// The cumulative amount of in-app time that hasn't been simulated yet.\r\n\t\t\t// See the comments inside animate() for details.\r\n\t\t\tframeDelta = 0,\r\n\r\n\t\t\t// The timestamp in milliseconds of the last time the main loop was run.\r\n\t\t\t// Used to compute the time elapsed between frames.\r\n\t\t\tlastFrameTimeMs = 0,\r\n\r\n\t\t\t// An exponential moving average of the frames per second.\r\n\t\t\tfps = 60,\r\n\r\n\t\t\t// A factor that affects how heavily to weight more recent seconds'\r\n\t\t\t// performance when calculating the average frames per second. Valid values\r\n\t\t\t// range from zero to one inclusive. Higher values result in weighting more\r\n\t\t\t// recent seconds more heavily.\r\n\t\t\tfpsAlpha = 0.9,\r\n\r\n\t\t\t// The minimum duration between updates to the frames-per-second estimate.\r\n\t\t\t// Higher values increase accuracy, but result in slower updates.\r\n\t\t\tfpsUpdateInterval = 1000,\r\n\r\n\t\t\t// The timestamp (in milliseconds) of the last time the `fps` moving\r\n\t\t\t// average was updated.\r\n\t\t\tlastFpsUpdate = 0,\r\n\r\n\t\t\t// The number of frames delivered since the last time the `fps` moving\r\n\t\t\t// average was updated (i.e. since `lastFpsUpdate`).\r\n\t\t\tframesSinceLastFpsUpdate = 0,\r\n\r\n\t\t\t// The number of times update() is called in a given frame. This is only\r\n\t\t\t// relevant inside of animate(), but a reference is held externally so that\r\n\t\t\t// this variable is not marked for garbage collection every time the main\r\n\t\t\t// loop runs.\r\n\t\t\tnumUpdateSteps = 0,\r\n\r\n\t\t\t// The minimum amount of time in milliseconds that must pass since the last\r\n\t\t\t// frame was executed before another frame can be executed. The\r\n\t\t\t// multiplicative inverse caps the FPS (the default of zero means there is\r\n\t\t\t// no cap).\r\n\t\t\tminFrameDelay = 0,\r\n\r\n\t\t\t// Whether the main loop is running.\r\n\t\t\trunning = false,\r\n\r\n\t\t\t// `true` if `MainLoop.start()` has been called and the most recent time it\r\n\t\t\t// was called has not been followed by a call to `MainLoop.stop()`. This is\r\n\t\t\t// different than `running` because there is a delay of a few milliseconds\r\n\t\t\t// after `MainLoop.start()` is called before the application is considered\r\n\t\t\t// \"running.\" This delay is due to waiting for the next frame.\r\n\t\t\tstarted = false,\r\n\r\n\t\t\t// Whether the simulation has fallen too far behind real time.\r\n\t\t\t// Specifically, `panic` will be set to `true` if too many updates occur in\r\n\t\t\t// one frame. This is only relevant inside of animate(), but a reference is\r\n\t\t\t// held externally so that this variable is not marked for garbage\r\n\t\t\t// collection every time the main loop runs.\r\n\t\t\tpanic = false,\r\n\r\n\t\t\t// The object most likely to have `requestAnimationFrame` attached is\r\n\t\t\t// `window`, if it's available in this environment. Otherwise, fall back to\r\n\t\t\t// the root context.\r\n\t\t\twindowOrRoot = typeof window === 'object' ? window : root,\r\n\r\n\t\t\t// The function that runs the main loop. The unprefixed version of\r\n\t\t\t// `window.requestAnimationFrame()` is available in all modern browsers\r\n\t\t\t// now, but node.js doesn't have it, so fall back to timers. The polyfill\r\n\t\t\t// is adapted from the MIT-licensed\r\n\t\t\t// https://github.com/underscorediscovery/realtime-multiplayer-in-html5\r\n\t\t\trequestAnimationFrame = windowOrRoot.requestAnimationFrame || (function() {\r\n\t\t\t\tvar lastTimestamp = Date.now(),\r\n\t\t\t\t\t\tnow,\r\n\t\t\t\t\t\ttimeout;\r\n\t\t\t\treturn function(callback) {\r\n\t\t\t\t\tnow = Date.now();\r\n\t\t\t\t\t// The next frame should run no sooner than the simulation allows,\r\n\t\t\t\t\t// but as soon as possible if the current frame has already taken\r\n\t\t\t\t\t// more time to run than is simulated in one timestep.\r\n\t\t\t\t\ttimeout = Math.max(0, simulationTimestep - (now - lastTimestamp));\r\n\t\t\t\t\tlastTimestamp = now + timeout;\r\n\t\t\t\t\treturn setTimeout(function() {\r\n\t\t\t\t\t\tcallback(now + timeout);\r\n\t\t\t\t\t}, timeout);\r\n\t\t\t\t};\r\n\t\t\t})(),\r\n\r\n\t\t\t// The function that stops the main loop. The unprefixed version of\r\n\t\t\t// `window.cancelAnimationFrame()` is available in all modern browsers now,\r\n\t\t\t// but node.js doesn't have it, so fall back to timers.\r\n\t\t\tcancelAnimationFrame = windowOrRoot.cancelAnimationFrame || clearTimeout,\r\n\r\n\t\t\t// In all major browsers, replacing non-specified functions with NOOPs\r\n\t\t\t// seems to be as fast or slightly faster than using conditions to only\r\n\t\t\t// call the functions if they are specified. This is probably due to empty\r\n\t\t\t// functions being optimized away. http://jsperf.com/noop-vs-condition\r\n\t\t\tNOOP = function() {},\r\n\r\n\t\t\t// A function that runs at the beginning of the main loop.\r\n\t\t\t// See `MainLoop.setBegin()` for details.\r\n\t\t\tbegin = NOOP,\r\n\r\n\t\t\t// A function that runs updates (i.e. AI and physics).\r\n\t\t\t// See `MainLoop.setUpdate()` for details.\r\n\t\t\tupdate = NOOP,\r\n\r\n\t\t\t// A function that draws things on the screen.\r\n\t\t\t// See `MainLoop.setDraw()` for details.\r\n\t\t\tdraw = NOOP,\r\n\r\n\t\t\t// A function that runs at the end of the main loop.\r\n\t\t\t// See `MainLoop.setEnd()` for details.\r\n\t\t\tend = NOOP,\r\n\r\n\t\t\t// The ID of the currently executing frame. Used to cancel frames when\r\n\t\t\t// stopping the loop.\r\n\t\t\trafHandle;\r\n\r\n\t/**\r\n\t * Manages the main loop that runs updates and rendering.\r\n\t *\r\n\t * The main loop is a core part of any application in which state changes\r\n\t * even if no events are handled. In games, it is typically responsible for\r\n\t * computing physics and AI as well as drawing the result on the screen.\r\n\t *\r\n\t * The body of this particular loop is run every time the browser is ready to\r\n\t * paint another frame. The frequency with which this happens depends primarily\r\n\t * on the monitor's refresh rate, which is typically 60 frames per second. Most\r\n\t * applications aim to run at 60 FPS for this reason, meaning that the main\r\n\t * loop runs about once every 16.7 milliseconds. With this target, everything\r\n\t * that happens in the main loop (e.g. all updates and drawing) needs to occur\r\n\t * within the \"budget\" of 16.7 milliseconds.  See\r\n\t * `MainLoop.setSimulationTimestep()` for more information about typical\r\n\t * monitor refresh rates and frame rate targets.\r\n\t *\r\n\t * The main loop can be started and stopped, but there can only be one MainLoop\r\n\t * (except that each Web Worker can have its own MainLoop). There are four main\r\n\t * parts of the loop: {@link #setBegin begin}(), {@link #setUpdate update}(),\r\n\t * {@link #setDraw draw}(), and {@link #setEnd end}(), in that order. See the\r\n\t * functions that set each of them for descriptions of what they are used for.\r\n\t * Note that update() can run zero or more times per loop.\r\n\t *\r\n\t * @class MainLoop\r\n\t */\r\n\troot.MainLoop = {\r\n\t\t/**\r\n\t\t * Gets how many milliseconds should be simulated by every run of update().\r\n\t\t *\r\n\t\t * See `MainLoop.setSimulationTimestep()` for details on this value.\r\n\t\t *\r\n\t\t * @return {Number}\r\n\t\t *   The number of milliseconds that should be simulated by every run of\r\n\t\t *   {@link #setUpdate update}().\r\n\t\t */\r\n\t\tgetSimulationTimestep: function() {\r\n\t\t\treturn simulationTimestep;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets how many milliseconds should be simulated by every run of update().\r\n\t\t *\r\n\t\t * The perceived frames per second (FPS) is effectively capped at the\r\n\t\t * multiplicative inverse of the simulation timestep. That is, if the\r\n\t\t * timestep is 1000 / 60 (which is the default), then the maximum perceived\r\n\t\t * FPS is effectively 60. Decreasing the timestep increases the maximum\r\n\t\t * perceived FPS at the cost of running {@link #setUpdate update}() more\r\n\t\t * times per frame at lower frame rates. Since running update() more times\r\n\t\t * takes more time to process, this can actually slow down the frame rate.\r\n\t\t * Additionally, if the amount of time it takes to run update() exceeds or\r\n\t\t * very nearly exceeds the timestep, the application will freeze and crash\r\n\t\t * in a spiral of death (unless it is rescued; see `MainLoop.setEnd()` for\r\n\t\t * an explanation of what can be done if a spiral of death is occurring).\r\n\t\t *\r\n\t\t * The exception to this is that interpolating between updates for each\r\n\t\t * render can increase the perceived frame rate and reduce visual\r\n\t\t * stuttering. See `MainLoop.setDraw()` for an explanation of how to do\r\n\t\t * this.\r\n\t\t *\r\n\t\t * If you are considering decreasing the simulation timestep in order to\r\n\t\t * raise the maximum perceived FPS, keep in mind that most monitors can't\r\n\t\t * display more than 60 FPS. Whether humans can tell the difference among\r\n\t\t * high frame rates depends on the application, but for reference, film is\r\n\t\t * usually displayed at 24 FPS, other videos at 30 FPS, most games are\r\n\t\t * acceptable above 30 FPS, and virtual reality might require 75 FPS to\r\n\t\t * feel natural. Some gaming monitors go up to 144 FPS. Setting the\r\n\t\t * timestep below 1000 / 144 is discouraged and below 1000 / 240 is\r\n\t\t * strongly discouraged. The default of 1000 / 60 is good in most cases.\r\n\t\t *\r\n\t\t * The simulation timestep should typically only be changed at\r\n\t\t * deterministic times (e.g. before the main loop starts for the first\r\n\t\t * time, and not in response to user input or slow frame rates) to avoid\r\n\t\t * introducing non-deterministic behavior. The update timestep should be\r\n\t\t * the same for all players/users in multiplayer/multi-user applications.\r\n\t\t *\r\n\t\t * See also `MainLoop.getSimulationTimestep()`.\r\n\t\t *\r\n\t\t * @param {Number} timestep\r\n\t\t *   The number of milliseconds that should be simulated by every run of\r\n\t\t *   {@link #setUpdate update}().\r\n\t\t */\r\n\t\tsetSimulationTimestep: function(timestep) {\r\n\t\t\tsimulationTimestep = timestep;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the exponential moving average of the frames per second.\r\n\t\t *\r\n\t\t * @return {Number}\r\n\t\t *   The exponential moving average of the frames per second.\r\n\t\t */\r\n\t\tgetFPS: function() {\r\n\t\t\treturn fps;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Gets the maximum frame rate.\r\n\t\t *\r\n\t\t * Other factors also limit the FPS; see `MainLoop.setSimulationTimestep`\r\n\t\t * for details.\r\n\t\t *\r\n\t\t * See also `MainLoop.setMaxAllowedFPS()`.\r\n\t\t *\r\n\t\t * @return {Number}\r\n\t\t *   The maximum number of frames per second allowed.\r\n\t\t */\r\n\t\tgetMaxAllowedFPS: function() {\r\n\t\t\treturn 1000 / minFrameDelay;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets a maximum frame rate.\r\n\t\t *\r\n\t\t * See also `MainLoop.getMaxAllowedFPS()`.\r\n\t\t *\r\n\t\t * @param {Number} [fps=Infinity]\r\n\t\t *   The maximum number of frames per second to execute. If Infinity or not\r\n\t\t *   passed, there will be no FPS cap (although other factors do limit the\r\n\t\t *   FPS; see `MainLoop.setSimulationTimestep` for details). If zero, this\r\n\t\t *   will stop the loop, and when the loop is next started, it will return\r\n\t\t *   to the previous maximum frame rate. Passing negative values will stall\r\n\t\t *   the loop until this function is called again with a positive value.\r\n\t\t *\r\n\t\t * @chainable\r\n\t\t */\r\n\t\tsetMaxAllowedFPS: function(fps) {\r\n\t\t\tif (typeof fps === 'undefined') {\r\n\t\t\t\tfps = Infinity;\r\n\t\t\t}\r\n\t\t\tif (fps === 0) {\r\n\t\t\t\tthis.stop();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Dividing by Infinity returns zero.\r\n\t\t\t\tminFrameDelay = 1000 / fps;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Reset the amount of time that has not yet been simulated to zero.\r\n\t\t *\r\n\t\t * This introduces non-deterministic behavior if called after the\r\n\t\t * application has started running (unless it is being reset, in which case\r\n\t\t * it doesn't matter). However, this can be useful in cases where the\r\n\t\t * amount of time that has not yet been simulated has grown very large\r\n\t\t * (for example, when the application's tab gets put in the background and\r\n\t\t * the browser throttles the timers as a result). In applications with\r\n\t\t * lockstep the player would get dropped, but in other networked\r\n\t\t * applications it may be necessary to snap or ease the player/user to the\r\n\t\t * authoritative state and discard pending updates in the process. In\r\n\t\t * non-networked applications it may also be acceptable to simply resume\r\n\t\t * the application where it last left off and ignore the accumulated\r\n\t\t * unsimulated time.\r\n\t\t *\r\n\t\t * @return {Number}\r\n\t\t *   The cumulative amount of elapsed time in milliseconds that has not yet\r\n\t\t *   been simulated, but is being discarded as a result of calling this\r\n\t\t *   function.\r\n\t\t */\r\n\t\tresetFrameDelta: function() {\r\n\t\t\tvar oldFrameDelta = frameDelta;\r\n\t\t\tframeDelta = 0;\r\n\t\t\treturn oldFrameDelta;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets the function that runs at the beginning of the main loop.\r\n\t\t *\r\n\t\t * The begin() function is typically used to process input before the\r\n\t\t * updates run. Processing input here (in chunks) can reduce the running\r\n\t\t * time of event handlers, which is useful because long-running event\r\n\t\t * handlers can sometimes delay frames.\r\n\t\t *\r\n\t\t * Unlike {@link #setUpdate update}(), which can run zero or more times per\r\n\t\t * frame, begin() always runs exactly once per frame. This makes it useful\r\n\t\t * for any updates that are not dependent on time in the simulation.\r\n\t\t * Examples include adjusting HUD calculations or performing long-running\r\n\t\t * updates incrementally. Compared to {@link #setEnd end}(), generally\r\n\t\t * actions should occur in begin() if they affect anything that\r\n\t\t * {@link #setUpdate update}() or {@link #setDraw draw}() use.\r\n\t\t *\r\n\t\t * @param {Function} begin\r\n\t\t *   The begin() function.\r\n\t\t * @param {Number} [begin.timestamp]\r\n\t\t *   The current timestamp (when the frame started), in milliseconds. This\r\n\t\t *   should only be used for comparison to other timestamps because the\r\n\t\t *   epoch (i.e. the \"zero\" time) depends on the engine running this code.\r\n\t\t *   In engines that support `DOMHighResTimeStamp` (all modern browsers\r\n\t\t *   except iOS Safari 8) the epoch is the time the page started loading,\r\n\t\t *   specifically `performance.timing.navigationStart`. Everywhere else,\r\n\t\t *   including node.js, the epoch is the Unix epoch (1970-01-01T00:00:00Z).\r\n\t\t * @param {Number} [begin.delta]\r\n\t\t *   The total elapsed time that has not yet been simulated, in\r\n\t\t *   milliseconds.\r\n\t\t */\r\n\t\tsetBegin: function(fun) {\r\n\t\t\tbegin = fun || begin;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets the function that runs updates (e.g. AI and physics).\r\n\t\t *\r\n\t\t * The update() function should simulate anything that is affected by time.\r\n\t\t * It can be called zero or more times per frame depending on the frame\r\n\t\t * rate.\r\n\t\t *\r\n\t\t * As with everything in the main loop, the running time of update()\r\n\t\t * directly affects the frame rate. If update() takes long enough that the\r\n\t\t * frame rate drops below the target (\"budgeted\") frame rate, parts of the\r\n\t\t * update() function that do not need to execute between every frame can be\r\n\t\t * moved into Web Workers. (Various sources on the internet sometimes\r\n\t\t * suggest other scheduling patterns using setTimeout() or setInterval().\r\n\t\t * These approaches sometimes offer modest improvements with minimal\r\n\t\t * changes to existing code, but because JavaScript is single-threaded, the\r\n\t\t * updates will still block rendering and drag down the frame rate. Web\r\n\t\t * Workers execute in separate threads, so they free up more time in the\r\n\t\t * main loop.)\r\n\t\t *\r\n\t\t * This script can be imported into a Web Worker using importScripts() and\r\n\t\t * used to run a second main loop in the worker. Some considerations:\r\n\t\t *\r\n\t\t * - Profile your code before doing the work to move it into Web Workers.\r\n\t\t *   It could be the rendering that is the bottleneck, in which case the\r\n\t\t *   solution is to decrease the visual complexity of the scene.\r\n\t\t * - It doesn't make sense to move the *entire* contents of update() into\r\n\t\t *   workers unless {@link #setDraw draw}() can interpolate between frames.\r\n\t\t *   The lowest-hanging fruit is background updates (like calculating\r\n\t\t *   citizens' happiness in a city-building game), physics that doesn't\r\n\t\t *   affect the scene (like flags waving in the wind), and anything that is\r\n\t\t *   occluded or happening far off screen.\r\n\t\t * - If draw() needs to interpolate physics based on activity that occurs\r\n\t\t *   in a worker, the worker needs to pass the interpolation value back to\r\n\t\t *   the main thread so that is is available to draw().\r\n\t\t * - Web Workers can't access the state of the main thread, so they can't\r\n\t\t *   directly modify objects in your scene. Moving data to and from Web\r\n\t\t *   Workers is a pain. The fastest way to do it is with Transferable\r\n\t\t *   Objects: basically, you can pass an ArrayBuffer to a worker,\r\n\t\t *   destroying the original reference in the process.\r\n\t\t *\r\n\t\t * You can read more about Web Workers and Transferable Objects at\r\n\t\t * [HTML5 Rocks](http://www.html5rocks.com/en/tutorials/workers/basics/).\r\n\t\t *\r\n\t\t * @param {Function} update\r\n\t\t *   The update() function.\r\n\t\t * @param {Number} [update.delta]\r\n\t\t *   The amount of time in milliseconds to simulate in the update. In most\r\n\t\t *   cases this timestep never changes in order to ensure deterministic\r\n\t\t *   updates. The timestep is the same as that returned by\r\n\t\t *   `MainLoop.getSimulationTimestep()`.\r\n\t\t */\r\n\t\tsetUpdate: function(fun) {\r\n\t\t\tupdate = fun || update;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets the function that draws things on the screen.\r\n\t\t *\r\n\t\t * The draw() function gets passed the percent of time that the next run of\r\n\t\t * {@link #setUpdate update}() will simulate that has actually elapsed, as\r\n\t\t * a decimal. In other words, draw() gets passed how far between update()\r\n\t\t * calls it is. This is useful because the time simulated by update() and\r\n\t\t * the time between draw() calls is usually different, so the parameter to\r\n\t\t * draw() can be used to interpolate motion between frames to make\r\n\t\t * rendering appear smoother. To illustrate, if update() advances the\r\n\t\t * simulation at each vertical bar in the first row below, and draw() calls\r\n\t\t * happen at each vertical bar in the second row below, then some frames\r\n\t\t * will have time left over that is not yet simulated by update() when\r\n\t\t * rendering occurs in draw():\r\n\t\t *\r\n\t\t *     update() timesteps:  |  |  |  |  |  |  |  |  |\r\n\t\t *     draw() calls:        |   |   |   |   |   |   |\r\n\t\t *\r\n\t\t * To interpolate motion for rendering purposes, objects' state after the\r\n\t\t * last update() must be retained and used to calculate an intermediate\r\n\t\t * state. Note that this means renders will be up to one update() behind.\r\n\t\t * This is still better than extrapolating (projecting objects' state after\r\n\t\t * a future update()) which can produce bizarre results. Storing multiple\r\n\t\t * states can be difficult to set up, and keep in mind that running this\r\n\t\t * process takes time that could push the frame rate down, so it's often\r\n\t\t * not worthwhile unless stuttering is visible.\r\n\t\t *\r\n\t\t * @param {Function} draw\r\n\t\t *   The draw() function.\r\n\t\t * @param {Number} [draw.interpolationPercentage]\r\n\t\t *   The cumulative amount of time that hasn't been simulated yet, divided\r\n\t\t *   by the amount of time that will be simulated the next time update()\r\n\t\t *   runs. Useful for interpolating frames.\r\n\t\t */\r\n\t\tsetDraw: function(fun) {\r\n\t\t\tdraw = fun || draw;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets the function that runs at the end of the main loop.\r\n\t\t *\r\n\t\t * Unlike {@link #setUpdate update}(), which can run zero or more times per\r\n\t\t * frame, end() always runs exactly once per frame. This makes it useful\r\n\t\t * for any updates that are not dependent on time in the simulation.\r\n\t\t * Examples include cleaning up any temporary state set up by\r\n\t\t * {@link #setBegin begin}(), lowering the visual quality if the frame rate\r\n\t\t * is too low, or performing long-running updates incrementally. Compared\r\n\t\t * to begin(), generally actions should occur in end() if they use anything\r\n\t\t * that update() or {@link #setDraw draw}() affect.\r\n\t\t *\r\n\t\t * @param {Function} end\r\n\t\t *   The end() function.\r\n\t\t * @param {Number} [end.fps]\r\n\t\t *   The exponential moving average of the frames per second. This is the\r\n\t\t *   same value returned by `MainLoop.getFPS()`. It can be used to take\r\n\t\t *   action when the FPS is too low (or to restore to normalcy if the FPS\r\n\t\t *   moves back up). Examples of actions to take if the FPS is too low\r\n\t\t *   include exiting the application, lowering the visual quality, stopping\r\n\t\t *   or reducing activities outside of the main loop like event handlers or\r\n\t\t *   audio playback, performing non-critical updates less frequently, or\r\n\t\t *   increasing the simulation timestep (by calling\r\n\t\t *   `MainLoop.setSimulationTimestep()`). Note that this last option\r\n\t\t *   results in more time being simulated per update() call, which causes\r\n\t\t *   the application to behave non-deterministically.\r\n\t\t * @param {Boolean} [end.panic=false]\r\n\t\t *   Indicates whether the simulation has fallen too far behind real time.\r\n\t\t *   Specifically, `panic` will be `true` if too many updates occurred in\r\n\t\t *   one frame. In networked lockstep applications, the application should\r\n\t\t *   wait for some amount of time to see if the user can catch up before\r\n\t\t *   dropping the user. In networked but non-lockstep applications, this\r\n\t\t *   typically indicates that the user needs to be snapped or eased to the\r\n\t\t *   current authoritative state. When this happens, it may be convenient\r\n\t\t *   to call `MainLoop.resetFrameDelta()` to discard accumulated pending\r\n\t\t *   updates. In non-networked applications, it may be acceptable to allow\r\n\t\t *   the application to keep running for awhile to see if it will catch up.\r\n\t\t *   However, this could also cause the application to look like it is\r\n\t\t *   running very quickly for a few frames as it transitions through the\r\n\t\t *   intermediate states. An alternative that may be acceptable is to\r\n\t\t *   simply ignore the unsimulated elapsed time by calling\r\n\t\t *   `MainLoop.resetFrameDelta()` even though this introduces\r\n\t\t *   non-deterministic behavior. In all cases, if the application panics\r\n\t\t *   frequently, this is an indication that the main loop is running too\r\n\t\t *   slowly. However, most of the time the drop in frame rate will probably\r\n\t\t *   be noticeable before a panic occurs. To help the application catch up\r\n\t\t *   after a panic caused by a spiral of death, the same steps can be taken\r\n\t\t *   that are suggested above if the FPS drops too low.\r\n\t\t */\r\n\t\tsetEnd: function(fun) {\r\n\t\t\tend = fun || end;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Starts the main loop.\r\n\t\t *\r\n\t\t * Note that the application is not considered \"running\" immediately after\r\n\t\t * this function returns; rather, it is considered \"running\" after the\r\n\t\t * application draws its first frame. The distinction is that event\r\n\t\t * handlers should remain paused until the application is running, even\r\n\t\t * after `MainLoop.start()` is called. Check `MainLoop.isRunning()` for the\r\n\t\t * current status. To act after the application starts, register a callback\r\n\t\t * with requestAnimationFrame() after calling this function and execute the\r\n\t\t * action in that callback. It is safe to call `MainLoop.start()` multiple\r\n\t\t * times even before the application starts running and without calling\r\n\t\t * `MainLoop.stop()` in between, although there is no reason to do this;\r\n\t\t * the main loop will only start if it is not already started.\r\n\t\t *\r\n\t\t * See also `MainLoop.stop()`.\r\n\t\t */\r\n\t\tstart: function() {\r\n\t\t\tif (!started) {\r\n\t\t\t\t// Since the application doesn't start running immediately, track\r\n\t\t\t\t// whether this function was called and use that to keep it from\r\n\t\t\t\t// starting the main loop multiple times.\r\n\t\t\t\tstarted = true;\r\n\r\n\t\t\t\t// In the main loop, draw() is called after update(), so if we\r\n\t\t\t\t// entered the main loop immediately, we would never render the\r\n\t\t\t\t// initial state before any updates occur. Instead, we run one\r\n\t\t\t\t// frame where all we do is draw, and then start the main loop with\r\n\t\t\t\t// the next frame.\r\n\t\t\t\trafHandle = requestAnimationFrame(function(timestamp) {\r\n\t\t\t\t\t// Render the initial state before any updates occur.\r\n\t\t\t\t\tdraw(1);\r\n\r\n\t\t\t\t\t// The application isn't considered \"running\" until the\r\n\t\t\t\t\t// application starts drawing.\r\n\t\t\t\t\trunning = true;\r\n\r\n\t\t\t\t\t// Reset variables that are used for tracking time so that we\r\n\t\t\t\t\t// don't simulate time passed while the application was paused.\r\n\t\t\t\t\tlastFrameTimeMs = timestamp;\r\n\t\t\t\t\tlastFpsUpdate = timestamp;\r\n\t\t\t\t\tframesSinceLastFpsUpdate = 0;\r\n\r\n\t\t\t\t\t// Start the main loop.\r\n\t\t\t\t\trafHandle = requestAnimationFrame(animate);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Stops the main loop.\r\n\t\t *\r\n\t\t * Event handling and other background tasks should also be paused when the\r\n\t\t * main loop is paused.\r\n\t\t *\r\n\t\t * Note that pausing in multiplayer/multi-user applications will cause the\r\n\t\t * player's/user's client to become out of sync. In this case the\r\n\t\t * simulation should exit, or the player/user needs to be snapped to their\r\n\t\t * updated position when the main loop is started again.\r\n\t\t *\r\n\t\t * See also `MainLoop.start()` and `MainLoop.isRunning()`.\r\n\t\t */\r\n\t\tstop: function() {\r\n\t\t\trunning = false;\r\n\t\t\tstarted = false;\r\n\t\t\tcancelAnimationFrame(rafHandle);\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns whether the main loop is currently running.\r\n\t\t *\r\n\t\t * See also `MainLoop.start()` and `MainLoop.stop()`.\r\n\t\t *\r\n\t\t * @return {Boolean}\r\n\t\t *   Whether the main loop is currently running.\r\n\t\t */\r\n\t\tisRunning: function() {\r\n\t\t\treturn running;\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * The main loop that runs updates and rendering.\r\n\t *\r\n\t * @param {DOMHighResTimeStamp} timestamp\r\n\t *   The current timestamp. In practice this is supplied by\r\n\t *   requestAnimationFrame at the time that it starts to fire callbacks. This\r\n\t *   should only be used for comparison to other timestamps because the epoch\r\n\t *   (i.e. the \"zero\" time) depends on the engine running this code. In engines\r\n\t *   that support `DOMHighResTimeStamp` (all modern browsers except iOS Safari\r\n\t *   8) the epoch is the time the page started loading, specifically\r\n\t *   `performance.timing.navigationStart`. Everywhere else, including node.js,\r\n\t *   the epoch is the Unix epoch (1970-01-01T00:00:00Z).\r\n\t *\r\n\t * @ignore\r\n\t */\r\n\tfunction animate(timestamp) {\r\n\t\t// Run the loop again the next time the browser is ready to render.\r\n\t\t// We set rafHandle immediately so that the next frame can be canceled\r\n\t\t// during the current frame.\r\n\t\trafHandle = requestAnimationFrame(animate);\r\n\r\n\t\t// Throttle the frame rate (if minFrameDelay is set to a non-zero value by\r\n\t\t// `MainLoop.setMaxAllowedFPS()`).\r\n\t\tif (timestamp < lastFrameTimeMs + minFrameDelay) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// frameDelta is the cumulative amount of in-app time that hasn't been\r\n\t\t// simulated yet. Add the time since the last frame. We need to track total\r\n\t\t// not-yet-simulated time (as opposed to just the time elapsed since the\r\n\t\t// last frame) because not all actually elapsed time is guaranteed to be\r\n\t\t// simulated each frame. See the comments below for details.\r\n\t\tframeDelta += timestamp - lastFrameTimeMs;\r\n\t\tlastFrameTimeMs = timestamp;\r\n\r\n\t\t// Run any updates that are not dependent on time in the simulation. See\r\n\t\t// `MainLoop.setBegin()` for additional details on how to use this.\r\n\t\tbegin(timestamp, frameDelta);\r\n\r\n\t\t// Update the estimate of the frame rate, `fps`. Approximately every\r\n\t\t// second, the number of frames that occurred in that second are included\r\n\t\t// in an exponential moving average of all frames per second. This means\r\n\t\t// that more recent seconds affect the estimated frame rate more than older\r\n\t\t// seconds.\r\n\t\tif (timestamp > lastFpsUpdate + fpsUpdateInterval) {\r\n\t\t\t// Compute the new exponential moving average.\r\n\t\t\tfps =\r\n\t\t\t\t\t// Divide the number of frames since the last FPS update by the\r\n\t\t\t\t\t// amount of time that has passed to get the mean frames per second\r\n\t\t\t\t\t// over that period. This is necessary because slightly more than a\r\n\t\t\t\t\t// second has likely passed since the last update.\r\n\t\t\t\t\tfpsAlpha * framesSinceLastFpsUpdate * 1000 / (timestamp - lastFpsUpdate) +\r\n\t\t\t\t\t(1 - fpsAlpha) * fps;\r\n\r\n\t\t\t// Reset the frame counter and last-updated timestamp since their\r\n\t\t\t// latest values have now been incorporated into the FPS estimate.\r\n\t\t\tlastFpsUpdate = timestamp;\r\n\t\t\tframesSinceLastFpsUpdate = 0;\r\n\t\t}\r\n\t\t// Count the current frame in the next frames-per-second update. This\r\n\t\t// happens after the previous section because the previous section\r\n\t\t// calculates the frames that occur up until `timestamp`, and `timestamp`\r\n\t\t// refers to a time just before the current frame was delivered.\r\n\t\tframesSinceLastFpsUpdate++;\r\n\r\n\t\t/*\r\n\t\t * A naive way to move an object along its X-axis might be to write a main\r\n\t\t * loop containing the statement `obj.x += 10;` which would move the object\r\n\t\t * 10 units per frame. This approach suffers from the issue that it is\r\n\t\t * dependent on the frame rate. In other words, if your application is\r\n\t\t * running slowly (that is, fewer frames per second), your object will also\r\n\t\t * appear to move slowly, whereas if your application is running quickly\r\n\t\t * (that is, more frames per second), your object will appear to move\r\n\t\t * quickly. This is undesirable, especially in multiplayer/multi-user\r\n\t\t * applications.\r\n\t\t *\r\n\t\t * One solution is to multiply the speed by the amount of time that has\r\n\t\t * passed between rendering frames. For example, if you want your object to\r\n\t\t * move 600 units per second, you might write `obj.x += 600 * delta`, where\r\n\t\t * `delta` is the time passed since the last frame. (For convenience, let's\r\n\t\t * move this statement to an update() function that takes `delta` as a\r\n\t\t * parameter.) This way, your object will move a constant distance over\r\n\t\t * time. However, at low frame rates and high speeds, your object will move\r\n\t\t * large distances every frame, which can cause it to do strange things\r\n\t\t * such as move through walls. Additionally, we would like our program to\r\n\t\t * be deterministic. That is, every time we run the application with the\r\n\t\t * same input, we would like exactly the same output. If the time between\r\n\t\t * frames (the `delta`) varies, our output will diverge the longer the\r\n\t\t * program runs due to accumulated rounding errors, even at normal frame\r\n\t\t * rates.\r\n\t\t *\r\n\t\t * A better solution is to separate the amount of time simulated in each\r\n\t\t * update() from the amount of time between frames. Our update() function\r\n\t\t * doesn't need to change; we just need to change the delta we pass to it\r\n\t\t * so that each update() simulates a fixed amount of time (that is, `delta`\r\n\t\t * should have the same value each time update() is called). The update()\r\n\t\t * function can be run multiple times per frame if needed to simulate the\r\n\t\t * total amount of time passed since the last frame. (If the time that has\r\n\t\t * passed since the last frame is less than the fixed simulation time, we\r\n\t\t * just won't run an update() until the the next frame. If there is\r\n\t\t * unsimulated time left over that is less than our timestep, we'll just\r\n\t\t * leave it to be simulated during the next frame.) This approach avoids\r\n\t\t * inconsistent rounding errors and ensures that there are no giant leaps\r\n\t\t * through walls between frames.\r\n\t\t *\r\n\t\t * That is what is done below. It introduces a new problem, but it is a\r\n\t\t * manageable one: if the amount of time spent simulating is consistently\r\n\t\t * longer than the amount of time between frames, the application could\r\n\t\t * freeze and crash in a spiral of death. This won't happen as long as the\r\n\t\t * fixed simulation time is set to a value that is high enough that\r\n\t\t * update() calls usually take less time than the amount of time they're\r\n\t\t * simulating. If it does start to happen anyway, see `MainLoop.setEnd()`\r\n\t\t * for a discussion of ways to stop it.\r\n\t\t *\r\n\t\t * Additionally, see `MainLoop.setUpdate()` for a discussion of performance\r\n\t\t * considerations.\r\n\t\t *\r\n\t\t * Further reading for those interested:\r\n\t\t *\r\n\t\t * - http://gameprogrammingpatterns.com/game-loop.html\r\n\t\t * - http://gafferongames.com/game-physics/fix-your-timestep/\r\n\t\t * - https://gamealchemist.wordpress.com/2013/03/16/thoughts-on-the-javascript-game-loop/\r\n\t\t * - https://developer.mozilla.org/en-US/docs/Games/Anatomy\r\n\t\t */\r\n\t\tnumUpdateSteps = 0;\r\n\t\twhile (frameDelta >= simulationTimestep) {\r\n\t\t\tupdate(simulationTimestep);\r\n\t\t\tframeDelta -= simulationTimestep;\r\n\r\n\t\t\t/*\r\n\t\t\t * Sanity check: bail if we run the loop too many times.\r\n\t\t\t *\r\n\t\t\t * One way this could happen is if update() takes longer to run than\r\n\t\t\t * the time it simulates, thereby causing a spiral of death. For ways\r\n\t\t\t * to avoid this, see `MainLoop.setEnd()`. Another way this could\r\n\t\t\t * happen is if the browser throttles serving frames, which typically\r\n\t\t\t * occurs when the tab is in the background or the device battery is\r\n\t\t\t * low. An event outside of the main loop such as audio processing or\r\n\t\t\t * synchronous resource reads could also cause the application to hang\r\n\t\t\t * temporarily and accumulate not-yet-simulated time as a result.\r\n\t\t\t *\r\n\t\t\t * 240 is chosen because, for any sane value of simulationTimestep, 240\r\n\t\t\t * updates will simulate at least one second, and it will simulate four\r\n\t\t\t * seconds with the default value of simulationTimestep. (Safari\r\n\t\t\t * notifies users that the script is taking too long to run if it takes\r\n\t\t\t * more than five seconds.)\r\n\t\t\t *\r\n\t\t\t * If there are more updates to run in a frame than this, the\r\n\t\t\t * application will appear to slow down to the user until it catches\r\n\t\t\t * back up. In networked applications this will usually cause the user\r\n\t\t\t * to get out of sync with their peers, but if the updates are taking\r\n\t\t\t * this long already, they're probably already out of sync.\r\n\t\t\t */\r\n\t\t\tif (++numUpdateSteps >= 240) {\r\n\t\t\t\tpanic = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Render the screen. We do this regardless of whether update() has run\r\n\t\t * during this frame because it is possible to interpolate between updates\r\n\t\t * to make the frame rate appear faster than updates are actually\r\n\t\t * happening. See `MainLoop.setDraw()` for an explanation of how to do\r\n\t\t * that.\r\n\t\t *\r\n\t\t * We draw after updating because we want the screen to reflect a state of\r\n\t\t * the application that is as up-to-date as possible. (`MainLoop.start()`\r\n\t\t * draws the very first frame in the application's initial state, before\r\n\t\t * any updates have occurred.) Some sources speculate that rendering\r\n\t\t * earlier in the requestAnimationFrame callback can get the screen painted\r\n\t\t * faster; this is mostly not true, and even when it is, it's usually just\r\n\t\t * a trade-off between rendering the current frame sooner and rendering the\r\n\t\t * next frame later.\r\n\t\t *\r\n\t\t * See `MainLoop.setDraw()` for details about draw() itself.\r\n\t\t */\r\n\t\tdraw(frameDelta / simulationTimestep);\r\n\r\n\t\t// Run any updates that are not dependent on time in the simulation. See\r\n\t\t// `MainLoop.setEnd()` for additional details on how to use this.\r\n\t\tend(fps, panic);\r\n\r\n\t\tpanic = false;\r\n\t}\r\n\r\n// AMD support\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine(root.MainLoop);\r\n\t}\r\n// CommonJS support\r\n\telse if (typeof module === 'object' && module !== null && typeof module.exports === 'object') {\r\n\t\tmodule.exports = root.MainLoop;\r\n\t}\r\n\r\n})(this);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/MainLoop/mainloop.js\n// module id = 41\n// module chunks = 0","module.exports = \"#version 300 es\\r\\nlayout (location = 0) in vec3 aPos;\\r\\nlayout (location = 1) in vec2 aTexCoord;\\r\\n\\r\\nout vec2 TexCoord;\\r\\n\\r\\nuniform mat4 model;\\r\\nuniform mat4 viewProjection;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    gl_Position = viewProjection * model *  vec4(aPos,1.0f);\\r\\n    TexCoord = aTexCoord;\\r\\n}   \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/basic.vert\n// module id = 42\n// module chunks = 0","module.exports = \"#version 300 es\\r\\nprecision mediump  float;\\r\\nout vec4 FragColor;\\r\\n\\r\\nin vec2 TexCoord;\\r\\n\\r\\nuniform sampler2D texture1;\\r\\nuniform float ambient;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    FragColor = vec4(ambient * texture(texture1, TexCoord).xyz,1.0);\\r\\n\\r\\n    //FragColor = vec4(1, 0.7, 0.5, 1); // set all 4 vector values to 1.0\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/basic.frag\n// module id = 43\n// module chunks = 0","module.exports = \"#version 300 es\\r\\n\\r\\nuniform mat4 model_matrix;\\r\\nuniform mat4 view_matrix;\\r\\nuniform mat4 model_view_projection_matrix;\\r\\nuniform vec3 camera_pos;\\r\\n\\r\\nuniform bool tween_enabled;\\r\\nuniform float tween_factor;\\r\\n\\r\\nlayout (location = 0) in vec3 a_vertex;\\r\\nlayout (location = 1) in vec2 a_tex_coord;\\r\\nlayout (location = 2) in vec3 a_normal;\\r\\n\\r\\n\\r\\nout vec3 position;\\r\\nout vec2 tex_coord;\\r\\nout vec3 normal;\\r\\nout vec3 to_camera;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n//    vec3 new_normal = a_normal;\\r\\n//    vec3 new_vertex = a_vertex;\\r\\n//    if(tween_enabled)\\r\\n//\\t{\\r\\n//\\t\\tnew_normal = mix(a_normal,a_normal1,tween_factor);      \\r\\n//        new_vertex = mix(a_vertex,a_vertex1,tween_factor);\\r\\n//    }\\r\\n\\t\\r\\n\\tvec4 world_position = model_matrix * vec4(a_vertex, 1.0);\\r\\n\\r\\n\\tposition   = world_position.xyz;\\r\\n\\ttex_coord = a_tex_coord;\\r\\n\\tnormal    = mat3(transpose(inverse(model_matrix))) * a_normal;\\r\\n\\tto_camera  = normalize(camera_pos - world_position.xyz);\\r\\n\\r\\n\\tgl_Position = model_view_projection_matrix * vec4(a_vertex, 1.0);\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/basicmodel.vert\n// module id = 44\n// module chunks = 0","module.exports = \"#version 300 es\\r\\nprecision mediump  float;\\r\\n\\r\\nconst int LIGHT_COUNT = 8;\\r\\n\\r\\nstruct Material {\\r\\n\\r\\n    //Textures\\r\\n    bool is_texture_active[6];\\r\\n    sampler2D transparency_texture;\\r\\n    sampler2D emission_texture;\\r\\n    sampler2D ambient_texture;\\r\\n    sampler2D diffuse_texture;\\r\\n    sampler2D specular_texture;\\r\\n    sampler2D shininess_texture;\\r\\n            \\r\\n    //Colors\\r\\n    float transparency;\\r\\n    vec3 emission_colour;\\r\\n    vec3 ambient_colour;\\r\\n    vec3 diffuse_colour;\\r\\n    vec3 specular_colour;\\r\\n    float shininess;\\r\\n    int transparency_channel;\\r\\n    int shininess_channel;\\r\\n\\r\\n}; \\r\\nuniform Material material;\\r\\n\\r\\n\\r\\nstruct Light{\\r\\n    bool is_enabled;\\r\\n    vec4 position;\\r\\n    vec3 ambient;\\r\\n    vec3 diffuse;\\r\\n    vec3 specular;\\r\\n    vec3 attenuation;\\r\\n};\\r\\n\\r\\nuniform Light lights[LIGHT_COUNT];\\r\\n\\r\\nin vec3 position;\\r\\nin vec2 tex_coord;\\r\\nin vec3 normal;\\r\\nin vec3 to_camera;\\r\\n\\r\\nout vec4 FragColor;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n\\r\\n\\r\\n\\tvec3 normalized_normal    = normalize(normal);\\r\\n\\tvec3 normalized_to_camera = normalize(to_camera);\\r\\n\\r\\n\\tfloat transparency_on_texture = texture(material.transparency_texture, tex_coord)[material.transparency_channel];\\r\\n\\tvec3      emission_on_texture = texture(    material.emission_texture, tex_coord).rgb;\\r\\n\\tvec3       ambient_on_texture = texture(     material.ambient_texture, tex_coord).rgb;\\r\\n\\tvec3       diffuse_on_texture = texture(     material.diffuse_texture, tex_coord).rgb;\\r\\n\\tvec3      specular_on_texture = texture(    material.specular_texture, tex_coord).rgb;\\r\\n\\tfloat    shininess_on_texture = texture(   material.shininess_texture, tex_coord)[material.shininess_channel];\\r\\n\\r\\n\\tfloat transparency2    = material.transparency;\\r\\n\\tvec3  emission_surface = material.emission_colour;\\r\\n\\tvec3   ambient_surface =  material.ambient_colour;\\r\\n\\tvec3   diffuse_surface =  material.diffuse_colour;\\r\\n\\tvec3  specular_surface = material.specular_colour;\\r\\n\\tfloat shininess2       = material.shininess;\\r\\n\\r\\n\\tif(material.is_texture_active[0]) transparency2    *= transparency_on_texture;\\r\\n\\tif(material.is_texture_active[1]) emission_surface *=     emission_on_texture;\\r\\n\\tif(material.is_texture_active[2])  ambient_surface *=      ambient_on_texture;\\r\\n\\tif(material.is_texture_active[3])  diffuse_surface *=      diffuse_on_texture;\\r\\n\\tif(material.is_texture_active[4]) specular_surface *=     specular_on_texture;\\r\\n\\tif(material.is_texture_active[5]) shininess2       *=    shininess_on_texture;\\r\\n\\r\\n\\tvec3 basic_colour      = emission_surface;\\r\\n\\tvec4 seperate_specular = vec4(0.0, 0.0, 0.0, 0.0);\\r\\n\\r\\n\\t// calculate the effects of each light\\r\\n\\r\\n\\tfor(int i = 0; i < LIGHT_COUNT; i++)\\r\\n\\t\\tif(lights[i].is_enabled)\\r\\n\\t\\t{\\r\\n\\t\\t\\tvec3 light_direction_from;\\r\\n\\t\\t\\tfloat attenuation = 1.0;\\r\\n\\t\\t\\tif(lights[i].position.w == 0.0)\\r\\n\\t\\t\\t\\tlight_direction_from = normalize(lights[i].position.xyz);\\r\\n\\t\\t\\telse\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\tvec3 offset_position = lights[i].position.xyz - position;\\r\\n\\t\\t\\t\\tlight_direction_from = normalize(offset_position);\\r\\n\\t\\t\\t\\tfloat light_distance = length(offset_position);\\r\\n\\t\\t\\t\\tattenuation = 1.0 / (lights[i].attenuation.x +\\r\\n\\t\\t\\t\\t                  lights[i].attenuation.y * light_distance +\\r\\n\\t\\t\\t\\t                    lights[i].attenuation.z * light_distance * light_distance);\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t//  Phong-Blinn shading\\r\\n\\r\\n\\t\\t\\tvec3 half_angle_direction = normalize(normalized_to_camera + light_direction_from);\\r\\n\\r\\n\\t\\t\\tfloat  ambient_intensity = attenuation;\\r\\n\\t\\t\\tfloat  diffuse_intensity = attenuation *     max(0.0, dot(normalized_normal, light_direction_from));\\r\\n\\t\\t\\tfloat specular_intensity = attenuation * pow(max(0.0, dot(normalized_normal, half_angle_direction)), shininess2);\\r\\n\\r\\n\\t\\t\\tbasic_colour += ambient_surface * lights[i].ambient * ambient_intensity +\\r\\n\\t\\t\\t                diffuse_surface * lights[i].diffuse * diffuse_intensity;\\r\\n\\r\\n\\t\\t\\tvec3 specular_colour = specular_surface * lights[i].specular;\\r\\n//\\t\\t\\tif(is_seperate_specular)\\r\\n//\\t\\t\\t{\\r\\n//\\t\\t\\t\\tfloat specular_max = max(max(specular_colour.r, specular_colour.g), specular_colour.b);\\r\\n//\\t\\t\\t\\tif(specular_max > 0.0)\\r\\n//\\t\\t\\t\\t{\\r\\n//\\t\\t\\t\\t\\tspecular_intensity *= specular_max;\\r\\n//\\t\\t\\t\\t\\tspecular_colour    /= specular_max;\\r\\n//\\r\\n//\\t\\t\\t\\t\\tseperate_specular = vec4(seperate_specular.rgb * seperate_specular.a +\\r\\n//\\t\\t\\t\\t\\t                         specular_colour       * specular_intensity,\\r\\n//\\t\\t\\t\\t\\t                         seperate_specular.a + specular_intensity);\\r\\n//\\t\\t\\t\\t}\\r\\n//\\t\\t\\t\\t// else no specular highlight\\r\\n//\\t\\t\\t}\\r\\n//\\t\\t\\telse\\r\\n\\t\\t\\t\\tbasic_colour += specular_colour * specular_intensity;\\r\\n\\t\\t}\\r\\n\\r\\n\\t// calculate the final colour\\r\\n\\r\\n\\tif(seperate_specular.a > 1.0)\\r\\n\\t\\tseperate_specular.a = 1.0;\\r\\n\\r\\n\\tfloat basic_transparency = transparency2 * (1.0 - seperate_specular.a);\\r\\n\\r\\n\\tif(basic_transparency + seperate_specular.a <= 0.0)\\r\\n\\t\\tdiscard;\\r\\n\\r\\n\\tFragColor = vec4(basic_colour, basic_transparency) + seperate_specular;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/basicmodelmanylights.frag\n// module id = 45\n// module chunks = 0"],"sourceRoot":""}